import{_ as k,d as _,r as s,c as p,o as n,a as c,j as d,F as y,i as v,e as b,m as h,u as w,g as B,q as P,h as A,l as g}from"./global.properties-ieI6Xwik.js";import{A as $,f as F}from"./application-DnsIlr-S.js";import{H as T}from"./HeadingBlock-BfyZ0XzM.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";const C=_({props:{isSkippable:{type:Boolean,default:!1}},emits:["close"],setup:function(t,i){const o=B({isSubmitting:!1,isLoading:!0}),a=P([]),l=e=>{o.isSubmitting=!0,g().tips().with(e).sendTo("recommended/follow").then(m=>{i.emit("close")}).catch(m=>{o.isSubmitting=!1})};A(async()=>{await g().recommendations().getFrom("follow").then(e=>{a.value=e.data.data}),a.value.length||r(),o.isLoading=!1});const r=()=>{l({skip:!0})};return{state:o,followSuggestions:a,submitForm:()=>{l({skip:!1})},handleSkip:r}},components:{PrimaryPillButton:F,HeadingBlock:T,AvatarSmall:$}}),H={key:0,class:"flex justify-center py-12"},j={class:"mb-12"},L={class:"flex mb-3 justify-center -space-x-3"},N={class:"flex justify-between"};function V(t,i,o,a,l,r){const e=s("PrimarySpinAnimation"),m=s("AvatarSmall"),S=s("HeadingBlock"),f=s("PrimaryPillButton");return t.state.isLoading?(n(),p("div",H,[c(e)])):(n(),p("form",{key:1,class:"block",onSubmit:i[0]||(i[0]=w((...u)=>t.submitForm&&t.submitForm(...u),["prevent"]))},[d("div",j,[d("div",L,[(n(!0),p(y,null,v(t.followSuggestions,u=>(n(),b(m,{avatarSrc:u.avatar_url},null,8,["avatarSrc"]))),256))]),c(S,{title:t.$t("tips.onboarding_follow.title"),caption:t.$t("tips.onboarding_follow.caption")},null,8,["title","caption"])]),d("div",N,[c(f,{loading:t.state.isSubmitting,type:"submit",buttonText:t.$t("tips.onboarding_follow.yes_follow"),buttonSize:"lm"},null,8,["loading","buttonText"]),!t.state.isSubmitting&&t.isSkippable?(n(),b(f,{key:0,onClick:t.handleSkip,buttonText:t.$t("labels.no_skip_it"),buttonSize:"lm",buttonRole:"marginalDanger"},null,8,["onClick","buttonText"])):h("",!0)])],32))}const R=k(C,[["render",V]]);export{R as default};
