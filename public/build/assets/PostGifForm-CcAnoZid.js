import{g as d}from"./index-BiajNNMq.js";import{k as y,g as P}from"./application-DEz9sPnz.js";import{_ as h}from"./global.properties-DKM1fd6s.js";import{k as g,c as s,d as a,e as u,i as f,q as b,s as i,F as w,f as $,v as k,r as m,o as x}from"./vendor-20TtR0Rd.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";const B=g({props:{placeholder:{type:String,default:""}},emit:["input"],setup:function(t,r){return{inputHandler:o=>{r.emit("input",o.target.value)}}}}),C=["placeholder"];function G(t,r,o,p,c,e){return a(),s("input",{onInput:r[0]||(r[0]=(...n)=>t.inputHandler&&t.inputHandler(...n)),type:"text",class:"px-3 placeholder:text-center leading-normal py-1.5 w-full bg-fill-tr border border-transparent smoothing hover:ring-1 ring-fill-pr outline-hidden rounded-lg text-lab-pr placeholder:text-par-n placeholder:text-lab-sc",placeholder:t.placeholder},null,40,C)}const L=h(B,[["render",G]]),S=g({emits:["select"],setup:function(t,r){const o=m([]),p=m(!0),c=e=>({id:e.id,url:e.images.fixed_width_small_still.url,is_loading:!0,gif:{preview:{url:e.images.preview_gif.url},original:{url:e.images.original.webp}}});return x(async()=>{try{let e=await d().getTrending();o.value=e.data.map(c),setTimeout(()=>{p.value=!1},300)}catch{}}),{initialLoading:p,gifs:o,searchGifs:async e=>{try{let n=await d().limit(12).search(e);o.value=n.data.map(c)}catch{}},selectGif:e=>{r.emit("select",e)}}},components:{PrimaryTextButton:P,PanelSearchBar:L,PopupPanel:y}}),q={class:"popup-card"},T={class:"p-2"},j={key:0,class:"w-full h-16 flex items-center justify-center border-t border-fill-pr"},F={key:1,class:"max-h-96 overflow-y-auto"},H={class:"grid grid-cols-3 gap-0.5"},N=["onClick"],V={key:0,class:"absolute inset-0 w-full aspect-square h-full object-cover overflow-hidden"},z=["onLoad","src"];function A(t,r,o,p,c,e){const n=u("PanelSearchBar"),_=u("PopupPanel");return a(),s("div",q,[f(_,null,{default:b(()=>[i("div",T,[f(n,{onInput:t.searchGifs,placeholder:t.$t("labels.search_gifs")},null,8,["onInput","placeholder"])]),t.initialLoading?(a(),s("div",j,r[0]||(r[0]=[i("span",{class:"colibri-primary-animation"},null,-1)]))):(a(),s("div",F,[i("div",H,[(a(!0),s(w,null,$(t.gifs,l=>(a(),s("div",{onClick:v=>t.selectGif(l),key:l.id,class:"relative overflow-hidden cursor-pointer group"},[l.is_loading?(a(),s("div",V,r[1]||(r[1]=[i("div",{class:"skeleton-square size-full"},null,-1)]))):k("",!0),i("img",{onLoad:v=>l.is_loading=!1,src:l.url,loading:"lazy",class:"w-full aspect-square h-full object-cover smoothing bg-fill-tr hover:scale-105",alt:"Image"},null,40,z)],8,N))),128))])]))]),_:1})])}const W=h(S,[["render",A]]);export{W as default};
