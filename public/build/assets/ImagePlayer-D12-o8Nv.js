import{k as w,e as N,c as s,d as o,v as f,s as l,y as I,i as b,j as x,x as v,t as p,F as P,r as u,l as d,o as S,G as C}from"./vendor-20TtR0Rd.js";import{j as c}from"./application-DEz9sPnz.js";import{_ as L}from"./global.properties-DKM1fd6s.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";const $=w({props:{albumImages:{type:Array,default:[]}},emits:["close"],setup:function(e){const t=u("w-full min-w-content"),n=u(null),a=u(0),m=u(!1),g=()=>{r.value&&(a.value-=1)},i=()=>{h.value&&(a.value+=1)},r=d(()=>e.albumImages[a.value-1]!==void 0),h=d(()=>e.albumImages[a.value+1]!==void 0);return S(()=>{document.body.classList.add("overflow-hidden"),n.value&&(n.value.onload=()=>{const y=n.value.naturalWidth,k=n.value.naturalHeight;y<k&&(t.value="h-full")},n.value.onerror=()=>{m.value=!0}),c("left,up",g),c("right,down",i)}),C(()=>{document.body.classList.remove("overflow-hidden"),n.value&&(n.value.onload=null,n.value.onerror=null),c.unbind("left,up"),c.unbind("right,down")}),{TS:{imageLoadFailed:m.value},currentImageRef:n,currentImageGrow:t,albumImages:e.albumImages,currentImageSource:d(()=>e.albumImages[a.value]??null),currentImageIndex:a,slideNext:i,slidePrev:g,hasPrev:r,hasNext:h,imagesLength:d(()=>e.albumImages.length)}}}),z={class:"size-6 text-bg-sc opacity-40 -translate-x-px"},F={key:0,class:"h-full flex items-center"},G={key:0,class:"text-center text-par-s text-red-900"},V=["src"],j={class:"size-6 text-bg-sc opacity-40 translate-x-px"},B={class:"fixed top-6 left-6 2xl:top-8 2xl:right-8 inline-block leading-4"},R={class:"text-par-s text-white opacity-60"};function T(e,t,n,a,m,g){const i=N("SvgIcon");return o(),s(P,null,[e.hasPrev?(o(),s("button",{key:0,onClick:t[0]||(t[0]=I((...r)=>e.slidePrev&&e.slidePrev(...r),["stop"])),class:"outline-0 cursor-pointer size-12 inline-flex-center rounded-full bg-fill-pr hover:bg-fill-tr fixed top-half left-6 -translate-y-1/2"},[l("div",z,[b(i,{name:"chevron-left"})])])):f("",!0),l("div",{onClick:t[1]||(t[1]=r=>e.$emit("close")),class:"select-none flex px-30 py-0 items-center justify-center h-full"},[e.currentImageSource?(o(),s("div",F,[l("div",{class:x(["block select-none max-w-lightbox-content bg-bg-pr",e.currentImageGrow])},[e.TS.imageLoadFailed?(o(),s("div",G,t[3]||(t[3]=[v(" ðŸ˜¬ "),l("br",null,null,-1),v(" Unable to load this image. "),l("br",null,null,-1),v(" Please check your internet connection and try again. ")]))):(o(),s("img",{ref:"currentImageRef",class:x(["shadow-md",e.currentImageGrow]),src:e.currentImageSource,key:e.currentImageIndex,alt:"Image"},null,10,V))],2)])):f("",!0)]),e.hasNext?(o(),s("button",{key:1,onClick:t[2]||(t[2]=I((...r)=>e.slideNext&&e.slideNext(...r),["stop"])),class:"outline-0 cursor-pointer size-12 inline-flex-center rounded-full bg-fill-pr hover:bg-fill-tr fixed top-half right-6 -translate-y-1/2"},[l("div",j,[b(i,{name:"chevron-right"})])])):f("",!0),l("div",B,[l("span",R,p(e.$t("labels.images"))+" "+p(e.currentImageIndex+1)+"/"+p(e.imagesLength),1)])],64)}const q=L($,[["render",T]]);export{q as default};
