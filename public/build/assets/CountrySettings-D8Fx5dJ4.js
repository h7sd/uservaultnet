import{k as v,c,s as o,i as a,e as r,t as m,q as S,y as T,F as h,b as P,r as p,o as $,d as u,x as k}from"./vendor-20TtR0Rd.js";import{_ as V,c as d}from"./global.properties-DKM1fd6s.js";import{a as B,f as D}from"./application-DEz9sPnz.js";import{S as F}from"./SelectInput-DFVgUc6B.js";import{S as I}from"./SectionToggle-BmUma1X-.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./listbox-DUieglFY.js";import"./form-C9UNAZed.js";const w=v({setup:function(){const t=P({isLoading:!0,isSubmitting:!1}),e=p([]),n=p({country:null,country_privacy:null});return $(async()=>{await d().userSettings().getFrom("personal/country").then(s=>{let l=s.data.data;e.value=l.countries,n.value.country=l.country,n.value.country_privacy=l.privacy_settings.country_privacy,t.isLoading=!1})}),{countries:e,state:t,formData:n,submitForm:async()=>{t.isSubmitting===!1&&(t.isSubmitting=!0,await d().userSettings().with(n.value).putTo("personal/country/update").then(s=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(s=>{s.response&&toastError(s.response.data.message)}),t.isSubmitting=!1)}}},components:{PrimaryPillButton:D,SelectInput:F,PageTitle:B,SectionToggle:I}}),C={class:"mb-8"},N={key:0,class:"block"},x={class:"mb-8"},A={class:"text-par-m text-lab-sc"},L={class:"mb-10"},E={class:"mb-10"},M={class:"block mb-16"},U={key:1,class:"block"},q={class:"flex-center h-96"};function j(t,e,n,s,l,z){const g=r("PageTitle"),y=r("SelectInput"),f=r("SectionToggle"),_=r("PrimaryPillButton"),b=r("PrimarySpinAnimation");return u(),c(h,null,[o("div",C,[a(g,{hasBack:!0,titleText:t.$t("settings.country_settings")},null,8,["titleText"])]),t.state.isLoading?(u(),c("div",U,[o("div",q,[a(b)])])):(u(),c("div",N,[o("div",x,[o("h6",A,m(t.$t("settings.forms.country.page_desc")),1)]),o("form",{onSubmit:e[2]||(e[2]=T((...i)=>t.submitForm&&t.submitForm(...i),["prevent"]))},[o("div",L,[a(y,{isSearchable:!0,modelValue:t.formData.country,"onUpdate:modelValue":e[0]||(e[0]=i=>t.formData.country=i),labelText:t.$t("settings.forms.personal_info.country"),options:t.countries},{feedbackInfo:S(()=>[k(m(t.$t("settings.forms.country.country_helper")),1)]),_:1},8,["modelValue","labelText","options"])]),o("div",E,[a(f,{iconName:"shield-01",modelValue:t.formData.country_privacy,"onUpdate:modelValue":e[1]||(e[1]=i=>t.formData.country_privacy=i),captionText:t.$t("settings.forms.country.privacy_helper"),titleText:t.$t("labels.privacy")},null,8,["modelValue","captionText","titleText"])]),o("div",M,[a(_,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const et=V(w,[["render",j]]);export{et as default};
