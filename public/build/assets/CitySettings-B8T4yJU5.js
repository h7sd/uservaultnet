import{k as _,c as l,s,i as a,e as n,t as m,q as b,y as T,F as v,b as h,r as S,o as P,d as c,x as $}from"./vendor-20TtR0Rd.js";import{a as k,f as V}from"./application-DEz9sPnz.js";import{T as x}from"./TextInput-Bad2IYlx.js";import{S as B}from"./SectionToggle-BmUma1X-.js";import{_ as D,c as p}from"./global.properties-DKM1fd6s.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";const F=_({setup:function(){const t=h({isLoading:!0,isSubmitting:!1}),e=S({city:"",city_privacy:!1});return P(async()=>{await p().userSettings().getFrom("personal/city").then(i=>{let r=i.data.data;e.value.city=r.city,e.value.city_privacy=r.privacy_settings.city_privacy,t.isLoading=!1})}),{formData:e,state:t,submitForm:async()=>{t.isSubmitting===!1&&(t.isSubmitting=!0,await p().userSettings().with(e.value).putTo("personal/city/update").then(i=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(i=>{i.response&&toastError(i.response.data.message)}),t.isSubmitting=!1)}}},components:{PrimaryPillButton:V,TextInput:x,PageTitle:k,SectionToggle:B}}),I={class:"mb-8"},w={key:0,class:"block"},C={class:"mb-8"},L={class:"text-par-m text-lab-sc"},N={class:"mb-10"},A={class:"mb-10"},E={class:"block mb-16"},M={key:1,class:"block"},U={class:"flex-center h-96"};function q(t,e,i,r,j,z){const d=n("PageTitle"),u=n("TextInput"),y=n("SectionToggle"),g=n("PrimaryPillButton"),f=n("PrimarySpinAnimation");return c(),l(v,null,[s("div",I,[a(d,{hasBack:!0,titleText:t.$t("settings.city_settings")},null,8,["titleText"])]),t.state.isLoading?(c(),l("div",M,[s("div",U,[a(f)])])):(c(),l("div",w,[s("div",C,[s("h6",L,m(t.$t("settings.forms.city.page_desc")),1)]),s("form",{onSubmit:e[2]||(e[2]=T((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[s("div",N,[a(u,{textLength:62,modelValue:t.formData.city,"onUpdate:modelValue":e[0]||(e[0]=o=>t.formData.city=o),placeholder:t.$t("settings.forms.city.city_placeholder"),labelText:t.$t("settings.forms.city.city")},{feedbackInfo:b(()=>[$(m(t.$t("settings.forms.city.city_helper")),1)]),_:1},8,["modelValue","placeholder","labelText"])]),s("div",A,[a(y,{iconName:"shield-01",modelValue:t.formData.city_privacy,"onUpdate:modelValue":e[1]||(e[1]=o=>t.formData.city_privacy=o),captionText:t.$t("settings.forms.city.privacy_helper"),titleText:t.$t("labels.privacy")},null,8,["modelValue","captionText","titleText"])]),s("div",E,[a(g,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const Z=D(F,[["render",q]]);export{Z as default};
