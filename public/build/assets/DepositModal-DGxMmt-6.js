import{D as M,k as v,c as d,d as l,s,j as P,t as g,e as r,p as c,q as u,i,y as S,x as T,F as D,f as L,b as f,l as b,o as B}from"./vendor-20TtR0Rd.js";import{u as V}from"./WalletIndex-C1C6eX8a.js";import{M as z,f as F,l as N}from"./application-DEz9sPnz.js";import{_ as p}from"./global.properties-DKM1fd6s.js";import{M as E}from"./ModalTextInput-C-24MJhL.js";import"./ContentContainer-D1jAmZDw.js";import"./FluidEmptyState-DExNov7G.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";const H={};function I(e,t){return t[0]||(t[0]=M('<div class="flex justify-between max-w-full overflow-hidden mb-4 p-4 border-fill-sc border-b"><span class="skeleton h-4 w-24"></span><span class="skeleton h-4 w-12"></span></div><div class="block p-4"><span class="skeleton h-4 w-24 mb-4"></span><span class="skeleton h-8 w-full mb-2"></span><span class="skeleton h-2 w-half"></span></div><div class="flex gap-2 p-4"><span class="skeleton-circle size-14 mb-4"></span><span class="skeleton-circle size-14 mb-4"></span><span class="skeleton-circle size-14 mb-4"></span><span class="skeleton-circle size-14 mb-4"></span></div><div class="block p-4"><span class="skeleton-circle h-8 rounded-full w-28 mb-2"></span></div>',4))}const q=p(H,[["render",I]]),x=v({props:{logoUrl:{type:String,required:!0},providerName:{type:String,required:!0},isActive:{type:Boolean,default:!1}}}),U={class:"cursor-pointer"},A={class:"flex flex-col items-center"},j=["src"],R={class:"block text-center text-par-s text-lab-pr2 truncate max-w-full"};function W(e,t,n,m,a,_){return l(),d("div",U,[s("div",A,[s("div",{class:P(["size-full aspect-square rounded-full overflow-hidden bg-fill-qt mb-1 ring-2",[e.isActive?"ring-brand-900":"ring-fill-pr"]])},[s("img",{class:"size-full",src:e.logoUrl,alt:"Img"},null,8,j)],2),s("span",R,g(e.providerName),1)])])}const G=p(x,[["render",W]]),J=v({emits:["close"],setup:function(){const e=f({isLoading:!0,isSubmitting:!1,formErrors:[]}),t=f({amount:"",provider:""}),n=V(),m=b(()=>n.paymentProviders);return B(async()=>{await n.fetchPaymentProviders(),e.isLoading=!1}),{state:e,paymentProviders:m,formData:t,walletCurrency:n.walletData.currency,isValidForm:b(()=>!(!t.amount||!t.provider)),submitForm:async()=>{e.isSubmitting||(e.isSubmitting=!0,await n.createDepositPayment(t).then(a=>{a.data.data.is_hosted_checkout&&(window.location.href=a.data.data.checkout_url)}).catch(a=>{a.response&&(a.response.data.errors.amount?e.formErrors=a.response.data.errors.amount:a.response.data.errors.provider&&(e.formErrors=a.response.data.errors.provider))}),e.isSubmitting=!1)}}},components:{ContentModal:N,PrimaryPillButton:F,ModalHeader:z,LoadingSkeleton:q,ModalTextInput:E,ProviderCircleCard:G}}),K={key:0},O={key:1,class:"block"},Q={class:"block p-4"},X={class:"mb-4"},Y={class:"grid grid-cols-8 gap-2 mb-12"},Z={class:"block"},ee={class:"mb-2"},te=["innerHTML"];function oe(e,t,n,m,a,_){const k=r("ModalHeader"),h=r("LoadingSkeleton"),$=r("ModalTextInput"),y=r("ProviderCircleCard"),w=r("PrimaryPillButton"),C=r("ContentModal");return l(),c(C,{onClose:t[3]||(t[3]=o=>e.$emit("close"))},{default:u(()=>[i(k,{modalTitle:e.$t("wallet.deposit_money")},null,8,["modalTitle"]),e.state.isLoading?(l(),d("div",K,[i(h)])):(l(),d("div",O,[s("form",{onSubmit:t[2]||(t[2]=S((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[s("div",Q,[s("div",X,[i($,{labelText:e.$t("wallet.deposit_amount"),placeholder:`0, 00 ${e.walletCurrency.symbol}`,modelValue:e.formData.amount,"onUpdate:modelValue":t[0]||(t[0]=o=>e.formData.amount=o),name:e.$t("wallet.deposit_amount"),inputType:"number",inputErrors:e.state.formErrors,onClear:t[1]||(t[1]=o=>e.formData.amount=""),textLength:e.$embedder("config.wallet.deposit.max_amount"),hasFeedback:!0},{feedbackInfo:u(()=>[T(g(e.$t("wallet.deposit_amount_helper")),1)]),_:1},8,["labelText","placeholder","modelValue","name","inputErrors","textLength"])]),s("div",Y,[(l(!0),d(D,null,L(e.paymentProviders,o=>(l(),c(y,{isActive:e.formData.provider===o.id,key:o.id,providerName:o.name,onClick:se=>e.formData.provider=o.id,logoUrl:o.logo},null,8,["isActive","providerName","onClick","logoUrl"]))),128))]),s("div",Z,[s("div",ee,[i(w,{buttonType:"submit",buttonSize:"lm",disabled:!e.isValidForm,loading:e.state.isSubmitting,buttonText:e.$t("labels.continue")},null,8,["disabled","loading","buttonText"])]),s("p",{class:"text-par-s text-lab-sc",innerHTML:e.$t("wallet.tos_agree",{tos_link:e.$getRoute("terms_of_use")})},null,8,te)])])],32)]))]),_:1})}const ve=p(J,[["render",oe]]);export{ve as default};
