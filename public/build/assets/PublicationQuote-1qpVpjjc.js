import{_ as u,d as m,c as s,o as t,j as o,r,F as b,i as $,a as l,t as c,e as _,w as S,m as P,q as g,h as I,b as p,P as k}from"./global.properties-ieI6Xwik.js";import j from"./AvatarExtraSmall-CzXHXk-G.js";import{P as L}from"./ProgressiveImageLoader-DUluSfqC.js";import V from"./VideoDurationTime-CY2-hNg2.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./SpinnerIcon-D3U9frcO.js";const q=m({props:{postContent:{type:String,default:""}}}),A={class:"block"},F=["innerHTML"];function U(e,d,a,h,f,v){return t(),s("div",A,[o("div",{class:"line-clamp-[7] markdown-text leading-5 text-lab-pr2 text-par-n font-normal markdown-text break-words",innerHTML:e.$mdInline(e.postContent)},null,8,F)])}const z=u(q,[["render",U]]),H=m({props:{postMedia:{type:Object,required:!0}},components:{ProgressiveImageLoader:L}}),E={class:"overflow-hidden border-t border-bord-card"},O={key:0,class:"grid grid-cols-2 gap-0.5"},B={key:1,class:"block"};function R(e,d,a,h,f,v){const i=r("ProgressiveImageLoader");return t(),s("div",E,[e.postMedia.length>=2?(t(),s("div",O,[(t(!0),s(b,null,$(e.postMedia.slice(0,2),(n,y)=>(t(),s("div",{class:"aspect-square overflow-hidden",key:n.id},[l(i,{base64Image:n.lqip_base64,src:n.source_url,class:"block size-full object-cover",alt:"Image"},null,8,["base64Image","src"])]))),128))])):(t(),s("div",B,[l(i,{base64Image:e.postMedia[0].lqip_base64,src:e.postMedia[0].source_url,class:"block size-full object-cover",alt:"Image"},null,8,["base64Image","src"])]))])}const N=u(H,[["render",R]]),G=m({props:{postMedia:{type:Object,required:!0}},components:{VideoDurationTime:V}}),J={class:"overflow-hidden border-t border-bord-card"},K={class:"h-full"},W=["src"],X={class:"absolute bottom-4 right-4 inline-block"};function Y(e,d,a,h,f,v){const i=r("VideoDurationTime");return t(),s("div",J,[(t(!0),s(b,null,$(e.postMedia,n=>(t(),s("div",{class:"bg-black flex justify-center rounded-xs overflow-hidden relative aspect-video",key:n.id},[o("div",K,[o("img",{src:n.thumbnail_url,class:"block h-full",alt:"Image"},null,8,W)]),o("div",X,[l(i,{videoDuration:n.metadata.duration},null,8,["videoDuration"])])]))),128))])}const Z=u(G,[["render",Y]]),ee=m({props:{postMedia:{type:Object,required:!0}}}),te={class:"overflow-hidden border-t border-bord-card"},oe={class:"size-8 shrink-0"},se={class:"flex-1 overflow-hidden mx-1"},ne={class:"text-lab-pr2 text-par-s font-medium mb-0.5 truncate"},ae={class:"text-cap-l text-lab-sc"},re={class:"text-par-s text-lab-sc shrink-0"};function ie(e,d,a,h,f,v){const i=r("FileFormatIcon");return t(),s("div",te,[(t(!0),s(b,null,$(e.postMedia,n=>(t(),s("div",{key:n.id,class:"flex items-center justify-between p-2.5"},[o("div",oe,[l(i,{extension:"mp3"})]),o("div",se,[o("h4",ne,c(n.metadata.file_name),1),o("p",ae,c(e.$filters.fileSize(n.size)),1)]),o("div",re,c(e.$filters.mediaDuration(n.metadata.duration)),1)]))),128))])}const de=u(ee,[["render",ie]]),le=m({props:{postMedia:{type:Object,required:!0}}}),ce={class:"overflow-hidden border-t border-bord-card"},pe={class:"size-8 shrink-0"},ue={class:"flex-1 overflow-hidden mx-1"},_e={class:"text-lab-pr2 text-par-s font-medium mb-0.5 truncate"},me={class:"text-cap-l text-lab-sc"};function he(e,d,a,h,f,v){const i=r("FileFormatIcon");return t(),s("div",ce,[(t(!0),s(b,null,$(e.postMedia,n=>(t(),s("div",{key:n.id,class:"flex items-center justify-between p-2.5"},[o("div",pe,[l(i,{extension:n.extension},null,8,["extension"])]),o("div",ue,[o("h4",_e,c(n.metadata.file_name),1),o("p",me,c(e.$filters.fileSize(n.size)),1)])]))),128))])}const fe=u(le,[["render",he]]),ve={},be={class:"cursor-pointer hover:text-lab-pr smoothing text-center text-lab-pr3 text-par-s overflow-hidden border-t border-bord-card p-4"};function $e(e,d){return t(),s("div",be,c(e.$t("button.view_this_poll")),1)}const Pe=u(ve,[["render",$e]]),ye=m({props:{quotedPost:{type:Object,required:!0}},setup:function(e){const d=g(!0),a=g(e.quotedPost);return I(()=>{d.value=!1}),{postData:a,isLoading:d,PostTypeUtils:k,postUserCaption:p(()=>`${a.value.relations.user.caption} Â· ${a.value.date.time_ago}`),postHasContent:p(()=>a.value.content.length),postContent:p(()=>a.value.content),postHasMedia:p(()=>a.value.relations.media.length),postMedia:p(()=>a.value.relations.media),postHasPoll:p(()=>k.isPoll(a.value.type)),postRoute:p(()=>({name:"publication_index",params:{hash_id:a.value.hash_id}}))}},components:{AvatarExtraSmall:j,QuotedPostText:z,QuotedPostImage:N,QuotedPostVideo:Z,QuotedPostAudio:de,QuotedPostDocument:fe,QuotedPostPoll:Pe}}),ge={class:"overflow-hidden border smoothing border-bord-card rounded-2xl"},ke={key:0,class:"flex justify-center py-8"},Me={class:"px-4 pt-4"},xe={class:"flex gap-2 items-center"},Qe={class:"shrink-0"},De={class:"flex-1 overflow-hidden"},we={class:"flex items-center gap-2"},Te={class:"text-par-n font-semibold text-lab-pr2 truncate"},Ce={class:"flex items-center gap-1"},Se={class:"shrink-0"},Ie={class:"size-icon-x-small inline-block text-brand-900"},je={class:"text-par-s text-lab-sc truncate"},Le={key:0,class:"mt-3"},Ve={key:0,class:"mt-3"};function qe(e,d,a,h,f,v){const i=r("PrimarySpinAnimation"),n=r("AvatarExtraSmall"),y=r("SvgIcon"),M=r("QuotedPostText"),x=r("QuotedPostImage"),Q=r("QuotedPostVideo"),D=r("QuotedPostAudio"),w=r("QuotedPostDocument"),T=r("QuotedPostPoll"),C=r("RouterLink");return t(),_(C,{to:e.postRoute,target:"_blank"},{default:S(()=>[o("div",ge,[e.isLoading?(t(),s("div",ke,[l(i)])):(t(),s(b,{key:1},[o("div",Me,[o("div",xe,[o("div",Qe,[l(n,{avatarSrc:e.postData.relations.user.avatar_url},null,8,["avatarSrc"])]),o("div",De,[o("div",we,[o("h3",Te,[o("span",Ce,[o("span",Se,c(e.postData.relations.user.name),1),o("span",Ie,[l(y,{name:"check-verified-02"})])])]),o("p",je,c(e.postUserCaption),1)])])]),e.postHasContent?(t(),s("div",Le,[l(M,{postContent:e.postContent},null,8,["postContent"])])):P("",!0)]),e.postHasMedia||e.postHasPoll?(t(),s("div",Ve,[e.PostTypeUtils.isImage(e.postData.type)||e.PostTypeUtils.isGif(e.postData.type)?(t(),_(x,{key:0,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isVideo(e.postData.type)?(t(),_(Q,{key:1,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isAudio(e.postData.type)?(t(),_(D,{key:2,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isDocument(e.postData.type)?(t(),_(w,{key:3,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isPoll(e.postData.type)?(t(),_(T,{key:4})):P("",!0)])):P("",!0)],64))])]),_:1},8,["to"])}const Oe=u(ye,[["render",qe]]);export{Oe as default};
