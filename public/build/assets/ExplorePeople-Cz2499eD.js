import{u as B,c as l,s as m,d as a,k as E,p,q as r,r as F,b as M,l as q,o as N,w as V,e as o,i as n,x as S,t as C,F as d,f as u,v as x}from"./vendor-20TtR0Rd.js";import{c as A,_ as k}from"./global.properties-DKM1fd6s.js";import{u as G}from"./index-B5kc-12x.js";import{A as Q,S as R,T as z}from"./AdGridItem-Caaf0ZJU.js";import{P as D,a as j}from"./PeopleListItemSkeleton-CIelLh1-.js";import{F as U}from"./FluidEmptyState-DExNov7G.js";import{S as H}from"./SearchBar-ljxjEWz7.js";import{T as J}from"./TimelineCallout-DsRcAxDP.js";import{p as K}from"./application-DEz9sPnz.js";import{T as O}from"./TabsLink-HnUGLLWk.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";const W=B("explore_people_store",{state:function(){return{people:[],filter:{query:"",page:1}}},actions:{makeLoadRequest:async function(){return await A().explore().with({filter:this.filter}).sendTo("people")},fetchPeople:async function(){await this.makeLoadRequest().then(e=>{this.people=e.data.data})},loadMorePeople:async function(){return await this.makeLoadRequest().then(e=>{let t=e.data.data;return t.length?(this.people=this.people.concat(t),!0):!1}).catch(()=>!1)},getLastPersonId:function(){return this.people.at(-1).id},resetFilter:function(){this.filter={query:"",page:1}}}}),X={},Y={class:"border-t border-bord-pr"};function Z(e,t){return a(),l("div",Y,t[0]||(t[0]=[m("div",{class:"flex justify-center my-4"},[m("div",{class:"colibri-primary-animation"})],-1)]))}const ee=k(X,[["render",Z]]),te=E({setup:function(){const e=F(""),t=M({noMoreContent:!1,isLoadingContent:!1,isEmpty:!1,isLoading:!0,isSearchLoading:!1}),c=q(()=>s.people),s=W();N(async()=>{s.resetFilter(),await s.fetchPeople(),debounce(()=>{c.value.length||(t.isEmpty=!0)},500),t.isLoading=!1}),V(e,()=>{s.filter.query=e.value,debounce(async()=>{await f()},500)});const f=async()=>{s.filter.page=1,t.noMoreContent=!1,t.isSearchLoading=!0,await s.fetchPeople(),t.isSearchLoading=!1};return G({callback:()=>{debounce(async()=>{!t.isLoadingContent&&!t.noMoreContent&&c.value.length&&(t.isLoadingContent=!0,s.filter.page+=1,t.noMoreContent=!await s.loadMorePeople(),t.isLoadingContent=!1)},200)}}),{people:c,state:t,peopleSearchQuery:e}},components:{TimelineContainer:z,SidedContentLayout:R,PeopleListItem:j,AdGridItem:Q,SearchBar:H,TimelineCallout:J,FluidEmptyState:U,PeopleListItemSkeleton:D,InfinityScrollContentLoader:ee,ContentTabs:K,TabsLink:O}}),oe={class:"sticky top-0 popup-background-tr z-10"},ne={class:"p-4"},ae={key:1,class:"block"};function se(e,t,c,s,f,ie){const y=o("TabsLink"),g=o("ContentTabs"),h=o("Border"),b=o("SearchBar"),T=o("TimelineCallout"),_=o("PeopleListItemSkeleton"),L=o("FluidEmptyState"),I=o("PeopleListItem"),P=o("InfinityScrollContentLoader"),$=o("TimelineContainer"),w=o("AdGridItem"),v=o("SidedContentLayout");return a(),p(v,null,{content:r(()=>[n($,null,{default:r(()=>[m("div",oe,[n(g,{cols:2},{default:r(()=>[n(y,{link:{name:"explore_posts"}},{default:r(()=>[S(C(e.$t("labels.explore")),1)]),_:1}),n(y,{link:{name:"explore_people"}},{default:r(()=>[S(C(e.$t("labels.people")),1)]),_:1})]),_:1}),n(h),m("div",ne,[n(b,{modelValue:e.peopleSearchQuery,"onUpdate:modelValue":t[0]||(t[0]=i=>e.peopleSearchQuery=i),modelModifiers:{lazy:!0},placeholder:e.$t("labels.search")},null,8,["modelValue","placeholder"])])]),n(T,{iconName:"star-04",iconType:"solid",title:e.$t("info.follow_authors.title"),desc:e.$t("info.follow_authors.desc")},null,8,["title","desc"]),n(h),e.state.isLoading?(a(),l(d,{key:0},u(15,i=>n(_,{key:i})),64)):e.state.isEmpty?(a(),p(L,{key:1,text:e.$t("empty_state.empty"),iconName:"users-03",iconType:"line"},null,8,["text"])):(a(),l(d,{key:2},[e.state.isSearchLoading?(a(),l(d,{key:0},u(15,i=>n(_,{key:i})),64)):(a(),l("div",ae,[e.people.length?(a(!0),l(d,{key:0},u(e.people,i=>(a(),p(I,{key:i.id,userData:i},null,8,["userData"]))),128)):(a(),p(L,{key:1,text:e.$t("empty_state.explore.people.filter"),iconName:"search-lg",iconType:"solid"},null,8,["text"]))])),e.state.isLoadingContent?(a(),p(P,{key:2})):x("",!0)],64))]),_:1})]),sidebar:r(()=>[n(w)]),_:1})}const ge=k(te,[["render",se]]);export{ge as default};
