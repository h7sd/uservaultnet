import{_,d as b,c as r,j as s,a,r as n,t as m,w as T,u as v,F as h,g as S,q as P,h as $,l as p,o as c,p as k}from"./global.properties-ieI6Xwik.js";import{a as V,f as B}from"./application-DnsIlr-S.js";import{T as x}from"./TextInput-CE1Bv1lI.js";import{S as D}from"./SectionToggle-DEryNKJ4.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";const w=b({setup:function(){const t=S({isLoading:!0,isSubmitting:!1}),e=P({city:"",city_privacy:!1});return $(async()=>{await p().userSettings().getFrom("personal/city").then(i=>{let l=i.data.data;e.value.city=l.city,e.value.city_privacy=l.privacy_settings.city_privacy,t.isLoading=!1})}),{formData:e,state:t,submitForm:async()=>{t.isSubmitting===!1&&(t.isSubmitting=!0,await p().userSettings().with(e.value).putTo("personal/city/update").then(i=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(i=>{i.response&&toastError(i.response.data.message)}),t.isSubmitting=!1)}}},components:{PrimaryPillButton:B,TextInput:x,PageTitle:V,SectionToggle:D}}),F={class:"mb-8"},I={key:0,class:"block"},C={class:"mb-8"},L={class:"text-par-m text-lab-sc"},N={class:"mb-10"},A={class:"mb-10"},E={class:"block mb-16"},M={key:1,class:"block"},U={class:"flex-center h-96"};function j(t,e,i,l,q,z){const d=n("PageTitle"),u=n("TextInput"),g=n("SectionToggle"),y=n("PrimaryPillButton"),f=n("PrimarySpinAnimation");return c(),r(h,null,[s("div",F,[a(d,{hasBack:!0,titleText:t.$t("settings.city_settings")},null,8,["titleText"])]),t.state.isLoading?(c(),r("div",M,[s("div",U,[a(f)])])):(c(),r("div",I,[s("div",C,[s("h6",L,m(t.$t("settings.forms.city.page_desc")),1)]),s("form",{onSubmit:e[2]||(e[2]=v((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[s("div",N,[a(u,{textLength:62,modelValue:t.formData.city,"onUpdate:modelValue":e[0]||(e[0]=o=>t.formData.city=o),placeholder:t.$t("settings.forms.city.city_placeholder"),labelText:t.$t("settings.forms.city.city")},{feedbackInfo:T(()=>[k(m(t.$t("settings.forms.city.city_helper")),1)]),_:1},8,["modelValue","placeholder","labelText"])]),s("div",A,[a(g,{iconName:"shield-01",modelValue:t.formData.city_privacy,"onUpdate:modelValue":e[1]||(e[1]=o=>t.formData.city_privacy=o),captionText:t.$t("settings.forms.city.privacy_helper"),titleText:t.$t("labels.privacy")},null,8,["modelValue","captionText","titleText"])]),s("div",E,[a(y,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const W=_(w,[["render",j]]);export{W as default};
