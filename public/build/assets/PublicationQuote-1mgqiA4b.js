import{_ as p,d as _,c as s,o as t,r,F as $,i as v,a as c,j as n,t as d,e as u,w as T,m as P,q as w,b as l,P as g}from"./global.properties-ieI6Xwik.js";import{A as C}from"./AvatarExtraSmall-Cf0UikId.js";import{P as V}from"./ProgressiveImageLoader-DUluSfqC.js";import j from"./VideoDurationTime-CY2-hNg2.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./SpinnerIcon-D3U9frcO.js";const q=_({props:{postContent:{type:String,default:""}}}),I=["innerHTML"];function A(e,a,m,f,h,b){return t(),s("div",{class:"line-clamp-[7] leading-5 text-lab-pr2 text-par-n font-normal publication-text break-words",innerHTML:e.$mdInline(e.postContent)},null,8,I)}const F=p(q,[["render",A]]),S=_({props:{postMedia:{type:Object,required:!0}},components:{ProgressiveImageLoader:V}}),U={class:"overflow-hidden border-t border-bord-card"},L={key:0,class:"grid grid-cols-2 gap-0.5"},z={key:1,class:"block"};function H(e,a,m,f,h,b){const i=r("ProgressiveImageLoader");return t(),s("div",U,[e.postMedia.length>=2?(t(),s("div",L,[(t(!0),s($,null,v(e.postMedia.slice(0,2),(o,y)=>(t(),s("div",{class:"aspect-square overflow-hidden",key:o.id},[c(i,{base64Image:o.lqip_base64,src:o.source_url,class:"block size-full object-cover",alt:"Image"},null,8,["base64Image","src"])]))),128))])):(t(),s("div",z,[c(i,{base64Image:e.postMedia[0].lqip_base64,src:e.postMedia[0].source_url,class:"block size-full object-cover",alt:"Image"},null,8,["base64Image","src"])]))])}const E=p(S,[["render",H]]),O=_({props:{postMedia:{type:Object,required:!0}},components:{VideoDurationTime:j}}),B={class:"overflow-hidden border-t border-bord-card"},R={class:"h-full"},N=["src"],G={class:"absolute bottom-4 right-4 inline-block"};function J(e,a,m,f,h,b){const i=r("VideoDurationTime");return t(),s("div",B,[(t(!0),s($,null,v(e.postMedia,o=>(t(),s("div",{class:"bg-black flex justify-center relative aspect-video",key:o.id},[n("div",R,[n("img",{src:o.thumbnail_url,class:"block h-full",alt:"Image"},null,8,N)]),n("div",G,[c(i,{videoDuration:o.metadata.duration},null,8,["videoDuration"])])]))),128))])}const K=p(O,[["render",J]]),W=_({props:{postMedia:{type:Object,required:!0}}}),X={class:"overflow-hidden border-t border-bord-card"},Y={class:"size-8 shrink-0"},Z={class:"flex-1 overflow-hidden mx-1"},ee={class:"text-lab-pr2 text-par-s font-medium mb-0.5 truncate"},te={class:"text-cap-l text-lab-sc"};function oe(e,a,m,f,h,b){const i=r("FileFormatIcon");return t(),s("div",X,[(t(!0),s($,null,v(e.postMedia,o=>(t(),s("div",{key:o.id,class:"flex items-center justify-between px-4 py-3"},[n("div",Y,[c(i,{extension:"mp3"})]),n("div",Z,[n("h4",ee,d(o.metadata.file_name),1),n("p",te,d(e.$filters.fileSize(o.size))+" - "+d(e.$filters.mediaDuration(o.metadata.duration)),1)])]))),128))])}const se=p(W,[["render",oe]]),ne=_({props:{postMedia:{type:Object,required:!0}}}),ae={class:"overflow-hidden border-t border-bord-card"},re={class:"size-8 shrink-0"},ie={class:"flex-1 overflow-hidden mx-1"},de={class:"text-lab-pr2 text-par-s font-medium mb-0.5 truncate"},le={class:"text-cap-l text-lab-sc"};function ce(e,a,m,f,h,b){const i=r("FileFormatIcon");return t(),s("div",ae,[(t(!0),s($,null,v(e.postMedia,o=>(t(),s("div",{key:o.id,class:"flex items-center justify-between p-2.5"},[n("div",re,[c(i,{extension:o.extension},null,8,["extension"])]),n("div",ie,[n("h4",de,d(o.metadata.file_name),1),n("p",le,d(e.$filters.fileSize(o.size)),1)])]))),128))])}const pe=p(ne,[["render",ce]]),ue={},_e={class:"cursor-pointer hover:text-lab-pr text-center text-lab-pr3 text-par-s overflow-hidden border-t border-bord-card p-4"};function me(e,a){return t(),s("div",_e,d(e.$t("button.view_this_poll")),1)}const fe=p(ue,[["render",me]]),he=_({props:{quotedPost:{type:Object,required:!0}},setup:function(e){const a=w(e.quotedPost);return{postData:a,PostTypeUtils:g,postUserCaption:l(()=>`${a.value.relations.user.caption} Â· ${a.value.date.time_ago}`),postHasContent:l(()=>a.value.content.length),postContent:l(()=>a.value.content),postHasMedia:l(()=>a.value.relations.media.length),postMedia:l(()=>a.value.relations.media),postHasPoll:l(()=>g.isPoll(a.value.type)),postRoute:l(()=>({name:"publication_index",params:{hash_id:a.value.hash_id}}))}},components:{AvatarExtraSmall:C,QuotedPostText:F,QuotedPostImage:E,QuotedPostVideo:K,QuotedPostAudio:se,QuotedPostDocument:pe,QuotedPostPoll:fe}}),be={class:"overflow-hidden border border-bord-card rounded-2xl"},$e={class:"flex gap-1.5 items-center px-4 pt-4 leading-none"},ve={class:"shrink-0"},Pe={class:"flex-1 overflow-hidden inline-flex gap-2 items-center"},ye={class:"text-par-s font-semibold text-lab-pr2 leading-6 truncate"},ge={class:"text-cap-l text-lab-sc leading-5 truncate"},ke={key:0,class:"px-4 mt-2"},Me={key:1,class:"mt-3"};function Qe(e,a,m,f,h,b){const i=r("AvatarExtraSmall"),o=r("QuotedPostText"),y=r("QuotedPostImage"),k=r("QuotedPostVideo"),M=r("QuotedPostAudio"),Q=r("QuotedPostDocument"),D=r("QuotedPostPoll"),x=r("RouterLink");return t(),u(x,{to:e.postRoute,target:"_blank"},{default:T(()=>[n("div",be,[n("div",$e,[n("div",ve,[c(i,{avatarSrc:e.postData.relations.user.avatar_url},null,8,["avatarSrc"])]),n("div",Pe,[n("span",ye,d(e.postData.relations.user.name),1),n("span",ge,d(e.postUserCaption),1)])]),e.postHasContent?(t(),s("div",ke,[c(o,{postContent:e.postContent},null,8,["postContent"])])):P("",!0),e.postHasMedia||e.postHasPoll?(t(),s("div",Me,[e.PostTypeUtils.isImage(e.postData.type)||e.PostTypeUtils.isGif(e.postData.type)?(t(),u(y,{key:0,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isVideo(e.postData.type)?(t(),u(k,{key:1,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isAudio(e.postData.type)?(t(),u(M,{key:2,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isDocument(e.postData.type)?(t(),u(Q,{key:3,postMedia:e.postMedia},null,8,["postMedia"])):e.PostTypeUtils.isPoll(e.postData.type)?(t(),u(D,{key:4})):P("",!0)])):P("",!0)])]),_:1},8,["to"])}const je=p(he,[["render",Qe]]);export{je as default};
