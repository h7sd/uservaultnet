import{g as W,o as g,w as X,h as Y,a as N,j as T,A as M,k as U,d as le,e as ae,f as ue,E as oe,T as re,O as ie,u as se,b as x}from"./form-C9UNAZed.js";import{S as B,l as h,r as y,o as C,M as J,R as Z,k as V,G as de,w as _,V as z,F as ve,U as w,n as k}from"./vendor-20TtR0Rd.js";function fe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pe(){return/Android/gi.test(window.navigator.userAgent)}function ce(){return fe()||pe()}function I(e,u,l){W.isServer||B(s=>{document.addEventListener(e,u,l),s(()=>document.removeEventListener(e,u,l))})}function be(e,u,l){W.isServer||B(s=>{window.addEventListener(e,u,l),s(()=>window.removeEventListener(e,u,l))})}function me(e,u,l=h(()=>!0)){function s(n,t){if(!l.value||n.defaultPrevented)return;let d=t(n);if(d===null||!d.getRootNode().contains(d))return;let m=function c(p){return typeof p=="function"?c(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let c of m){if(c===null)continue;let p=c instanceof HTMLElement?c:g(c);if(p!=null&&p.contains(d)||n.composed&&n.composedPath().includes(p))return}return!X(d,Y.Loose)&&d.tabIndex!==-1&&n.preventDefault(),u(n,d)}let r=y(null);I("pointerdown",n=>{var t,d;l.value&&(r.value=((d=(t=n.composedPath)==null?void 0:t.call(n))==null?void 0:d[0])||n.target)},!0),I("mousedown",n=>{var t,d;l.value&&(r.value=((d=(t=n.composedPath)==null?void 0:t.call(n))==null?void 0:d[0])||n.target)},!0),I("click",n=>{ce()||r.value&&(s(n,()=>r.value),r.value=null)},!0),I("touchend",n=>s(n,()=>n.target instanceof HTMLElement?n.target:null),!0),be("blur",n=>s(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function q(e,u){if(e)return e;let l=u??"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function ge(e,u){let l=y(q(e.value.type,e.value.as));return C(()=>{l.value=q(e.value.type,e.value.as)}),B(()=>{var s;l.value||g(u)&&g(u)instanceof HTMLButtonElement&&!((s=g(u))!=null&&s.hasAttribute("type"))&&(l.value="button")}),l}function K(e){return[e.screenX,e.screenY]}function xe(){let e=y([-1,-1]);return{wasMoved(u){let l=K(u);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(u){e.value=K(u)}}}let ee=Symbol("Context");var A=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(A||{});function he(){return J(ee,null)}function ye(e){Z(ee,e)}function Oe(e){throw new Error("Unexpected object: "+e)}var O=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(O||{});function Se(e,u){let l=u.resolveItems();if(l.length<=0)return null;let s=u.resolveActiveIndex(),r=s??-1;switch(e.focus){case 0:{for(let n=0;n<l.length;++n)if(!u.resolveDisabled(l[n],n,l))return n;return s}case 1:{r===-1&&(r=l.length);for(let n=r-1;n>=0;--n)if(!u.resolveDisabled(l[n],n,l))return n;return s}case 2:{for(let n=r+1;n<l.length;++n)if(!u.resolveDisabled(l[n],n,l))return n;return s}case 3:{for(let n=l.length-1;n>=0;--n)if(!u.resolveDisabled(l[n],n,l))return n;return s}case 4:{for(let n=0;n<l.length;++n)if(u.resolveId(l[n],n,l)===e.id)return n;return s}case 5:return null;default:Oe(e)}}let Q=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function G(e){var u,l;let s=(u=e.innerText)!=null?u:"",r=e.cloneNode(!0);if(!(r instanceof HTMLElement))return s;let n=!1;for(let d of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),n=!0;let t=n?(l=r.innerText)!=null?l:"":s;return Q.test(t)&&(t=t.replace(Q,"")),t}function we(e){let u=e.getAttribute("aria-label");if(typeof u=="string")return u.trim();let l=e.getAttribute("aria-labelledby");if(l){let s=l.split(" ").map(r=>{let n=document.getElementById(r);if(n){let t=n.getAttribute("aria-label");return typeof t=="string"?t.trim():G(n).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return G(e).trim()}function Le(e){let u=y(""),l=y("");return()=>{let s=g(e);if(!s)return"";let r=s.innerText;if(u.value===r)return l.value;let n=we(s).trim().toLowerCase();return u.value=r,l.value=n,n}}function De(e,u){return e===u}var Re=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Re||{}),Pe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Pe||{}),Te=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Te||{});function $e(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let te=Symbol("ListboxContext");function j(e){let u=J(te,null);if(u===null){let l=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,j),l}return u}let ke=V({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>De},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:u,attrs:l,emit:s}){let r=y(1),n=y(null),t=y(null),d=y(null),m=y([]),c=y(""),p=y(null),o=y(1);function v(a=i=>i){let i=p.value!==null?m.value[p.value]:null,f=ie(a(m.value.slice()),S=>g(S.dataRef.domRef)),b=i?f.indexOf(i):null;return b===-1&&(b=null),{options:f,activeOptionIndex:b}}let D=h(()=>e.multiple?1:0),[R,L]=le(h(()=>e.modelValue),a=>s("update:modelValue",a),h(()=>e.defaultValue)),$=h(()=>R.value===void 0?T(D.value,{1:[],0:void 0}):R.value),P={listboxState:r,value:$,mode:D,compare(a,i){if(typeof e.by=="string"){let f=e.by;return(a==null?void 0:a[f])===(i==null?void 0:i[f])}return e.by(a,i)},orientation:h(()=>e.horizontal?"horizontal":"vertical"),labelRef:n,buttonRef:t,optionsRef:d,disabled:h(()=>e.disabled),options:m,searchQuery:c,activeOptionIndex:p,activationTrigger:o,closeListbox(){e.disabled||r.value!==1&&(r.value=1,p.value=null)},openListbox(){e.disabled||r.value!==0&&(r.value=0)},goToOption(a,i,f){if(e.disabled||r.value===1)return;let b=v(),S=Se(a===O.Specific?{focus:O.Specific,id:i}:{focus:a},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:E=>E.id,resolveDisabled:E=>E.dataRef.disabled});c.value="",p.value=S,o.value=f??1,m.value=b.options},search(a){if(e.disabled||r.value===1)return;let i=c.value!==""?0:1;c.value+=a.toLowerCase();let f=(p.value!==null?m.value.slice(p.value+i).concat(m.value.slice(0,p.value+i)):m.value).find(S=>S.dataRef.textValue.startsWith(c.value)&&!S.dataRef.disabled),b=f?m.value.indexOf(f):-1;b===-1||b===p.value||(p.value=b,o.value=1)},clearSearch(){e.disabled||r.value!==1&&c.value!==""&&(c.value="")},registerOption(a,i){let f=v(b=>[...b,{id:a,dataRef:i}]);m.value=f.options,p.value=f.activeOptionIndex},unregisterOption(a){let i=v(f=>{let b=f.findIndex(S=>S.id===a);return b!==-1&&f.splice(b,1),f});m.value=i.options,p.value=i.activeOptionIndex,o.value=1},theirOnChange(a){e.disabled||L(a)},select(a){e.disabled||L(T(D.value,{0:()=>a,1:()=>{let i=w(P.value.value).slice(),f=w(a),b=i.findIndex(S=>P.compare(f,w(S)));return b===-1?i.push(f):i.splice(b,1),i}}))}};me([t,d],(a,i)=>{var f;P.closeListbox(),X(i,Y.Loose)||(a.preventDefault(),(f=g(t))==null||f.focus())},h(()=>r.value===0)),Z(te,P),ye(h(()=>T(r.value,{0:A.Open,1:A.Closed})));let F=h(()=>{var a;return(a=g(t))==null?void 0:a.closest("form")});return C(()=>{_([F],()=>{if(!F.value||e.defaultValue===void 0)return;function a(){P.theirOnChange(e.defaultValue)}return F.value.addEventListener("reset",a),()=>{var i;(i=F.value)==null||i.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,modelValue:i,disabled:f,form:b,...S}=e,E={open:r.value===0,disabled:f,value:$.value};return z(ve,[...a!=null&&$.value!=null?ae({[a]:$.value}).map(([H,ne])=>z(ue,oe({features:se.Hidden,key:H,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,disabled:f,name:H,value:ne}))):[],M({ourProps:{},theirProps:{...l,...re(S,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:E,slots:u,attrs:l,name:"Listbox"})])}}}),Ae=V({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:s}){var r;let n=(r=e.id)!=null?r:`headlessui-listbox-button-${N()}`,t=j("ListboxButton");s({el:t.buttonRef,$el:t.buttonRef});function d(o){switch(o.key){case x.Space:case x.Enter:case x.ArrowDown:o.preventDefault(),t.openListbox(),k(()=>{var v;(v=g(t.optionsRef))==null||v.focus({preventScroll:!0}),t.value.value||t.goToOption(O.First)});break;case x.ArrowUp:o.preventDefault(),t.openListbox(),k(()=>{var v;(v=g(t.optionsRef))==null||v.focus({preventScroll:!0}),t.value.value||t.goToOption(O.Last)});break}}function m(o){switch(o.key){case x.Space:o.preventDefault();break}}function c(o){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),k(()=>{var v;return(v=g(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(o.preventDefault(),t.openListbox(),$e(()=>{var v;return(v=g(t.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let p=ge(h(()=>({as:e.as,type:u.type})),t.buttonRef);return()=>{var o,v;let D={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...R}=e,L={ref:t.buttonRef,id:n,type:p.value,"aria-haspopup":"listbox","aria-controls":(o=g(t.optionsRef))==null?void 0:o.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(v=g(t.labelRef))==null?void 0:v.id,n].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:d,onKeyup:m,onClick:c};return M({ourProps:L,theirProps:R,slot:D,attrs:u,slots:l,name:"ListboxButton"})}}}),Ie=V({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:u,slots:l,expose:s}){var r;let n=(r=e.id)!=null?r:`headlessui-listbox-options-${N()}`,t=j("ListboxOptions"),d=y(null);s({el:t.optionsRef,$el:t.optionsRef});function m(o){switch(d.value&&clearTimeout(d.value),o.key){case x.Space:if(t.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),t.search(o.key);case x.Enter:if(o.preventDefault(),o.stopPropagation(),t.activeOptionIndex.value!==null){let v=t.options.value[t.activeOptionIndex.value];t.select(v.dataRef.value)}t.mode.value===0&&(t.closeListbox(),k(()=>{var v;return(v=g(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case T(t.orientation.value,{vertical:x.ArrowDown,horizontal:x.ArrowRight}):return o.preventDefault(),o.stopPropagation(),t.goToOption(O.Next);case T(t.orientation.value,{vertical:x.ArrowUp,horizontal:x.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),t.goToOption(O.Previous);case x.Home:case x.PageUp:return o.preventDefault(),o.stopPropagation(),t.goToOption(O.First);case x.End:case x.PageDown:return o.preventDefault(),o.stopPropagation(),t.goToOption(O.Last);case x.Escape:o.preventDefault(),o.stopPropagation(),t.closeListbox(),k(()=>{var v;return(v=g(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case x.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(t.search(o.key),d.value=setTimeout(()=>t.clearSearch(),350));break}}let c=he(),p=h(()=>c!==null?(c.value&A.Open)===A.Open:t.listboxState.value===0);return()=>{var o,v;let D={open:t.listboxState.value===0},{...R}=e,L={"aria-activedescendant":t.activeOptionIndex.value===null||(o=t.options.value[t.activeOptionIndex.value])==null?void 0:o.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(v=g(t.buttonRef))==null?void 0:v.id,"aria-orientation":t.orientation.value,id:n,onKeydown:m,role:"listbox",tabIndex:0,ref:t.optionsRef};return M({ourProps:L,theirProps:R,slot:D,attrs:u,slots:l,features:U.RenderStrategy|U.Static,visible:p.value,name:"ListboxOptions"})}}}),Ce=V({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:u,attrs:l,expose:s}){var r;let n=(r=e.id)!=null?r:`headlessui-listbox-option-${N()}`,t=j("ListboxOption"),d=y(null);s({el:d,$el:d});let m=h(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===n:!1),c=h(()=>T(t.mode.value,{0:()=>t.compare(w(t.value.value),w(e.value)),1:()=>w(t.value.value).some(a=>t.compare(w(a),w(e.value)))})),p=h(()=>T(t.mode.value,{1:()=>{var a;let i=w(t.value.value);return((a=t.options.value.find(f=>i.some(b=>t.compare(w(b),w(f.dataRef.value)))))==null?void 0:a.id)===n},0:()=>c.value})),o=Le(d),v=h(()=>({disabled:e.disabled,value:e.value,get textValue(){return o()},domRef:d}));C(()=>t.registerOption(n,v)),de(()=>t.unregisterOption(n)),C(()=>{_([t.listboxState,c],()=>{t.listboxState.value===0&&c.value&&T(t.mode.value,{1:()=>{p.value&&t.goToOption(O.Specific,n)},0:()=>{t.goToOption(O.Specific,n)}})},{immediate:!0})}),B(()=>{t.listboxState.value===0&&m.value&&t.activationTrigger.value!==0&&k(()=>{var a,i;return(i=(a=g(d))==null?void 0:a.scrollIntoView)==null?void 0:i.call(a,{block:"nearest"})})});function D(a){if(e.disabled)return a.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),k(()=>{var i;return(i=g(t.buttonRef))==null?void 0:i.focus({preventScroll:!0})}))}function R(){if(e.disabled)return t.goToOption(O.Nothing);t.goToOption(O.Specific,n)}let L=xe();function $(a){L.update(a)}function P(a){L.wasMoved(a)&&(e.disabled||m.value||t.goToOption(O.Specific,n,0))}function F(a){L.wasMoved(a)&&(e.disabled||m.value&&t.goToOption(O.Nothing))}return()=>{let{disabled:a}=e,i={active:m.value,selected:c.value,disabled:a},{value:f,disabled:b,...S}=e,E={id:n,ref:d,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:D,onFocus:R,onPointerenter:$,onMouseenter:$,onPointermove:P,onMousemove:P,onPointerleave:F,onMouseleave:F};return M({ourProps:E,theirProps:S,slot:i,attrs:l,slots:u,name:"ListboxOption"})}}});export{Ie as A,Ce as F,ke as I,Ae as j};
