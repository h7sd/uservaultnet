import{_ as v,d as g,c as o,j as e,e as f,r as l,t,o as n,a as r,m as _,F as h,i as S,g as D,q as w,h as L,b as x,l as b}from"./global.properties-ieI6Xwik.js";import{a as I}from"./application-DnsIlr-S.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";const P=g({props:{sessionData:{type:Object,required:!0}}}),z={class:"flex items-center border-b border-b-fill-pr pb-4 overflow-hidden"},T={class:"size-normal-avatar shrink-0 rounded-full overflow-hidden flex justify-center items-center bg-fill-tr"},B={class:"flex-1 mx-4 overflow-hidden"},j={class:"text-par-m font-semibold text-lab-pr2 leading-tight truncate"},C={key:0,class:"block text-par-s text-lab-sc truncate"},O={key:1,class:"block text-par-s text-orange-400 truncate"},A={class:"self-start shrink-0"},F={key:0,class:"block text-par-s text-green-500 truncate"},N={key:1,class:"block text-par-s text-lab-sc truncate"};function V(s,a,c,i,k,$){const d=l("SvgIcon");return n(),o("div",z,[e("div",T,[s.sessionData.is_desktop?(n(),f(d,{key:0,type:"line",name:"monitor-04",classes:"size-icon-small text-brand-900"})):(n(),f(d,{key:1,type:"line",name:"phone-01",classes:"size-icon-small text-brand-900"}))]),e("div",B,[e("h4",j,t(s.sessionData.os.name)+" "+t(s.sessionData.os.version)+", "+t(s.sessionData.ip_address)+", "+t(s.sessionData.browser.name)+" "+t(s.sessionData.browser.version),1),s.sessionData.location?(n(),o("span",C,t(s.sessionData.location.city)+", "+t(s.sessionData.location.region)+", "+t(s.sessionData.location.country),1)):(n(),o("span",O,t(s.$t("settings.forms.active_sessions.location_unknown")),1))]),e("div",A,[s.sessionData.is_online?(n(),o("span",F,t(s.$t("labels.online")),1)):(n(),o("span",N,t(s.sessionData.last_online),1))])])}const q=v(P,[["render",V]]),E=g({setup:function(){const s=D({isLoading:!0}),a=w([]),c=async()=>{s.isLoading=!0,await b().userSettings().getFrom("sessions").then(i=>{a.value=i.data.data.sessions}),s.isLoading=!1};return L(()=>{c()}),{state:s,sessionsList:a,currentSession:x(()=>a.value.find(i=>i.is_current===!0)),terminateOtherSessions:async()=>{s.isLoading=!0,await b().userSettings().delete("sessions/terminate/other").then(i=>{c()}).catch(i=>{i.response}),s.isLoading=!1}}},components:{PageTitle:I,SessionItem:q}}),M={class:"mb-8"},U={key:0,class:"block"},G={class:"mb-8"},H={class:"text-par-m text-lab-sc"},J={key:0},K={class:"mb-4"},Q={class:"text-par-m text-lab-sc font-medium"},R={class:"mb-12"},W={class:"mb-4"},X={class:"text-par-m text-lab-sc font-medium"},Y={class:"mb-12"},Z={class:"mb-4"},ss={key:0,class:"mb-4"},es={class:"size-normal-avatar shrink-0 rounded-full overflow-hidden flex justify-center items-center bg-fill-tr"},ts={class:"flex-1 ml-4 overflow-hidden text-left"},ns={class:"text-par-m font-semibold text-red-900 leading-tight truncate"},os={class:"block text-par-s text-lab-sc truncate"},is={class:"ml-4 shrink-0"},as={key:1,class:"block"},rs={class:"flex-center h-96"};function ls(s,a,c,i,k,$){const d=l("PageTitle"),p=l("SessionItem"),u=l("SvgIcon"),y=l("PrimarySpinAnimation");return n(),o(h,null,[e("div",M,[r(d,{hasBack:!0,titleText:s.$t("settings.active_sessions")},null,8,["titleText"])]),s.state.isLoading?(n(),o("div",as,[e("div",rs,[r(y)])])):(n(),o("div",U,[e("div",G,[e("h6",H,t(s.$t("settings.forms.active_sessions.page_desc")),1)]),s.sessionsList.length?(n(),o("div",J,[s.currentSession?(n(),o(h,{key:0},[e("div",K,[e("h6",Q,t(s.$t("settings.forms.active_sessions.current_session")),1)]),e("div",R,[r(p,{sessionData:s.currentSession},null,8,["sessionData"])])],64)):_("",!0),e("div",W,[e("h6",X,t(s.$t("settings.forms.active_sessions.all_sessions")),1)]),e("div",Y,[(n(!0),o(h,null,S(s.sessionsList,m=>(n(),o("div",Z,[r(p,{sessionData:m},null,8,["sessionData"])]))),256)),s.sessionsList.length>1?(n(),o("div",ss,[e("button",{onClick:a[0]||(a[0]=(...m)=>s.terminateOtherSessions&&s.terminateOtherSessions(...m)),type:"button",class:"flex w-full items-center border-b border-b-fill-pr pb-4 overflow-hidden"},[e("div",es,[r(u,{type:"solid",name:"log-out-01",classes:"size-icon-small text-red-900"})]),e("div",ts,[e("h4",ns,t(s.$t("settings.forms.active_sessions.terminate_other_sessions")),1),e("span",os,t(s.$t("settings.forms.active_sessions.terminate_other_sessions_helper")),1)]),e("div",is,[r(u,{name:"chevron-right",classes:"size-6 text-lab-sc"})])])])):_("",!0)])])):_("",!0)]))],64)}const ps=v(E,[["render",ls]]);export{ps as default};
