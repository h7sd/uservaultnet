import{k as _,c as m,s as a,i as s,e as l,t as v,y,F as T,b as S,r as u,o as P,d as p}from"./vendor-20TtR0Rd.js";import{_ as V,c}from"./global.properties-DKM1fd6s.js";import{a as $,f as D}from"./application-DEz9sPnz.js";import{S as k}from"./SelectInput-DFVgUc6B.js";import{S as B}from"./SectionToggle-BmUma1X-.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./listbox-DUieglFY.js";import"./form-C9UNAZed.js";const w=_({setup:function(){const t=S({isLoading:!0,isSubmitting:!1}),e=u({}),n=u({});return P(async()=>{await c().userSettings().getFrom("personal/birthdate").then(i=>{let r=i.data.data;e.value=r.calendar,n.value.birth_date=r.birth_date,n.value.birthdate_privacy=r.privacy_settings.birthdate_privacy,t.isLoading=!1})}),{state:t,formData:n,calendar:e,submitForm:async()=>{t.isSubmitting===!1&&(t.isSubmitting=!0,await c().userSettings().with(n.value).putTo("personal/birthdate/update").then(i=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(i=>{i.response&&toastError(i.response.data.message)}),t.isSubmitting=!1)}}},components:{PrimaryPillButton:D,SelectInput:k,SectionToggle:B,PageTitle:$}}),F={class:"mb-8"},I={key:0,class:"block"},U={class:"mb-8"},A={class:"text-par-m text-lab-sc"},L={class:"mb-6"},N={class:"flex gap-4"},C={class:"w-4/12"},E={class:"w-4/12"},M={class:"w-4/12"},j={class:"mb-10"},q={class:"block mb-16"},z={key:1,class:"block"},G={class:"flex-center h-96"};function H(t,e,n,i,r,J){const b=l("PageTitle"),d=l("SelectInput"),f=l("SectionToggle"),g=l("PrimaryPillButton"),h=l("PrimarySpinAnimation");return p(),m(T,null,[a("div",F,[s(b,{hasBack:!0,titleText:t.$t("settings.birth_date_settings")},null,8,["titleText"])]),t.state.isLoading?(p(),m("div",z,[a("div",G,[s(h)])])):(p(),m("div",I,[a("div",U,[a("h6",A,v(t.$t("settings.forms.personal_info.birth_date_helper",{app_name:t.$embedder("config.app.name")})),1)]),a("form",{onSubmit:e[4]||(e[4]=y((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[a("div",L,[a("div",N,[a("div",C,[s(d,{modelValue:t.formData.birth_date.month,"onUpdate:modelValue":e[0]||(e[0]=o=>t.formData.birth_date.month=o),labelText:t.$t("labels.month"),options:t.calendar.months},null,8,["modelValue","labelText","options"])]),a("div",E,[s(d,{modelValue:t.formData.birth_date.day,"onUpdate:modelValue":e[1]||(e[1]=o=>t.formData.birth_date.day=o),labelText:t.$t("labels.day"),options:t.calendar.days},null,8,["modelValue","labelText","options"])]),a("div",M,[s(d,{modelValue:t.formData.birth_date.year,"onUpdate:modelValue":e[2]||(e[2]=o=>t.formData.birth_date.year=o),labelText:t.$t("labels.year"),options:t.calendar.years},null,8,["modelValue","labelText","options"])])])]),a("div",j,[s(f,{iconName:"shield-01",modelValue:t.formData.birthdate_privacy,"onUpdate:modelValue":e[3]||(e[3]=o=>t.formData.birthdate_privacy=o),captionText:t.$t("settings.forms.birth_date.privacy_helper"),titleText:t.$t("labels.privacy")},null,8,["modelValue","captionText","titleText"])]),a("div",q,[s(g,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const ot=V(w,[["render",H]]);export{ot as default};
