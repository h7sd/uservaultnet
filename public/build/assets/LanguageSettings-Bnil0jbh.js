import{k as _,c as g,s as o,v,i as l,e as u,q as S,y as h,F as T,r as m,b as P,o as y,d as c,x as L,t as $}from"./vendor-20TtR0Rd.js";import{_ as k,c as p}from"./global.properties-DKM1fd6s.js";import{a as w,f as B}from"./application-DEz9sPnz.js";import{S as V}from"./SelectInput-DFVgUc6B.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./listbox-DUieglFY.js";import"./form-C9UNAZed.js";const F=_({setup:function(){const e=m([]),t=m(null),a=P({isLoading:!0,isSubmitting:!1});return y(async()=>{await p().userSettings().getFrom("languages").then(s=>{e.value=s.data.data.map(n=>({label:n.name,value:n.code,current:n.current==!0}));let i=e.value.find(n=>n.current==!0);i?t.value=i.value:t.value=e.value[0].value}),a.isLoading=!1}),{state:a,languages:e,currentLanguage:t,submitForm:async()=>{a.isSubmitting===!1&&(a.isSubmitting=!0,await p().userSettings().with({language:t.value}).putTo("languages/switch").then(s=>{toastSuccess(__t("toast.forms.changes_saved")),window.location.reload()}).catch(s=>{s.response&&toastError(s.response.data.message),a.isSubmitting=!0}))}}},components:{PrimaryPillButton:B,SelectInput:V,PageTitle:w}}),I={class:"mb-8"},C={key:0,class:"block"},M={class:"mb-8"},N=["innerHTML"],x={class:"mb-10"},E={class:"block mb-16"};function H(e,t,a,s,i,n){const d=u("PageTitle"),f=u("SelectInput"),b=u("PrimaryPillButton");return c(),g(T,null,[o("div",I,[l(d,{hasBack:!0,titleText:e.$t("settings.language_settings")},null,8,["titleText"])]),e.state.isLoading?v("",!0):(c(),g("div",C,[o("div",M,[o("h6",{class:"text-par-s text-lab-sc",innerHTML:e.$t("settings.forms.language.page_desc")},null,8,N)]),o("form",{onSubmit:t[1]||(t[1]=h((...r)=>e.submitForm&&e.submitForm(...r),["prevent"]))},[o("div",x,[l(f,{modelValue:e.currentLanguage,"onUpdate:modelValue":t[0]||(t[0]=r=>e.currentLanguage=r),labelText:e.$t("settings.forms.language.display_language"),options:e.languages},{feedbackInfo:S(()=>[L($(e.$t("settings.forms.language.display_language_helper")),1)]),_:1},8,["modelValue","labelText","options"])]),o("div",E,[l(b,{loading:e.state.isSubmitting,buttonType:"submit",buttonText:e.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const R=k(F,[["render",H]]);export{R as default};
