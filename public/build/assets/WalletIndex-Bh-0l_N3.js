const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DepositModal-C0gQBgNv.js","assets/global.properties-ieI6Xwik.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/application-DnsIlr-S.js","assets/inbox.store-DKf8FrGP.js","assets/index-CaocF3Et.js","assets/ModalTextInput-D4MVFDBD.js","assets/ContentContainer-Cbrq1Bk5.js","assets/FluidEmptyState-5rqvt3kR.js","assets/TransferModal-BaKDDwp8.js","assets/WalletInfoModal-DzTd2c9s.js","assets/InfoListItem-D862UUym.js","assets/TransactionModal-CeEp8P9k.js"])))=>i.map(i=>d[i]);
import{P as z,a as E}from"./application-DnsIlr-S.js";import{k as V,l as b,_ as w,c as s,o as n,C as S,d as C,e as d,r as o,j as e,t as l,a as r,w as T,m as f,W,F as h,y as M,z as x,g as P,b as D,h as B,n as H,i as $,q as F}from"./global.properties-ieI6Xwik.js";import{C as q}from"./ContentContainer-Cbrq1Bk5.js";import{F as N}from"./FluidEmptyState-5rqvt3kR.js";const L=V("wallet_store",{state:function(){return{walletData:null,transactions:{today:[],thisWeek:[],thisMonth:[],other:[]},paymentProviders:[],receiverHistory:[]}},getters:{},actions:{fetchWalletData:async function(){await b().wallet().getFrom("data").then(t=>{this.walletData=t.data.data}).catch(t=>{t.response&&alert(t.response.data.message)})},fetchPaymentProviders:async function(){await b().wallet().getFrom("payment/providers").then(t=>{this.paymentProviders=t.data.data}).catch(t=>{t.response&&alert(t.response.data.message)})},createDepositPayment:async function(t){return await b().wallet().with(t).sendTo("deposit")},fetchTransactions:async function(){await b().wallet().getFrom("transactions").then(t=>{this.transactions.today=t.data.data.today,this.transactions.thisWeek=t.data.data.this_week,this.transactions.thisMonth=t.data.data.this_month,this.transactions.other=t.data.data.other}).catch(t=>{t.response&&alert(t.response.data.message)})},fetchReceivers:async function(t){return await b().wallet().params({wallet_number:t}).getFrom("receiver/find")},fetchReceiverHistory:async function(){if(this.receiverHistory.length)return!1;await b().wallet().getFrom("receiver/history").then(t=>{this.receiverHistory=t.data.data}).catch(t=>{this.receiverHistory=[]})},makeTransfer:async function(t){return await b().wallet().with(t).sendTo("transfer")}}}),A={},R={class:"block"};function j(t,a){return n(),s("div",R,a[0]||(a[0]=[S('<div class="block mb-6"><div class="skeleton h-4 w-6/12 mb-2"></div><div class="skeleton h-4 w-4/12"></div></div><div class="grid grid-cols-3 gap-4 mb-4"><div class="skeleton h-36 w-full"></div><div class="skeleton h-36 w-full"></div><div class="skeleton h-36 w-full"></div></div><div class="skeleton h-4 w-8/12 mb-2"></div><div class="skeleton h-4 w-4/12"></div>',4)]))}const G=w(A,[["render",j]]),J=C({setup:function(){const t=P({isLoading:!0,isDepositModalOpen:!1,isTransferModalOpen:!1,isBalanceVisible:!0,isWalletInfoModalOpen:!1}),a=L(),u=D(()=>a.walletData);return B(async()=>{localStorage.getItem("hide_wallet_balance")?t.isBalanceVisible=!1:t.isBalanceVisible=!0,await a.fetchWalletData(),t.isLoading=!1}),{state:t,walletData:u,walletBalance:()=>t.isBalanceVisible?u.value.balance.formatted:"*".repeat(u.value.balance.formatted.length),showBalance:()=>{localStorage.removeItem("hide_wallet_balance"),t.isBalanceVisible=!0},hideBalance:()=>{localStorage.setItem("hide_wallet_balance",1),t.isBalanceVisible=!1}}},components:{PrimaryIconButton:z,OverviewSkeleton:G,DepositModal:M(()=>x(()=>import("./DepositModal-C0gQBgNv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),TransferModal:M(()=>x(()=>import("./TransferModal-BaKDDwp8.js"),__vite__mapDeps([9,3,1,2,4,5,6,7,8]))),WalletInfoModal:M(()=>x(()=>import("./WalletInfoModal-DzTd2c9s.js"),__vite__mapDeps([10,3,1,2,4,5,11,7,8])))}}),K={class:"block"},Q={class:"flex mb-2.5 items-end"},U={class:"flex-1"},X={class:"text-5xl 2xl:text-7xl leading-none font-bold text-mint"},Y={class:"inline-flex items-center"},Z={class:"text-par-n text-lab-sc"},tt={class:"shrink-0"},et={class:"grid grid-cols-3 gap-2"},at={class:"text-par-n block text-lab-pr2 font-bold mb-1"},nt=["innerHTML"],st={class:"size-10 rounded-xl bg-brand-900 inline-flex-center absolute bottom-4 right-4"},ot={class:"text-par-n block text-lab-pr2 font-bold mb-1"},lt=["innerHTML"],it={class:"size-10 rounded-xl bg-white inline-flex-center absolute bottom-4 right-4"},rt={class:"h-40 bg-fill-qt opacity-50 rounded-xl px-4 py-3 relative cursor-not-allowed hover:bg-fill-tr transition-all ease-linear"},ct={class:"text-par-n block text-lab-pr2 font-bold mb-1"},dt=["innerHTML"],ut={class:"size-10 rounded-xl bg-white inline-flex-center absolute bottom-4 right-4"},mt={class:"mt-2"},pt=["innerHTML"];function ht(t,a,u,m,k,I){const _=o("OverviewSkeleton"),p=o("SvgIcon"),y=o("PrimaryIconButton"),v=o("DepositModal"),g=o("PrimaryTransition"),O=o("TransferModal"),i=o("WalletInfoModal");return t.state.isLoading?(n(),d(_,{key:0})):(n(),s(h,{key:1},[e("div",K,[e("div",Q,[e("div",U,[e("h2",X,l(t.walletBalance()),1),e("span",Y,[e("span",Z,l(t.$t("wallet.current_balance")),1),t.state.isBalanceVisible?(n(),s("span",{key:0,onClick:a[0]||(a[0]=(...c)=>t.hideBalance&&t.hideBalance(...c)),class:"shrink-0 size-4 ml-1 cursor-pointer"},[r(p,{name:"eye-off",classes:"size-full text-lab-tr"})])):(n(),s("span",{key:1,onClick:a[1]||(a[1]=(...c)=>t.showBalance&&t.showBalance(...c)),class:"shrink-0 size-4 ml-1 cursor-pointer"},[r(p,{name:"eye",classes:"size-full text-lab-tr"})]))])]),e("div",tt,[r(y,{onClick:a[2]||(a[2]=c=>t.state.isWalletInfoModalOpen=!0),iconName:"info-circle",iconSize:"icon-small",iconType:"line"})])]),e("div",et,[e("div",{onClick:a[3]||(a[3]=c=>t.state.isDepositModalOpen=!0),class:"h-40 bg-fill-qt rounded-xl px-4 py-3 relative cursor-pointer hover:bg-fill-tr transition-all ease-linear"},[e("h4",at,l(t.$t("labels.deposit")),1),e("p",{class:"text-par-s block leading-tight text-lab-sc",innerHTML:t.$t("wallet.add_money_to_wallet")},null,8,nt),e("span",st,[r(p,{name:"plus",classes:"size-icon-small text-white"})])]),e("div",{onClick:a[4]||(a[4]=c=>t.state.isTransferModalOpen=!0),class:"h-40 bg-fill-qt rounded-xl px-4 py-3 relative cursor-pointer hover:bg-fill-tr transition-all ease-linear"},[e("h4",ot,l(t.$t("labels.transfer")),1),e("p",{class:"text-par-s leading-tight inline-block text-lab-sc",innerHTML:t.$t("wallet.send_to_another")},null,8,lt),e("span",it,[r(p,{name:"arrow-narrow-right",classes:"size-icon-small text-brand-900"})])]),e("div",rt,[e("h4",ct,l(t.$t("labels.withdrawal")),1),e("p",{class:"text-par-s inline-block text-lab-sc leading-tight",innerHTML:t.$t("wallet.request_withdrawal")},null,8,dt),e("span",ut,[r(p,{name:"credit-card-up",classes:"size-icon-small text-brand-900"})])])]),e("div",mt,[e("p",{class:"text-cap-s text-lab-sc",innerHTML:t.$t("wallet.about_wallet_text",{wallet_name:t.$embedder("config.wallet.name"),about_link:t.$embedder("config.wallet.about_link")})},null,8,pt)])]),(n(),d(W,{to:"body"},[r(g,null,{default:T(()=>[t.state.isDepositModalOpen?(n(),d(v,{key:0,onClose:a[5]||(a[5]=c=>t.state.isDepositModalOpen=!1)})):f("",!0)]),_:1}),r(g,null,{default:T(()=>[t.state.isTransferModalOpen?(n(),d(O,{key:0,onClose:a[6]||(a[6]=c=>t.state.isTransferModalOpen=!1)})):f("",!0)]),_:1}),r(g,null,{default:T(()=>[t.state.isWalletInfoModalOpen?(n(),d(i,{key:0,onClose:a[7]||(a[7]=c=>t.state.isWalletInfoModalOpen=!1)})):f("",!0)]),_:1})]))],64))}const ft=w(J,[["render",ht]]),_t=C({props:{transactionData:{type:Object,required:!0}},setup:function(t){return{iconName:D(()=>t.transactionData.type.key==="deposit"?"credit-card-up":t.transactionData.is_incoming?"arrow-narrow-down-left":"arrow-narrow-up-right"),hasCommission:D(()=>t.transactionData.commission.rate>0)}}}),bt={class:"flex gap-4 items-center border-b border-bord-pr py-3 last:border-none hover:bg-fill-fv cursor-pointer"},vt={class:"size-normal-avatar rounded-full bg-fill-qt inline-flex-center shrink-0"},wt={class:"flex flex-1 justify-between"},kt={class:"flex-1"},yt={class:"block text-par-l text-lab-pr2 font-medium"},gt={class:"block text-par-s text-brand-900"},$t={key:0,class:"block text-par-s text-lab-sc"},Tt={class:"shrink-0 text-right"},Dt={class:"block text-par-s text-lab-sc"};function Mt(t,a,u,m,k,I){const _=o("SvgIcon");return n(),s("div",bt,[e("div",vt,[r(_,{name:t.iconName,classes:"size-icon-normal text-brand-900"},null,8,["name"])]),e("div",wt,[e("div",kt,[e("span",yt,l(t.transactionData.source.name),1),e("span",gt,l(t.transactionData.type.label),1),t.hasCommission?(n(),s("span",$t,l(t.$t("wallet.commission"))+" "+l(t.transactionData.commission.amount.formatted),1)):f("",!0)]),e("div",Tt,[e("span",{class:H(["block text-par-m font-medium",[t.transactionData.is_incoming?"text-mint":"text-red-900"]])},l(t.transactionData.is_incoming?"+":"-")+l(t.transactionData.amount.formatted),3),e("span",Dt,l(t.transactionData.date.time_ago),1)])])])}const xt=w(_t,[["render",Mt]]),Ct={},It={class:"flex gap-4 items-center first:border-t border-b border-bord-card py-3 hover:bg-fill-fv cursor-pointer"};function Ot(t,a){return n(),s("div",It,a[0]||(a[0]=[S('<div class="size-small-avatar rounded-full skeleton-circle inline-flex-center shrink-0"></div><div class="flex-1"><div class="skeleton h-3 w-24 mb-2"></div><div class="skeleton h-3 w-16"></div></div><div class="shrink-0 flex flex-col items-end"><div class="skeleton h-3 w-16 mb-2"></div><div class="skeleton h-3 w-6"></div></div>',3)]))}const St=w(Ct,[["render",Ot]]),Wt=C({setup:function(){const t=P({isTransactionModalOpen:!1,isLoading:!0}),a=L(),u=F(null),m=D(()=>a.transactions);return B(async()=>{await a.fetchTransactions(),t.isLoading=!1}),{state:t,transactions:m,transactionDetails:u,showTransaction:function(k){u.value=k},isEmpty:D(()=>m.value.today.length===0&&m.value.thisWeek.length===0&&m.value.thisMonth.length===0&&m.value.other.length===0)}},components:{TransactionItem:xt,TransactionItemSkeleton:St,TransactionModal:M(()=>x(()=>import("./TransactionModal-CeEp8P9k.js"),__vite__mapDeps([12,3,1,2,4,5]))),FluidEmptyState:N,ContentContainer:q}}),Pt={class:"block"},Bt={class:"text-par-l font-medium text-lab-pr2 mb-2"},Lt={class:"flex"},zt={class:"w-content"},Et={key:0,class:"block mb-2 last:mb-0"},Vt={class:"px-4 text-par-s text-lab-sc bg-fill-qt py-1 mb-2"},Ht={key:1,class:"block mb-2 last:mb-0"},Ft={class:"px-4 text-par-s text-lab-sc bg-fill-qt py-1 mb-2"},qt={key:2,class:"block mb-2 last:mb-0"},Nt={class:"px-4 text-par-s text-lab-sc bg-fill-qt py-1 mb-2"},At={key:3,class:"block mb-2 last:mb-0"},Rt={class:"px-4 text-par-s text-lab-sc bg-fill-qt py-1 mb-2"};function jt(t,a,u,m,k,I){const _=o("TransactionItemSkeleton"),p=o("FluidEmptyState"),y=o("ContentContainer"),v=o("TransactionItem"),g=o("TransactionModal"),O=o("PrimaryTransition");return n(),s(h,null,[e("div",Pt,[e("h4",Bt,l(t.$t("wallet.transactions_history")),1),e("div",Lt,[e("div",zt,[t.state.isLoading?(n(),s(h,{key:0},$(5,i=>r(_,{key:i})),64)):(n(),s(h,{key:1},[t.isEmpty?(n(),d(y,{key:0},{default:T(()=>[r(p,{text:t.$t("empty_state.wallet.transactions"),iconName:"receipt"},null,8,["text"])]),_:1})):(n(),s(h,{key:1},[t.transactions.today.length?(n(),s("div",Et,[e("div",Vt,l(t.$t("wallet.today")),1),(n(!0),s(h,null,$(t.transactions.today,i=>(n(),d(v,{transactionData:i,onClick:c=>t.showTransaction(i)},null,8,["transactionData","onClick"]))),256))])):f("",!0),t.transactions.thisWeek.length?(n(),s("div",Ht,[e("div",Ft,l(t.$t("wallet.this_week")),1),(n(!0),s(h,null,$(t.transactions.thisWeek,i=>(n(),d(v,{transactionData:i,onClick:c=>t.showTransaction(i)},null,8,["transactionData","onClick"]))),256))])):f("",!0),t.transactions.thisMonth.length?(n(),s("div",qt,[e("div",Nt,l(t.$t("wallet.this_month")),1),(n(!0),s(h,null,$(t.transactions.thisMonth,i=>(n(),d(v,{transactionData:i,onClick:c=>t.showTransaction(i)},null,8,["transactionData","onClick"]))),256))])):f("",!0),t.transactions.other.length?(n(),s("div",At,[e("div",Rt,l(t.$t("wallet.other")),1),(n(!0),s(h,null,$(t.transactions.other,i=>(n(),d(v,{transactionData:i,onClick:c=>t.showTransaction(i)},null,8,["transactionData","onClick"]))),256))])):f("",!0)],64))],64))])])]),(n(),d(W,{to:"body"},[r(O,null,{default:T(()=>[t.transactionDetails?(n(),d(g,{key:0,onClose:a[0]||(a[0]=i=>t.transactionDetails=null),transactionData:t.transactionDetails},null,8,["transactionData"])):f("",!0)]),_:1})]))],64)}const Gt=w(Wt,[["render",jt]]),Jt=C({components:{PageTitle:E,WalletOverview:ft,WalletTransactions:Gt}}),Kt={class:"my-top-offset block"},Qt={class:"mb-12"},Ut={class:"w-content 2xl:w-6/12"},Xt={class:"mb-8"},Yt={class:"block"};function Zt(t,a,u,m,k,I){const _=o("PageTitle"),p=o("WalletOverview"),y=o("WalletTransactions");return n(),s("div",Kt,[e("div",Qt,[r(_,{hasBack:!0,titleText:t.$t("wallet.wallet_page")},null,8,["titleText"])]),e("div",Ut,[e("div",Xt,[r(p)]),e("div",Yt,[r(y)])])])}const te=w(Jt,[["render",Zt]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"}));export{oe as W,L as u};
