import{k as h,c as n,s,i as m,e as l,p as y,y as T,t as r,F as c,f as k,r as S,b as v,o as P,d as a,q as $,x as F}from"./vendor-20TtR0Rd.js";import{_ as x,c as d}from"./global.properties-DKM1fd6s.js";import{a as B,f as V}from"./application-DEz9sPnz.js";import{T as w}from"./TextInput-Bad2IYlx.js";import{F as E}from"./FluidEmptyState-DExNov7G.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";const I=h({setup:function(){const t=S({links:[]}),e=v({isLoading:!0,isSubmitting:!1});return P(async()=>{await d().userSettings().getFrom("social/settings").then(i=>{t.value.links=i.data.data.links}),e.isLoading=!1}),{state:e,formData:t,submitForm:async()=>{e.isSubmitting===!1&&(e.isSubmitting=!0,await d().userSettings().with({links:t.value.links}).putTo("social/update").then(i=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(i=>{i.response&&toastError(i.response.data.message)}),e.isSubmitting=!1)}}},components:{PrimaryPillButton:V,TextInput:w,PageTitle:B,FluidEmptyState:E}}),D={class:"mb-8"},M={key:0,class:"block"},N={class:"mb-8"},A=["innerHTML"],C={class:"block mb-12"},L={class:"mb-4"},H={class:"text-par-m text-lab-sc font-medium"},U={class:"mb-6"},q={class:"block mb-16"},j={key:1,class:"block"},z={class:"flex-center h-96"};function G(t,e,i,J,K,O){const p=l("PageTitle"),u=l("TextInput"),_=l("PrimaryPillButton"),f=l("FluidEmptyState"),g=l("PrimarySpinAnimation");return a(),n(c,null,[s("div",D,[m(p,{hasBack:!0,titleText:t.$t("settings.social_media_settings")},null,8,["titleText"])]),t.state.isLoading?(a(),n("div",j,[s("div",z,[m(g)])])):(a(),n("div",M,[s("div",N,[s("h6",{class:"text-par-s text-lab-sc",innerHTML:t.$t("settings.forms.social_media.page_desc",{app_name:t.$embedder("config.app.name")})},null,8,A)]),t.formData.links.length?(a(),n("form",{key:0,onSubmit:e[0]||(e[0]=T((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[s("div",C,[s("div",L,[s("h6",H,r(t.$t("settings.forms.social_media.social_media")),1)]),(a(!0),n(c,null,k(t.formData.links,o=>(a(),n("div",U,[m(u,{modelValue:o.url,"onUpdate:modelValue":b=>o.url=b,inputType:"url",labelText:o.name,placeholder:t.$t("settings.forms.social_media.not_specified")},{feedbackInfo:$(()=>[F(r(t.$t("settings.forms.social_media.social_media_helper",{platform_name:o.name})),1)]),_:2},1032,["modelValue","onUpdate:modelValue","labelText","placeholder"])]))),256))]),s("div",q,[m(_,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)):(a(),y(f,{key:1,iconName:"whatsapp",iconType:"social",text:t.$t("empty_state.settings.social_media")},null,8,["text"]))]))],64)}const it=x(I,[["render",G]]);export{it as default};
