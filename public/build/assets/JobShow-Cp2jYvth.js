const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatLauncher-D_3-fz5N.js","assets/global.properties-DKM1fd6s.js","assets/editor-CpZ7vO5P.js","assets/media-D4ZD3EDk.js","assets/vendor-20TtR0Rd.js","assets/index-ciglwFMH.js","assets/AvatarMedium-Dt88Ycme.js","assets/application-DEz9sPnz.js","assets/inbox.store-CHx7CB4w.js","assets/ui-Bp8YvxdW.js"])))=>i.map(i=>d[i]);
import{k as L,c as b,s as t,p as h,v as g,i as n,e as o,y as O,t as s,q as c,x as T,j as R,Q as x,F as A,B as I,r as C,b as P,o as $,l as p,d as r,H as V}from"./vendor-20TtR0Rd.js";import{u as w}from"./jobs.store-EH_UKT1H.js";import{A as E,S as F,T as M}from"./AdGridItem-Caaf0ZJU.js";import{P as N}from"./PageHeader-DKtQQhA9.js";import{F as z}from"./FollowRecommendationList-UjQQknis.js";import{_ as D,a as G}from"./global.properties-DKM1fd6s.js";import{c as q}from"./index-DyH4rDzV.js";import{g as Q,P as K,f as U,e as W}from"./application-DEz9sPnz.js";import{J as X}from"./JobHighlighter-Em80NSAu.js";import{V as Y}from"./ViewsCounter-DDf6U7Tj.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";const Z=L({props:{jobData:{type:Object,required:!0}},setup:function(e){const a=C(e.jobData),l=C(null),d=w(),i=P({textExpanded:!1,textOverflow:!1,isChatLauncherOpen:!1});return $(()=>{i.textOverflow=q(l.value,12)}),{jobData:a,state:i,jobDescriptionHolder:l,publisher:p(()=>a.value.relations.user),permissions:a.value.meta.permissions,hasBookmarked:p(()=>a.value.meta.activity.bookmarked),chatLauncherPayload:p(()=>({type:"job",id:a.value.id})),chatLauncherToggle:function(){i.isChatLauncherOpen=!i.isChatLauncherOpen},bookmarkJob:async function(){await d.bookmarkJob(a.value.id).then(m=>{m.data.data.bookmarked?(a.value.meta.activity.bookmarked=!0,toastSuccess(__t("toast.job.job_bookmarked"))):(a.value.meta.activity.bookmarked=!1,toastSuccess(__t("toast.job.job_unbookmarked")))}).catch(m=>{m.response&&alert(m.response.data.message)})}}},components:{AvatarRightSided:W,PrimaryPillButton:U,PrimaryIconButton:K,JobHighlighter:X,ViewsCounter:Y,PrimaryTextButton:Q,ChatLauncher:I(function(){return G(()=>import("./ChatLauncher-D_3-fz5N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))})}}),ee={class:"flex justify-between p-4"},te={class:"overflow-hidden"},oe={class:"shrink-0"},ae={class:"px-4 pb-10"},ne={class:"mb-4"},se={class:"text-title-2 2xl:text-title-1 font-bold text-lab-pr leading-tight mb-2"},ie={class:"block text-par-n mb-2 text-lab-pr2 font-semibold"},re={class:"block text-par-n mb-2 text-lab-sc font-light"},le={key:0,class:"mb-2"},de=["innerHTML"],me={class:"flex items-end mb-4"},ce={class:"mr-4 inline-flex items-center gap-3"},ue={class:"shrink-0 leading-none ml-auto"},be={class:"mb-4"},pe={class:"block"},he={class:"text-title-3 text-lab-pr2 font-semibold mb-4"},_e={class:"text-par-m text-lab-pr2"},fe={class:"mb-3 flex flex-col gap-2 text-lab-sc"},ve={class:"font-semibold text-lab-pr2"},ke={class:"font-semibold text-lab-pr2"},je={class:"block break-words"},ye=["innerHTML"],ge={key:0,class:"block mt-2"};function Te(e,a,l,d,i,m){const _=o("AvatarRightSided"),f=o("PrimaryIconButton"),v=o("JobHighlighter"),u=o("PrimaryPillButton"),k=o("RouterLink"),j=o("ViewsCounter"),y=o("Border"),B=o("PrimaryTextButton"),S=o("ChatLauncher"),H=o("PrimaryTransition");return r(),b(A,null,[t("div",ee,[t("div",te,[n(_,{avatarSrc:e.publisher.avatar_url,name:e.publisher.name,verified:e.publisher.verified,linkRoute:{name:"profile_index",params:{id:e.publisher.username}},caption:e.publisher.caption},null,8,["avatarSrc","name","verified","linkRoute","caption"])]),t("div",oe,[n(f,{iconName:"bookmark",buttonColor:e.hasBookmarked?"text-brand-900":"text-lab-pr2",hoverText:"hover:text-brand-900",onClick:O(e.bookmarkJob,["prevent"]),iconType:e.hasBookmarked?"solid":"line"},null,8,["buttonColor","onClick","iconType"])])]),t("div",ae,[t("div",ne,[t("h4",se,s(e.jobData.title),1),t("p",ie,s(e.jobData.is_start_income?e.$t("job.income_from",{amount:e.jobData.income.formatted}):e.$t("job.income_to",{amount:e.jobData.income.formatted})),1),t("p",re,s(e.jobData.category_name)+", "+s(e.jobData.is_remote?e.$t("job.remote_job"):e.$t("job.office_job"))+" Â· "+s(e.jobData.date.time_ago),1),(e.jobData.is_urgent,r(),b("div",le,[n(v,{labelText:e.$t("job.urgent_order")},null,8,["labelText"])])),t("p",{class:"text-par-l text-lab-pr2 mb-2",innerHTML:e.$mdInline(e.jobData.overview)},null,8,de)]),t("div",me,[t("div",ce,[e.permissions.can_apply?(r(),h(u,{key:0,buttonType:"button",onClick:e.chatLauncherToggle,buttonSize:"lm",buttonText:e.$t("job.apply_now")},null,8,["onClick","buttonText"])):g("",!0),n(k,{to:{name:"profile_index",params:{id:e.publisher.username}}},{default:c(()=>[n(u,{buttonType:"button",buttonSize:"lm",buttonRole:"stroked",buttonText:e.$t("labels.view_profile")},null,8,["buttonText"])]),_:1},8,["to"])]),t("div",ue,[n(j,{counterValue:e.jobData.views_count.formatted},null,8,["counterValue"])])]),t("div",be,[n(y)]),t("div",pe,[t("h3",he,s(e.$t("job.job_description")),1),t("div",_e,[t("ul",fe,[t("li",null,[t("span",ve,s(e.$t("labels.published_at"))+":",1),T(" "+s(e.jobData.date.iso),1)]),t("li",null,[t("span",ke,s(e.$t("labels.location"))+":",1),T(" "+s(e.jobData.is_remote?e.$t("job.remote_job"):e.jobData.location),1)])]),t("div",je,[t("p",{ref:"jobDescriptionHolder",class:R([e.state.textExpanded?"":"line-clamp-[12]"]),innerHTML:e.$mdInline(e.jobData.description)},null,10,ye)]),e.state.textOverflow?(r(),b("div",ge,[n(B,{onClick:a[0]||(a[0]=J=>e.state.textExpanded=!e.state.textExpanded),buttonText:e.state.textExpanded?e.$t("labels.see_less_description"):e.$t("labels.see_full_description")},null,8,["buttonText"])])):g("",!0)])])]),e.state.isChatLauncherOpen?(r(),h(x,{key:0,to:"body"},[n(H,null,{default:c(()=>[n(S,{userId:e.publisher.id,payload:e.chatLauncherPayload,onClose:a[1]||(a[1]=J=>e.state.isChatLauncherOpen=!1)},null,8,["userId","payload"])]),_:1})])):g("",!0)],64)}const Ce=D(Z,[["render",Te]]),Le=L({props:{job_id:{type:String,required:!0}},setup:function(e){const a=V(),l=P({isLoading:!0}),d=w(),i=p(()=>d.job);return $(async()=>{await d.fetchJob(e.job_id),i.value||a.push({name:"error_404"}),l.isLoading=!1}),{state:l,jobData:i}},components:{PageHeader:N,TimelineContainer:M,SidedContentLayout:F,JobOverview:Ce,FollowRecommendationList:z,AdGridItem:E}}),Pe={class:"sticky top-0 popup-background-tr z-10 border-b border-bord-pr"},$e={key:0,class:"flex-center h-96"};function we(e,a,l,d,i,m){const _=o("PageHeader"),f=o("PrimarySpinAnimation"),v=o("JobOverview"),u=o("TimelineContainer"),k=o("FollowRecommendationList"),j=o("AdGridItem"),y=o("SidedContentLayout");return r(),h(y,null,{content:c(()=>[n(u,null,{default:c(()=>[t("div",Pe,[n(_,{hasBack:!0,titleText:e.$t("job.jobs_overview")},null,8,["titleText"])]),e.state.isLoading?(r(),b("div",$e,[n(f)])):(r(),h(v,{key:1,jobData:e.jobData},null,8,["jobData"]))]),_:1})]),sidebar:c(()=>[n(k),n(j)]),_:1})}const ze=D(Le,[["render",we]]);export{ze as default};
