import{_,d as v,c as g,j as o,m as h,a as r,r as u,w as S,u as T,F as P,q as m,g as y,h as L,l as c,o as d,p as w,t as $}from"./global.properties-ieI6Xwik.js";import{a as B,f as k}from"./application-DnsIlr-S.js";import{S as V}from"./SelectInput-a7T_HM_x.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";import"./listbox-YLrGfEqV.js";import"./form-C7kFQr8W.js";const F=v({setup:function(){const e=m([]),t=m(null),a=y({isLoading:!0,isSubmitting:!1});return L(async()=>{await c().userSettings().getFrom("languages").then(s=>{e.value=s.data.data.map(n=>({label:n.name,value:n.code,current:n.current==!0}));let i=e.value.find(n=>n.current==!0);i?t.value=i.value:t.value=e.value[0].value}),a.isLoading=!1}),{state:a,languages:e,currentLanguage:t,submitForm:async()=>{a.isSubmitting===!1&&(a.isSubmitting=!0,await c().userSettings().with({language:t.value}).putTo("languages/switch").then(s=>{toastSuccess(__t("toast.forms.changes_saved")),window.location.reload()}).catch(s=>{s.response&&toastError(s.response.data.message),a.isSubmitting=!0}))}}},components:{PrimaryPillButton:k,SelectInput:V,PageTitle:B}}),I={class:"mb-8"},C={key:0,class:"block"},M={class:"mb-8"},N=["innerHTML"],E={class:"mb-10"},H={class:"block mb-16"};function j(e,t,a,s,i,n){const p=u("PageTitle"),f=u("SelectInput"),b=u("PrimaryPillButton");return d(),g(P,null,[o("div",I,[r(p,{hasBack:!0,titleText:e.$t("settings.language_settings")},null,8,["titleText"])]),e.state.isLoading?h("",!0):(d(),g("div",C,[o("div",M,[o("h6",{class:"text-par-s text-lab-sc",innerHTML:e.$t("settings.forms.language.page_desc")},null,8,N)]),o("form",{onSubmit:t[1]||(t[1]=T((...l)=>e.submitForm&&e.submitForm(...l),["prevent"]))},[o("div",E,[r(f,{modelValue:e.currentLanguage,"onUpdate:modelValue":t[0]||(t[0]=l=>e.currentLanguage=l),labelText:e.$t("settings.forms.language.display_language"),options:e.languages},{feedbackInfo:S(()=>[w($(e.$t("settings.forms.language.display_language_helper")),1)]),_:1},8,["modelValue","labelText","options"])]),o("div",H,[r(b,{loading:e.state.isSubmitting,buttonType:"submit",buttonText:e.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const K=_(F,[["render",j]]);export{K as default};
