import{_ as h,d as T,c as n,j as s,a as m,r as l,e as y,u as S,t as r,F as c,i as k,q as v,g as P,h as $,l as d,o as a,w as F,p as B}from"./global.properties-ieI6Xwik.js";import{a as x,f as w}from"./application-DnsIlr-S.js";import{T as V}from"./TextInput-CE1Bv1lI.js";import{F as E}from"./FluidEmptyState-5rqvt3kR.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";const I=T({setup:function(){const t=v({links:[]}),e=P({isLoading:!0,isSubmitting:!1});return $(async()=>{await d().userSettings().getFrom("social/settings").then(i=>{t.value.links=i.data.data.links}),e.isLoading=!1}),{state:e,formData:t,submitForm:async()=>{e.isSubmitting===!1&&(e.isSubmitting=!0,await d().userSettings().with({links:t.value.links}).putTo("social/update").then(i=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(i=>{i.response&&toastError(i.response.data.message)}),e.isSubmitting=!1)}}},components:{PrimaryPillButton:w,TextInput:V,PageTitle:x,FluidEmptyState:E}}),D={class:"mb-8"},M={key:0,class:"block"},N={class:"mb-8"},A=["innerHTML"],C={class:"block mb-12"},L={class:"mb-4"},H={class:"text-par-m text-lab-sc font-medium"},U={class:"mb-6"},j={class:"block mb-16"},q={key:1,class:"block"},z={class:"flex-center h-96"};function G(t,e,i,J,K,O){const p=l("PageTitle"),u=l("TextInput"),_=l("PrimaryPillButton"),f=l("FluidEmptyState"),g=l("PrimarySpinAnimation");return a(),n(c,null,[s("div",D,[m(p,{hasBack:!0,titleText:t.$t("settings.social_media_settings")},null,8,["titleText"])]),t.state.isLoading?(a(),n("div",q,[s("div",z,[m(g)])])):(a(),n("div",M,[s("div",N,[s("h6",{class:"text-par-s text-lab-sc",innerHTML:t.$t("settings.forms.social_media.page_desc",{app_name:t.$embedder("config.app.name")})},null,8,A)]),t.formData.links.length?(a(),n("form",{key:0,onSubmit:e[0]||(e[0]=S((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[s("div",C,[s("div",L,[s("h6",H,r(t.$t("settings.forms.social_media.social_media")),1)]),(a(!0),n(c,null,k(t.formData.links,o=>(a(),n("div",U,[m(u,{modelValue:o.url,"onUpdate:modelValue":b=>o.url=b,inputType:"url",labelText:o.name,placeholder:t.$t("settings.forms.social_media.not_specified")},{feedbackInfo:F(()=>[B(r(t.$t("settings.forms.social_media.social_media_helper",{platform_name:o.name})),1)]),_:2},1032,["modelValue","onUpdate:modelValue","labelText","placeholder"])]))),256))]),s("div",j,[m(_,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)):(a(),y(f,{key:1,iconName:"whatsapp",iconType:"social",text:t.$t("empty_state.settings.social_media")},null,8,["text"]))]))],64)}const et=h(I,[["render",G]]);export{et as default};
