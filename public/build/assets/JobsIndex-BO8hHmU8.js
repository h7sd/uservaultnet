import{k as w,p as h,q as u,s as a,z as P,v as C,i as n,y as j,e as o,A as R,c as r,b as J,d as i,F as c,r as M,l as k,w as U,o as K,H as O,t as $,f as S}from"./vendor-20TtR0Rd.js";import{u as W}from"./index-B5kc-12x.js";import{u as X}from"./jobs.store-EH_UKT1H.js";import{_ as I,d as H}from"./global.properties-DKM1fd6s.js";import{A as Y,T as Z,S as x}from"./AdGridItem-Caaf0ZJU.js";import{P as ee}from"./PageHeader-DKtQQhA9.js";import{n as te,o as oe,P as E,g as ne,B as se,k as ae}from"./application-DEz9sPnz.js";import{S as ie}from"./SearchBar-ljxjEWz7.js";import{J as re,a as le}from"./JobCardSkeleton-D4IW1a2k.js";import{C as ce}from"./CategoriesFilter-ass-G6-c.js";import{F as ue}from"./FluidEmptyState-DExNov7G.js";import{S as de}from"./ScrollTopButton-BIhzsUlF.js";import{F as me}from"./FollowRecommendationList-UjQQknis.js";import{T as pe}from"./TimelineCallout-DsRcAxDP.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./ViewsCounter-DDf6U7Tj.js";import"./JobHighlighter-Em80NSAu.js";const fe=w({setup:function(){return{state:J({mainMenu:H()})}},components:{PageHeader:ee,PrimaryIconButton:E,RichMenu:oe,RichMenuItem:te}}),_e={class:"relative"},be={class:"opacity-80 hover:opacity-100 translate-x-1"},ye={key:0,class:"absolute top-full right-0 w-96 z-50"},ge=["href"];function he(e,t,m,p,s,y){const g=o("PrimaryIconButton"),f=o("RichMenuItem"),_=o("Border"),b=o("RouterLink"),d=o("RichMenu"),v=o("PageHeader"),B=R("outside-click");return i(),h(v,{hasBack:!0,titleText:e.$t("job.jobs_title")},{default:u(()=>[a("div",_e,[a("div",be,[n(g,{onClick:j(e.state.mainMenu.open,["stop"]),iconName:"plus"},null,8,["onClick"])]),e.state.mainMenu.status?P((i(),r("div",ye,[n(d,null,{default:u(()=>[a("a",{href:e.$getRoute("business_dashboard_index"),target:"_blank",class:"block"},[n(f,{title:e.$t("job.nav_menu.create_job.title"),description:e.$t("job.nav_menu.create_job.description"),trailingIconName:"arrow-up-right",iconName:"briefcase-01",iconType:"solid"},null,8,["title","description"])],8,ge),n(_),n(b,{to:{name:"saved_jobs"},class:"block"},{default:u(()=>[n(f,{title:e.$t("job.nav_menu.bookmarks.title"),description:e.$t("job.nav_menu.bookmarks.description"),trailingIconName:"arrow-up-right",iconName:"bookmark",iconType:"solid"},null,8,["title","description"])]),_:1})]),_:1})])),[[B,e.state.mainMenu.close]]):C("",!0)])]),_:1},8,["titleText"])}const T=I(fe,[["render",he]]),Ce=w({setup:function(e){const t=J({isLoading:!0,isSearchLoading:!1,noMoreContent:!1,isLoadingContent:!1,isEmpty:!1,filterMenu:H()}),m=M(null);O();const p=M(""),s=X(),y=k(()=>s.jobs),g=k(()=>s.categories),f=k(()=>s.filter);U(p,()=>{s.filter.query=p.value,debounce(async()=>{await _()},500)});const _=async function(){t.noMoreContent=!1,s.filter.cursor=null,t.isSearchLoading=!0,await s.fetchJobs(),t.isSearchLoading=!1},b=k(()=>s.activeFiltersCount);return W({callback:()=>{debounce(async()=>{!t.isLoadingContent&&!t.noMoreContent&&y.value.length&&(t.isLoadingContent=!0,s.filter.cursor=s.getLastJobId(),t.noMoreContent=!await s.loadMoreJobs(),t.isLoadingContent=!1)},200)}}),K(async function(){s.resetFilter(),await s.fetchCategories(),await s.fetchJobs(),debounce(()=>{y.value.length||(t.isEmpty=!0)},500),t.isLoading=!1}),{jobs:y,filter:f,state:t,searchQuery:p,activeFiltersCount:b,categories:g,selectedCategory:m,resetFilter:async()=>{s.resetFilter(),p.value="",m.value=null,t.isLoading=!0,await s.fetchJobs(),t.isLoading=!1},selectCategory:d=>{s.filter.category_id==d.id?(s.filter.category_id=null,m.value=null):(s.filter.category_id=d.id,m.value=d),_()}}},components:{SidedContentLayout:x,JobCard:le,TimelineContainer:Z,CategoriesFilter:ce,FluidEmptyState:ue,BoardHeader:T,ScrollTopButton:de,FollowRecommendationList:me,AdGridItem:Y,PrimaryIconButton:E,JobCardSkeleton:re,PopupPanel:ae,BadgeCounter:se,SearchBar:ie,BoardHeader:T,TimelineCallout:pe,PrimaryTextButton:ne}}),ke={class:"sticky top-0 popup-background-tr z-10"},ve={class:"p-4 pb-8"},Be={class:"mb-4"},Se={class:"flex justify-between items-end"},Le={class:"text-par-l text-lab-pr2 font-semibold truncate"},Fe={class:"flex items-center gap-2 ml-auto"},Me={class:"relative"},$e={class:"relative"},Te={class:"absolute -top-1 -right-1"},we={class:"popup-card bg-bg-pr"},Pe={class:"p-4 border-b border-b-bord-pr"},je={class:"text-par-l text-lab-pr2 font-semibold text-center"},Re={class:"max-h-[700px] overflow-y-auto"},Je={class:"p-4"},Ie={key:0};function He(e,t,m,p,s,y){const g=o("BoardHeader"),f=o("Border"),_=o("SearchBar"),b=o("PrimaryTextButton"),d=o("BadgeCounter"),v=o("CategoriesFilter"),B=o("PopupPanel"),L=o("JobCardSkeleton"),F=o("FluidEmptyState"),N=o("JobCard"),A=o("RouterLink"),V=o("TimelineContainer"),D=o("FollowRecommendationList"),G=o("AdGridItem"),Q=o("SidedContentLayout"),z=o("ScrollTopButton"),q=R("outside-click");return i(),r(c,null,[n(Q,null,{content:u(()=>[n(V,null,{default:u(()=>[n(g),n(f),a("div",ke,[a("div",ve,[a("div",Be,[n(_,{modelValue:e.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=l=>e.searchQuery=l),modelModifiers:{trim:!0},placeholder:e.$t("labels.search")},null,8,["modelValue","placeholder"])]),a("div",Se,[a("h4",Le,$(e.selectedCategory?e.selectedCategory.name:e.$t("labels.for_you")),1),a("div",Fe,[e.activeFiltersCount?(i(),r(c,{key:0},[n(b,{buttonRole:"danger",onClick:e.resetFilter,buttonText:e.$t("market.reset_filters")},null,8,["onClick","buttonText"]),t[2]||(t[2]=a("div",{class:"w-px h-4 bg-bord-pr"},null,-1))],64)):C("",!0),a("div",Me,[a("div",$e,[n(b,{onClick:j(e.state.filterMenu.toggle,["stop"]),buttonRole:"marginal",buttonText:e.$t("labels.filters")},null,8,["onClick","buttonText"]),a("span",Te,[e.activeFiltersCount?(i(),h(d,{key:0,count:e.activeFiltersCount},null,8,["count"])):C("",!0)])]),e.state.filterMenu.status?P((i(),r("div",{key:0,onClick:t[1]||(t[1]=(...l)=>e.state.filterMenu.close&&e.state.filterMenu.close(...l)),class:"absolute top-full -right-4 bottom-0 w-content"},[a("div",we,[n(B,null,{default:u(()=>[a("div",Pe,[a("h4",je,$(e.$t("labels.filters")),1)]),a("div",Re,[a("div",Je,[n(v,{onSelect:e.selectCategory,selected:e.filter.category_id,categories:e.categories},null,8,["onSelect","selected","categories"])])])]),_:1})])])),[[q,e.state.filterMenu.close]]):C("",!0)])])])])]),e.state.isLoading?(i(),r(c,{key:0},S(3,l=>n(L,{key:l})),64)):(i(),r(c,{key:1},[e.state.isEmpty?(i(),h(F,{key:0,text:e.$t("empty_state.empty"),iconType:"solid"},null,8,["text"])):(i(),r(c,{key:1},[e.state.isSearchLoading?(i(),r(c,{key:0},S(3,l=>n(L,{key:l})),64)):(i(),r(c,{key:1},[e.jobs.length?(i(),r(c,{key:0},[(i(!0),r(c,null,S(e.jobs,l=>(i(),r("div",null,[n(A,{to:{name:"jobs_show",params:{job_id:l.hash_id}},class:"block"},{default:u(()=>[(i(),h(N,{key:l.id,jobData:l},null,8,["jobData"]))]),_:2},1032,["to"])]))),256)),e.state.isLoadingContent?(i(),r("div",Ie,t[3]||(t[3]=[a("div",{class:"flex justify-center my-4"},[a("div",{class:"colibri-primary-animation"})],-1)]))):C("",!0)],64)):(i(),h(F,{key:1,text:e.$t("empty_state.jobs.filter"),iconType:"solid"},null,8,["text"]))],64))],64))],64))]),_:1})]),sidebar:u(()=>[n(D),n(G)]),_:1}),n(z)],64)}const st=I(Ce,[["render",He]]);export{st as default};
