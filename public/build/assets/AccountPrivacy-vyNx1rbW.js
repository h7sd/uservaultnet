import{_ as b,c as $}from"./global.properties-DKM1fd6s.js";import{a as O}from"./application-DEz9sPnz.js";import{k as g,c as f,s as e,i as o,e as n,t as m,h as k,d,p as x,q as i,f as M,j as D,F as S,l as z,r as T,b as N,o as P,w as B}from"./vendor-20TtR0Rd.js";import{F as U,A,j as I,I as F}from"./listbox-DUieglFY.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./form-C9UNAZed.js";const j=g({props:{iconName:{type:String,default:""},iconType:{type:String,default:"line"},titleText:{type:String,default:""},captionText:{type:String,default:""}}}),C={class:"cursor-pointer flex items-center justify-between border border-bord-pr px-5 py-4 rounded-xl gap-3"},q={class:"shrink-0 size-icon-normal text-lab-pr"},E={class:"flex-1"},H={class:"text-par-n font-semibold text-lab-pr2"},G=["innerHTML"],J={class:"shrink-0 max-w-half"};function K(t,s,u,r,l,h){const _=n("SvgIcon");return d(),f("div",C,[e("div",q,[o(_,{name:t.iconName,type:t.iconType},null,8,["name","type"])]),e("div",E,[e("h5",H,m(t.titleText),1),e("p",{class:"text-par-s text-lab-sc",innerHTML:t.captionText},null,8,G)]),e("div",J,[k(t.$slots,"selectMenu")])])}const Q=b(j,[["render",K]]),R=g({props:{modelValue:{type:String,default:""},options:{type:Array,default:[]}},emits:["update:modelValue"],setup:function(t,s){return{selectedOption:z(()=>t.options.find(r=>r.value===t.modelValue)),updateValue:function(r){s.emit("update:modelValue",r.value)}}},components:{Listbox:F,ListboxButton:I,ListboxOptions:A,ListboxOption:U}}),W={class:"relative inline-block max-w-full"},X={class:"flex items-center overflow-hidden"},Y={class:"flex-1 text-lab-sc text-ellipsis truncate font-medium"},Z={class:"shrink-0"};function tt(t,s,u,r,l,h){const _=n("SvgIcon"),c=n("ListboxButton"),p=n("ListboxOption"),v=n("ListboxOptions"),a=n("PrimaryTransition"),V=n("Listbox");return d(),x(V,{modelValue:t.selectedOption,"onUpdate:modelValue":t.updateValue,class:"relative max-w-full"},{default:i(()=>[e("div",W,[o(c,{class:"cursor-pointer max-w-full overflow-hidden text-cap-l"},{default:i(()=>[e("span",X,[e("span",Y,m(t.selectedOption.label),1),e("span",Z,[o(_,{name:"chevron-down",classes:"size-4 text-lab-sc"})])])]),_:1}),o(a,null,{default:i(()=>[o(v,{class:"absolute py-2 overflow-hidden right-0 mb-2 w-60 divide-y divide-fill-sc rounded-xl backdrop-blur-xs bg-bg-pr/85 shadow-2xl focus:outline-hidden z-50"},{default:i(()=>[(d(!0),f(S,null,M(t.options,y=>(d(),x(p,{key:y.value,value:y},{default:i(({active:w,selected:L})=>[e("span",{class:D([w||L?"bg-fill-qt":"","block py-2 px-4 cursor-pointer text-par-s text-lab-pr"])},m(y.label),3)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue","onUpdate:modelValue"])}const et=b(R,[["render",tt]]),st=g({setup:function(){const t=T({}),s=N({isLoading:!0,isSubmitting:!1}),u=T({followers:[{label:__t("settings.forms.account_privacy.all_users"),value:"all"},{label:__t("settings.forms.account_privacy.only_approved"),value:"approved"}],direct_messages:[{label:__t("settings.forms.account_privacy.all_users"),value:"all"},{label:__t("settings.forms.account_privacy.nobody"),value:"nobody"}],story_replies:[{label:__t("settings.forms.account_privacy.all_users"),value:"all"},{label:__t("settings.forms.account_privacy.nobody"),value:"nobody"}],group_invites:[{label:__t("settings.forms.account_privacy.all_users"),value:"all"},{label:__t("settings.forms.account_privacy.nobody"),value:"nobody"}],mentions:[{label:__t("settings.forms.account_privacy.all_users"),value:"all"},{label:__t("settings.forms.account_privacy.nobody"),value:"nobody"}],payment_transfers:[{label:__t("settings.forms.account_privacy.all_users"),value:"all"},{label:__t("settings.forms.account_privacy.nobody"),value:"nobody"}]});P(async()=>{await $().userSettings().getFrom("privacy/settings").then(l=>{t.value=l.data.data}),s.isLoading=!1,B(t,l=>{r()},{deep:!0})});const r=async()=>{s.isSubmitting===!1&&(s.isSubmitting=!0,await $().userSettings().with(t.value).putTo("privacy/update").then(l=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(l=>{l.response&&toastError(l.response.data.message)}),s.isSubmitting=!1)};return{privacyOptions:u,state:s,formData:t}},components:{PageTitle:O,SectionSelect:Q,ListboxSelect:et}}),ot={class:"mb-8"},at={key:0,class:"block"},nt={class:"mb-8"},it={class:"text-par-m text-lab-sc"},lt={class:"mb-4"},rt={class:"text-par-m text-lab-sc font-medium"},ct={class:"mb-12"},pt={class:"mb-4"},mt={class:"text-par-m text-lab-sc font-medium"},dt={class:"mb-12"},ut={class:"mb-3"},_t={class:"mb-4"},ft={class:"text-par-m text-lab-sc font-medium"},vt={class:"mb-12"},yt={class:"mb-3"},bt={class:"mb-4"},gt={class:"text-par-m text-lab-sc font-medium"},ht={class:"mb-12"},$t={key:1,class:"block"},xt={class:"flex-center h-96"};function Tt(t,s,u,r,l,h){const _=n("PageTitle"),c=n("ListboxSelect"),p=n("SectionSelect"),v=n("PrimarySpinAnimation");return d(),f(S,null,[e("div",ot,[o(_,{hasBack:!0,titleText:t.$t("settings.account_privacy")},null,8,["titleText"])]),t.state.isLoading?(d(),f("div",$t,[e("div",xt,[o(v)])])):(d(),f("div",at,[e("div",nt,[e("h6",it,m(t.$t("settings.forms.account_privacy.page_desc")),1)]),e("div",lt,[e("h6",rt,m(t.$t("settings.forms.account_privacy.auditory")),1)]),e("div",ct,[o(p,{iconName:"user-plus-01",captionText:t.$t("settings.forms.account_privacy.followers_helper"),titleText:t.$t("settings.forms.account_privacy.followers")},{selectMenu:i(()=>[o(c,{modelValue:t.formData.followers,"onUpdate:modelValue":s[0]||(s[0]=a=>t.formData.followers=a),modelModifiers:{lazy:!0},options:t.privacyOptions.followers},null,8,["modelValue","options"])]),_:1},8,["captionText","titleText"])]),e("div",pt,[e("h6",mt,m(t.$t("settings.forms.account_privacy.messages_and_stories")),1)]),e("div",dt,[e("div",ut,[o(p,{iconName:"message-chat-circle",captionText:t.$t("settings.forms.account_privacy.direct_messages_helper"),titleText:t.$t("settings.forms.account_privacy.direct_messages")},{selectMenu:i(()=>[o(c,{modelValue:t.formData.direct_messages,"onUpdate:modelValue":s[1]||(s[1]=a=>t.formData.direct_messages=a),modelModifiers:{lazy:!0},options:t.privacyOptions.direct_messages},null,8,["modelValue","options"])]),_:1},8,["captionText","titleText"])]),o(p,{iconName:"send-01",captionText:t.$t("settings.forms.account_privacy.story_replies_helper"),titleText:t.$t("settings.forms.account_privacy.story_replies")},{selectMenu:i(()=>[o(c,{modelValue:t.formData.story_replies,"onUpdate:modelValue":s[2]||(s[2]=a=>t.formData.story_replies=a),modelModifiers:{lazy:!0},options:t.privacyOptions.story_replies},null,8,["modelValue","options"])]),_:1},8,["captionText","titleText"])]),e("div",_t,[e("h6",ft,m(t.$t("settings.forms.account_privacy.permissions")),1)]),e("div",vt,[e("div",yt,[o(p,{iconName:"users-01",captionText:t.$t("settings.forms.account_privacy.group_invites_helper"),titleText:t.$t("settings.forms.account_privacy.group_invites")},{selectMenu:i(()=>[o(c,{modelValue:t.formData.group_invites,"onUpdate:modelValue":s[3]||(s[3]=a=>t.formData.group_invites=a),modelModifiers:{lazy:!0},options:t.privacyOptions.group_invites},null,8,["modelValue","options"])]),_:1},8,["captionText","titleText"])]),o(p,{iconName:"at-sign",captionText:t.$t("settings.forms.account_privacy.mentions_helper"),titleText:t.$t("settings.forms.account_privacy.mentions")},{selectMenu:i(()=>[o(c,{modelValue:t.formData.mentions,"onUpdate:modelValue":s[4]||(s[4]=a=>t.formData.mentions=a),modelModifiers:{lazy:!0},options:t.privacyOptions.mentions},null,8,["modelValue","options"])]),_:1},8,["captionText","titleText"])]),e("div",bt,[e("h6",gt,m(t.$t("settings.forms.account_privacy.payment_transfers")),1)]),e("div",ht,[o(p,{iconName:"wallet-02",captionText:t.$t("settings.forms.account_privacy.payments_helper"),titleText:t.$t("settings.forms.account_privacy.payments")},{selectMenu:i(()=>[o(c,{modelValue:t.formData.payment_transfers,"onUpdate:modelValue":s[5]||(s[5]=a=>t.formData.payment_transfers=a),modelModifiers:{lazy:!0},options:t.privacyOptions.payment_transfers},null,8,["modelValue","options"])]),_:1},8,["captionText","titleText"])])]))],64)}const Pt=b(st,[["render",Tt]]);export{Pt as default};
