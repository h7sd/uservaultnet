import{_ as T,c}from"./global.properties-DKM1fd6s.js";import{a as $,e as D,d as y}from"./application-DEz9sPnz.js";import{M as I}from"./ModalRowButton-jhxh9tnR.js";import{I as w,a as R}from"./InfoListItem-BQStCPsW.js";import{k as q,c as u,s as e,i as n,e as o,x as m,t as r,q as A,F as g,p as h,v as B,b as L,l as N,r as P,o as C,d as a}from"./vendor-20TtR0Rd.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";const M=q({setup:function(){const t=y(),s=L({isLoading:!0,isSubmitting:!1}),p=N(()=>t.userData),l=P(null);return C(async()=>{await c().userSettings().getFrom("authorship/settings").then(i=>{l.value=i.data.data}),s.isLoading=!1}),{state:s,userData:p,requestData:l,submitForm:async()=>{s.isSubmitting===!1&&(s.isSubmitting=!0,await c().userSettings().sendTo("authorship/request").then(i=>{l.value.status="pending",toastSuccess(__t("toast.authorship.request_sent"))}).catch(i=>{i.response&&toastError(i.response.data.message)}),s.isSubmitting=!1)}}},components:{AvatarRightSided:D,PageTitle:$,ModalRowButton:I,InfoList:R,InfoListItem:w}}),F={class:"mb-8"},V={key:0,class:"block"},z={class:"mb-8"},j={class:"text-par-m text-lab-sc"},E=["href"],x={class:"border border-bord-pr rounded-2xl mt-4 overflow-hidden"},G={class:"p-4"},H={class:"mt-8"},J={class:"text-par-l font-bold text-lab-pr2 mb-1"},K={class:"text-par-n text-lab-sc"},O=["href"],Q={key:0,class:"p-4"},U={key:1,class:"block"},W={class:"flex-center h-96"};function X(t,s,p,l,i,Y){const b=o("PageTitle"),f=o("AvatarRightSided"),_=o("Border"),v=o("InfoListItem"),S=o("InfoList"),d=o("ModalRowButton"),k=o("PrimarySpinAnimation");return a(),u(g,null,[e("div",F,[n(b,{hasBack:!0,titleText:t.$t("settings.authorship")},null,8,["titleText"])]),t.state.isLoading?(a(),u("div",U,[e("div",W,[n(k)])])):(a(),u("div",V,[e("div",z,[e("h6",j,[m(r(t.$t("settings.forms.authorship.page_desc"))+". ",1),e("a",{target:"_blank",href:t.$getRoute("become_author"),class:"text-brand-900"},r(t.$t("labels.learn_more")),9,E)])]),e("div",x,[e("div",G,[n(f,{avatarSrc:t.userData.avatar_url,name:t.userData.name,verified:t.userData.verified,linkRoute:{name:"profile_index",params:{id:t.userData.username}},caption:t.userData.caption},null,8,["avatarSrc","name","verified","linkRoute","caption"]),e("div",H,[e("h3",J,r(t.$t("settings.forms.authorship.about_authorship.title")),1),e("p",K,[m(r(t.$t("settings.forms.authorship.about_authorship.line_one"))+" ",1),s[0]||(s[0]=e("br",null,null,-1)),s[1]||(s[1]=e("br",null,null,-1)),e("strong",null,[m(r(t.$t("settings.forms.authorship.about_authorship.line_two"))+" ",1),e("a",{target:"_blank",href:t.$getRoute("become_author"),class:"text-brand-900"},r(t.$t("labels.learn_more")),9,O)])])])]),n(_,{height:"h-3",opacity:"opacity-70"}),t.requestData.status==="authorized"?(a(),u("div",Q,[n(S,{listTitle:t.$t("settings.authorship")},{default:A(()=>[n(v,{iconName:"star-04",labelText:t.$t("settings.forms.authorship.authorized.title"),contentText:t.$t("settings.forms.authorship.authorized.desc")},null,8,["labelText","contentText"])]),_:1},8,["listTitle"])])):(a(),u(g,{key:1},[t.requestData.status==="not_requested"?(a(),h(d,{key:0,onClick:t.submitForm,disabled:t.state.isSubmitting,loading:t.state.isSubmitting,buttonText:t.$t("settings.forms.authorship.switch_to_author"),hasArrow:!0,iconName:"star-04"},null,8,["onClick","disabled","loading","buttonText"])):t.requestData.status==="pending"?(a(),h(d,{key:1,disabled:!0,buttonText:t.$t("settings.forms.authorship.request_pending"),hasArrow:!0,iconName:"star-04"},null,8,["buttonText"])):t.requestData.status==="rejected"?(a(),h(d,{key:2,buttonRole:"danger",disabled:!0,buttonText:t.$t("settings.forms.authorship.request_rejected"),hasArrow:!0,iconName:"star-04"},null,8,["buttonText"])):B("",!0)],64))])]))],64)}const lt=T(M,[["render",X]]);export{lt as default};
