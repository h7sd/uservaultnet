import{g as f}from"./index-BiajNNMq.js";import{d as b}from"./application-B35z453N.js";import{_ as v,d as y,r as c,c as n,o,j as a,a as d,e as w,w as B,F as m,i as _,m as C,q as g,h as x}from"./global.properties-ieI6Xwik.js";import{T as q}from"./TimelineEmptyState-D2cMbIuH.js";import"./swiper-element-bundle-DBu82uhE.js";import"./_commonjsHelpers-Cpj98o6Y.js";const G=y({props:{placeholder:{type:String,default:""}},emit:["input"],setup:function(e,s){return{inputHandler:l=>{s.emit("input",l.target.value)}}}}),L={class:"relative"},T=["placeholder"],A={class:"absolute top-0 right-4 bottom-0 inline-flex items-center justify-center"};function E(e,s,l,p,u,t){const r=c("SvgIcon");return o(),n("div",L,[a("input",{onInput:s[0]||(s[0]=(...h)=>e.inputHandler&&e.inputHandler(...h)),type:"text",class:"pl-4 pr-10 h-10 w-full bg-fill-tr text-par-l border-none smoothing focus:bg-fill-sc outline-hidden rounded-lg text-lab-pr placeholder:font-normal placeholder:text-par-l placeholder:text-lab-sc",placeholder:e.placeholder},null,40,T),a("div",A,[d(r,{name:"search-lg",class:"size-icon-small text-lab-sc"})])])}const j=v(G,[["render",E]]),z=y({emits:["close","select"],setup:function(e,s){const l=g([]),p=g(!0),u=t=>({id:t.id,url:t.images.fixed_width_small_still.url,is_loading:!0,gif:{preview:{url:t.images.preview_gif.url},original:{url:t.images.original.webp}}});return x(async()=>{try{let t=await f().getTrending();l.value=t.data.map(u)}catch{l.value=[]}p.value=!1}),{initialLoading:p,gifs:l,searchGifs:async t=>{try{let r=await f().limit(12).search(t);l.value=r.data.map(u)}catch{l.value=[]}},close:()=>{s.emit("close")},selectGif:t=>{s.emit("select",t)}}},components:{ActionSheet:b,SheetSearchBar:j,TimelineEmptyState:q}}),F={class:"max-h-96 overflow-y-auto"},H={class:"grid grid-cols-3 gap-0.5"},N={key:1,class:"flex flex-col h-full"},V={class:"shrink-0 px-4 pb-4"},P={class:"flex-1 overflow-y-auto"},I={key:0,class:"grid grid-cols-3 gap-0.5"},M=["onClick"],D={key:0,class:"absolute inset-0 w-full aspect-square h-full object-cover overflow-hidden"},J=["onLoad","src"],K={key:1,class:"py-42"};function O(e,s,l,p,u,t){const r=c("Border"),h=c("SheetSearchBar"),S=c("TimelineEmptyState"),$=c("ActionSheet");return o(),w($,{onClose:e.close},{default:B(()=>[e.initialLoading?(o(),n(m,{key:0},[d(r),a("div",F,[a("div",H,[(o(),n(m,null,_(9,i=>a("div",{key:i,class:"aspect-square skeleton-square rounded-none"})),64))])])],64)):(o(),n("div",N,[a("div",V,[d(h,{onInput:e.searchGifs,placeholder:e.$t("labels.search_gifs")},null,8,["onInput","placeholder"])]),d(r),a("div",P,[e.gifs.length?(o(),n("div",I,[(o(!0),n(m,null,_(e.gifs,i=>(o(),n("div",{onClick:k=>e.selectGif(i),key:i.id,class:"relative overflow-hidden cursor-pointer group"},[i.is_loading?(o(),n("div",D,s[0]||(s[0]=[a("div",{class:"skeleton-square size-full"},null,-1)]))):C("",!0),a("img",{onLoad:k=>i.is_loading=!1,src:i.url,loading:"lazy",class:"w-full aspect-square h-full object-cover smoothing bg-fill-tr hover:scale-105",alt:"Image"},null,40,J)],8,M))),128))])):(o(),n("div",K,[d(S,{desc:e.$t("empty_state.gifs.desc")},null,8,["desc"])]))])]))]),_:1},8,["onClose"])}const Z=v(z,[["render",O]]);export{Z as default};
