import{g as d}from"./index-BiajNNMq.js";import{k as y,g as P}from"./application-DnsIlr-S.js";import{_ as m,d as g,c as a,o as s,r as u,a as f,w,j as i,F as b,i as $,m as k,q as h,h as x}from"./global.properties-ieI6Xwik.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";import"./_commonjsHelpers-Cpj98o6Y.js";const B=g({props:{placeholder:{type:String,default:""}},emit:["input"],setup:function(t,r){return{inputHandler:o=>{r.emit("input",o.target.value)}}}}),C=["placeholder"];function G(t,r,o,p,c,e){return s(),a("input",{onInput:r[0]||(r[0]=(...n)=>t.inputHandler&&t.inputHandler(...n)),type:"text",class:"px-3 placeholder:text-center leading-normal py-1.5 w-full bg-fill-tr border border-transparent smoothing hover:ring-1 ring-fill-pr outline-hidden rounded-lg text-lab-pr placeholder:text-par-n placeholder:text-lab-sc",placeholder:t.placeholder},null,40,C)}const L=m(B,[["render",G]]),S=g({emits:["select"],setup:function(t,r){const o=h([]),p=h(!0),c=e=>({id:e.id,url:e.images.fixed_width_small_still.url,is_loading:!0,gif:{preview:{url:e.images.preview_gif.url},original:{url:e.images.original.webp}}});return x(async()=>{try{let e=await d().getTrending();o.value=e.data.map(c),setTimeout(()=>{p.value=!1},300)}catch{}}),{initialLoading:p,gifs:o,searchGifs:async e=>{try{let n=await d().limit(12).search(e);o.value=n.data.map(c)}catch{}},selectGif:e=>{r.emit("select",e)}}},components:{PrimaryTextButton:P,PanelSearchBar:L,PopupPanel:y}}),j={class:"popup-card"},q={class:"p-2"},T={key:0,class:"w-full h-16 flex items-center justify-center border-t border-fill-pr"},F={key:1,class:"max-h-96 overflow-y-auto"},H={class:"grid grid-cols-3 gap-0.5"},N=["onClick"],V={key:0,class:"absolute inset-0 w-full aspect-square h-full object-cover overflow-hidden"},z=["onLoad","src"];function A(t,r,o,p,c,e){const n=u("PanelSearchBar"),_=u("PopupPanel");return s(),a("div",j,[f(_,null,{default:w(()=>[i("div",q,[f(n,{onInput:t.searchGifs,placeholder:t.$t("labels.search_gifs")},null,8,["onInput","placeholder"])]),t.initialLoading?(s(),a("div",T,r[0]||(r[0]=[i("span",{class:"colibri-primary-animation"},null,-1)]))):(s(),a("div",F,[i("div",H,[(s(!0),a(b,null,$(t.gifs,l=>(s(),a("div",{onClick:v=>t.selectGif(l),key:l.id,class:"relative overflow-hidden cursor-pointer group"},[l.is_loading?(s(),a("div",V,r[1]||(r[1]=[i("div",{class:"skeleton-square size-full"},null,-1)]))):k("",!0),i("img",{onLoad:v=>l.is_loading=!1,src:l.url,loading:"lazy",class:"w-full aspect-square h-full object-cover smoothing bg-fill-tr hover:scale-105",alt:"Image"},null,40,z)],8,N))),128))])]))]),_:1})])}const Q=m(S,[["render",A]]);export{Q as default};
