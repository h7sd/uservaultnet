import{u as A}from"./inbox.store-DKf8FrGP.js";import{a as Q}from"./application-DnsIlr-S.js";import{S as w}from"./SidebarContainer-x1peVxVZ.js";import{C as b,a as L,b as T,W}from"./MessengerIndex-DeegcXHF.js";import{Q as V}from"./QuickSearch-BhSwELqg.js";import{_ as I,d as B,r as s,c as a,o as t,F as u,i as S,a as n,j as p,t as y,e as f,g as D,q as g,b as C,I as E,h as R,w as $,m as N}from"./global.properties-ieI6Xwik.js";import"./index-CaocF3Et.js";import"./chat.store-DbSkwILP.js";import"./AvatarNormal-QOljNkCM.js";import"./_commonjsHelpers-Cpj98o6Y.js";const P=B({setup:function(){const e=D({isLoading:!1}),o=g(""),d=A(),c=g([]),i=C(()=>d.chatsArchive),_=C(()=>o.value.length>0);return E(o,l=>{c.value=i.value.filter(h=>{if(h.chat_info.name.toLowerCase().includes(l.toLowerCase()))return!0})}),R(async()=>{e.isLoading=!0,await d.fetchChatsArchive(),e.isLoading=!1}),{state:e,isSearching:_,chatsArchive:i,searchResults:c,chatsSearchQuery:o,ChatCallout:b,isEmptyArchive:C(()=>!i.value.length),handleSearchCancel:()=>{o.value="",c.value=[]}}},components:{ChatItem:T,ChatItemSkeleton:L,QuickSearch:V,ChatCallout:b}}),M={key:0,class:"block"},F={key:1,class:"block"},j={class:"px-4 mb-4"},q={key:0,class:"py-24 text-center"},x={class:"text-par-s text-lab-sc"},z={key:1,class:"py-24 text-center"},U={class:"text-par-s text-lab-sc"};function G(e,o,d,c,i,_){const l=s("ChatItemSkeleton"),h=s("QuickSearch"),m=s("Border"),v=s("ChatCallout"),k=s("ChatItem");return e.state.isLoading?(t(),a("div",M,[(t(),a(u,null,S(7,r=>n(l)),64))])):(t(),a("div",F,[p("div",j,[n(h,{onCancel:e.handleSearchCancel,modelValue:e.chatsSearchQuery,"onUpdate:modelValue":o[0]||(o[0]=r=>e.chatsSearchQuery=r),modelModifiers:{lazy:!0},placeholder:e.$t("chat.search")},null,8,["onCancel","modelValue","placeholder"])]),n(m),n(v,{iconName:"archive",title:e.$t("chat.archived_chats.title"),description:e.$t("chat.archived_chats.description")},null,8,["title","description"]),n(m),e.isEmptyArchive?(t(),a("div",q,[p("p",x,y(e.$t("chat.no_chat_archive")),1)])):(t(),a(u,{key:1},[e.isSearching?(t(),a(u,{key:0},[e.searchResults.length?(t(!0),a(u,{key:0},S(e.searchResults,r=>(t(),f(k,{chatData:r},null,8,["chatData"]))),256)):(t(),a("div",z,[p("p",U,y(e.$t("chat.no_chats_found")),1)]))],64)):(t(!0),a(u,{key:1},S(e.chatsArchive,r=>(t(),f(k,{chatData:r},null,8,["chatData"]))),256))],64))]))}const H=I(P,[["render",G]]),J=B({setup:function(){return A(),{isWSEstablished:C(()=>window.ColibriBRConnected!==!1)}},components:{PageTitle:Q,SidebarContainer:w,WSConnectionAlert:W,ChatsArchive:H}}),K={class:"px-4 mb-4"},O={key:0,class:"mb-4"};function X(e,o,d,c,i,_){const l=s("PageTitle"),h=s("WSConnectionAlert"),m=s("ChatsArchive"),v=s("SidebarContainer");return t(),f(v,null,{sidebarTitle:$(()=>[p("div",K,[n(l,{hasBack:!0,titleText:e.$t("chat.tabs.archived")},null,8,["titleText"])]),e.isWSEstablished?N("",!0):(t(),a("div",O,[n(h)]))]),sidebarBody:$(()=>[n(m)]),_:1})}const ie=I(J,[["render",X]]);export{ie as default};
