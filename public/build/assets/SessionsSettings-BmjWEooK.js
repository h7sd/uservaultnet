import{_ as v,c as f}from"./global.properties-DKM1fd6s.js";import{a as S}from"./application-DEz9sPnz.js";import{k as g,c as n,s as e,p as b,e as l,t,d as o,i as r,v as _,F as p,f as D,b as w,r as L,o as x,l as I}from"./vendor-20TtR0Rd.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";const P=g({props:{sessionData:{type:Object,required:!0}}}),z={class:"flex items-center border-b border-b-fill-pr pb-4 overflow-hidden"},T={class:"size-normal-avatar shrink-0 rounded-full overflow-hidden flex justify-center items-center bg-fill-tr"},B={class:"flex-1 mx-4 overflow-hidden"},C={class:"text-par-m font-semibold text-lab-pr2 leading-tight truncate"},O={key:0,class:"block text-par-s text-lab-sc truncate"},j={key:1,class:"block text-par-s text-orange-400 truncate"},A={class:"self-start shrink-0"},F={key:0,class:"block text-par-s text-green-500 truncate"},N={key:1,class:"block text-par-s text-lab-sc truncate"};function V(s,a,c,i,k,$){const d=l("SvgIcon");return o(),n("div",z,[e("div",T,[s.sessionData.is_desktop?(o(),b(d,{key:0,type:"line",name:"monitor-04",classes:"size-icon-small text-brand-900"})):(o(),b(d,{key:1,type:"line",name:"phone-01",classes:"size-icon-small text-brand-900"}))]),e("div",B,[e("h4",C,t(s.sessionData.os.name)+" "+t(s.sessionData.os.version)+", "+t(s.sessionData.ip_address)+", "+t(s.sessionData.browser.name)+" "+t(s.sessionData.browser.version),1),s.sessionData.location?(o(),n("span",O,t(s.sessionData.location.city)+", "+t(s.sessionData.location.region)+", "+t(s.sessionData.location.country),1)):(o(),n("span",j,t(s.$t("settings.forms.active_sessions.location_unknown")),1))]),e("div",A,[s.sessionData.is_online?(o(),n("span",F,t(s.$t("labels.online")),1)):(o(),n("span",N,t(s.sessionData.last_online),1))])])}const q=v(P,[["render",V]]),E=g({setup:function(){const s=w({isLoading:!0}),a=L([]),c=async()=>{s.isLoading=!0,await f().userSettings().getFrom("sessions").then(i=>{a.value=i.data.data.sessions}),s.isLoading=!1};return x(()=>{c()}),{state:s,sessionsList:a,currentSession:I(()=>a.value.find(i=>i.is_current===!0)),terminateOtherSessions:async()=>{s.isLoading=!0,await f().userSettings().delete("sessions/terminate/other").then(i=>{c()}).catch(i=>{i.response}),s.isLoading=!1}}},components:{PageTitle:S,SessionItem:q}}),M={class:"mb-8"},U={key:0,class:"block"},G={class:"mb-8"},H={class:"text-par-m text-lab-sc"},J={key:0},K={class:"mb-4"},Q={class:"text-par-m text-lab-sc font-medium"},R={class:"mb-12"},W={class:"mb-4"},X={class:"text-par-m text-lab-sc font-medium"},Y={class:"mb-12"},Z={class:"mb-4"},ss={key:0,class:"mb-4"},es={class:"size-normal-avatar shrink-0 rounded-full overflow-hidden flex justify-center items-center bg-fill-tr"},ts={class:"flex-1 ml-4 overflow-hidden text-left"},os={class:"text-par-m font-semibold text-red-900 leading-tight truncate"},ns={class:"block text-par-s text-lab-sc truncate"},is={class:"ml-4 shrink-0"},as={key:1,class:"block"},rs={class:"flex-center h-96"};function ls(s,a,c,i,k,$){const d=l("PageTitle"),h=l("SessionItem"),u=l("SvgIcon"),y=l("PrimarySpinAnimation");return o(),n(p,null,[e("div",M,[r(d,{hasBack:!0,titleText:s.$t("settings.active_sessions")},null,8,["titleText"])]),s.state.isLoading?(o(),n("div",as,[e("div",rs,[r(y)])])):(o(),n("div",U,[e("div",G,[e("h6",H,t(s.$t("settings.forms.active_sessions.page_desc")),1)]),s.sessionsList.length?(o(),n("div",J,[s.currentSession?(o(),n(p,{key:0},[e("div",K,[e("h6",Q,t(s.$t("settings.forms.active_sessions.current_session")),1)]),e("div",R,[r(h,{sessionData:s.currentSession},null,8,["sessionData"])])],64)):_("",!0),e("div",W,[e("h6",X,t(s.$t("settings.forms.active_sessions.all_sessions")),1)]),e("div",Y,[(o(!0),n(p,null,D(s.sessionsList,m=>(o(),n("div",Z,[r(h,{sessionData:m},null,8,["sessionData"])]))),256)),s.sessionsList.length>1?(o(),n("div",ss,[e("button",{onClick:a[0]||(a[0]=(...m)=>s.terminateOtherSessions&&s.terminateOtherSessions(...m)),type:"button",class:"flex w-full items-center border-b border-b-fill-pr pb-4 overflow-hidden"},[e("div",es,[r(u,{type:"solid",name:"log-out-01",classes:"size-icon-small text-red-900"})]),e("div",ts,[e("h4",os,t(s.$t("settings.forms.active_sessions.terminate_other_sessions")),1),e("span",ns,t(s.$t("settings.forms.active_sessions.terminate_other_sessions_helper")),1)]),e("div",is,[r(u,{name:"chevron-right",classes:"size-6 text-lab-sc"})])])])):_("",!0)])])):_("",!0)]))],64)}const bs=v(E,[["render",ls]]);export{bs as default};
