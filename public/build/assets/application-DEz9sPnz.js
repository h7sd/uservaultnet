const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BookmarksIndex-fiQRPM9P.js","assets/BookmarksHeader-Dc5ohxtG.js","assets/vendor-20TtR0Rd.js","assets/global.properties-DKM1fd6s.js","assets/editor-CpZ7vO5P.js","assets/media-D4ZD3EDk.js","assets/PageHeader-DKtQQhA9.js","assets/AdGridItem-Caaf0ZJU.js","assets/FollowRecommendationList-UjQQknis.js","assets/TimelinePublication-AFX4WV3m.js","assets/TranslationService-CWFwUQ3g.js","assets/swiper-element-bundle-DBu82uhE.js","assets/ViewsCounter-DDf6U7Tj.js","assets/PublicationQuote-C7H0KLSU.js","assets/AvatarExtraSmall-CDoWzwp5.js","assets/ProgressiveImageLoader-8evwBPct.js","assets/SpinnerIcon-BFpWBik4.js","assets/VideoDurationTime-DjdOjCKw.js","assets/TimelinePublicationSkeleton-BPtyMk-B.js","assets/FluidEmptyState-DExNov7G.js","assets/inbox.store-CHx7CB4w.js","assets/index-ciglwFMH.js","assets/ui-Bp8YvxdW.js","assets/HomeIndex-CSgZdL8d.js","assets/index-CA1Yx5qL.js","assets/index-B5kc-12x.js","assets/AvatarMedium-Dt88Ycme.js","assets/ScrollTopButton-BIhzsUlF.js","assets/FeedUpdate-Ct7CJ-e7.js","assets/JobsIndex-BO8hHmU8.js","assets/jobs.store-EH_UKT1H.js","assets/SearchBar-ljxjEWz7.js","assets/JobCardSkeleton-D4IW1a2k.js","assets/JobHighlighter-Em80NSAu.js","assets/CategoriesFilter-ass-G6-c.js","assets/TimelineCallout-DsRcAxDP.js","assets/JobBookmarks-DJUafNtG.js","assets/JobShow-Cp2jYvth.js","assets/index-DyH4rDzV.js","assets/MarketplaceIndex-D-_OjflT.js","assets/market.store-Dx0xlhSP.js","assets/ProductCard-Ch4mRau5.js","assets/TextInput-Bad2IYlx.js","assets/ProductShow-jyvxyGSv.js","assets/ProductBookmarks-DIoZNdS4.js","assets/MessengerIndex-DW-iODif.js","assets/SidebarContainer-DWfT00jI.js","assets/chat.store-BDVc674y.js","assets/AvatarNormal-BJt0-uJ6.js","assets/QuickSearch-B-3Mwg0I.js","assets/MessengerArchive-BHl1tCwG.js","assets/InboxState-BqpiyQSF.js","assets/MessengerInbox-Qe6ujs30.js","assets/MessengerGroupCreate-BtUNQtbH.js","assets/MessengerGroupEdit-D55RMkPt.js","assets/group.store-DceIZylF.js","assets/AvatarLarge-CBtIYgLF.js","assets/SectionToggle-BmUma1X-.js","assets/ChatHeaderSkeleton-B6WgwGHO.js","assets/MessengerGroupShow-B_K2OR8g.js","assets/ModalRowButton-jhxh9tnR.js","assets/ParticipantItem-tFy88GHy.js","assets/MessengerChat-w2Nna1OX.js","assets/SettingsIndex-Bpupt68T.js","assets/AccountSettings-D3LVH6Y6.js","assets/radio-group-DTwumSp2.js","assets/form-C9UNAZed.js","assets/AuthorshipSettings-DW5Jpgkb.js","assets/InfoListItem-BQStCPsW.js","assets/CredentialSettings-DZFtdLw3.js","assets/SectionLink-LN2Vq1eE.js","assets/EmailSettings-BqZoAMjh.js","assets/EmailConfirmation-pQE6Ysg1.js","assets/CodeInput-mLUCBymJ.js","assets/PhoneSettings-D0ancDWT.js","assets/PhoneConfirmation-BHbQp5Ce.js","assets/PasswordSettings-CDvTW4RU.js","assets/NotificationSettings-eZM8b-qY.js","assets/PushNotifications-DaPvUhif.js","assets/EmailNotifications-GIKvSHmq.js","assets/AccountPrivacy-vyNx1rbW.js","assets/listbox-DUieglFY.js","assets/LanguageSettings-Bnil0jbh.js","assets/SelectInput-DFVgUc6B.js","assets/SocialMediaSettings-DDj9CwEi.js","assets/ThemeSettings-DMonrkG2.js","assets/PersonalInfoSettings-BT2IXVA3.js","assets/BirthdateSettings-DyNlPoyt.js","assets/CitySettings-B8T4yJU5.js","assets/CountrySettings-D8Fx5dJ4.js","assets/Verification-MOjO3a3X.js","assets/ContentContainer-D1jAmZDw.js","assets/SessionsSettings-BmjWEooK.js","assets/BlockSettings-CrsBhWl4.js","assets/FeatureIsComingSoon-BF87vVPD.js","assets/ActionSettings-D7uWHCyC.js","assets/HotkeySettings-DCFxO2ov.js","assets/ApiSettings-CcAYhqfY.js","assets/PublicationIndex-C7rYv8vd.js","assets/MarginalTextButton-ByvfW649.js","assets/TimelineEmptyState-BFq-oSbr.js","assets/MTLIndex-Dg3un3in.js","assets/LiveIndex-CupbJkNb.js","assets/StreamView-BssJob9h.js","assets/StreamDashboard-CIRNej6c.js","assets/ExploreIndex-DnVECZmP.js","assets/ExplorePosts-D0zRmRKt.js","assets/TabsLink-HnUGLLWk.js","assets/ExplorePeople-Cz2499eD.js","assets/PeopleListItemSkeleton-CIelLh1-.js","assets/WalletIndex-C1C6eX8a.js","assets/StoriesIndex-CJFaqeuo.js","assets/PrimarySpinAnimation-IEiJk6Yn.js","assets/ShareContent-Dh5TgM4L.js","assets/ProfileIndex-BG4QtcEo.js","assets/ProfilePosts-BIVFWVxr.js","assets/ProfileTimeline-HyQsbhVr.js","assets/ProfileMedia-B9cVvwS7.js","assets/ProfileInfo-qC708WrD.js","assets/CircleSocialMediaIcon-CbgXw_Yt.js","assets/BootstrapErrorIndex-DQWsxO1u.js","assets/Error404Index-1F8UregF.js","assets/NavbarDropdown-CZCA7MmC.js","assets/ImagePlayer-D12-o8Nv.js","assets/MarkdownCheatSheet-Ctmvev_h.js","assets/ShortcutsCheatSheet-DMFZlV9i.js","assets/MediaDeleteButton-CKNB-RUv.js","assets/MediaBlurOverlay-C2lW_M2Y.js","assets/PostPollForm-DuXNTWFm.js","assets/index-CZvQntMR.js","assets/PostGifForm-CcAnoZid.js","assets/index-BiajNNMq.js","assets/PostRecordingForm-CVn3aYTv.js","assets/index-tf8mOGqX.js","assets/PostGifPreview-D0EpXv_N.js","assets/GiphyAttribution-79F8UUld.js","assets/PostDocumentPreview-BA42GsoI.js","assets/PostVideoPreview-DKzt4ciF.js","assets/SensitivePostTape-DbJPI2qr.js","assets/MediaFileDropper-5o8YtCgp.js","assets/EmojisPicker-BXzUvyYH.js","assets/PostLinkSnapshotPreview-Gkvp1OdE.js","assets/LinkSnapshot-FVQp6Fpk.js","assets/LinkSnapshot-C0Z1Turo.js","assets/Soundbar-pUI_olb5.js","assets/audio.store-DZtZQsA_.js","assets/StoriesEditorModal-9qjBcZO7.js","assets/OnboardingTips-S51oUjd1.js","assets/ApplicationStoriesLayout-C70bNIkh.js","assets/ApplicationInfoLayout-x9A93uib.js","assets/ApplicationFlatLayout-BIaOUTr3.js","assets/ApplicationMessengerLayout-DoWgE-3n.js","assets/Border-BD9dQDqA.js","assets/VerificationBadge-BGFmJmFx.js","assets/SvgIcon-XjNuFuut.js","assets/TimeAgo-C_6QPhhv.js","assets/FileFormatIcon-DhojJc8G.js","assets/PrimaryTransition-CBzPzDK5.js","assets/PrimaryDotsAnimation-BRlm_nao.js"])))=>i.map(i=>d[i]);
import{f as $e,a as f,c as S,_ as v,B as Ke,b as R,g as ut,e as ye,d as ue,P as Z,p as pt,o as ft,h as mt,L as Le,i as _t}from"./global.properties-DKM1fd6s.js";import{u as W,L as Ve,$ as ht,a0 as bt,H as Fe,k,c,t as h,j as C,d as i,e as d,s as o,v as b,i as u,q as T,x as H,p as w,B as P,l as $,o as q,G as X,F as x,f as ne,Q as xe,w as ze,r as z,h as oe,C as je,z as ie,E as Ne,b as se,m as gt,D as yt,y as ee,A as Qe,K as vt,n as $t,a1 as kt,a2 as wt}from"./vendor-20TtR0Rd.js";import{u as Pt}from"./inbox.store-CHx7CB4w.js";import{u as St}from"./index-ciglwFMH.js";import{P as Tt}from"./ui-Bp8YvxdW.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";const qe=W("mobile_toast_notifications_store",{state:function(){return{toastNotifications:[]}},getters:{notificationsList:function(e){return this.toastNotifications}},actions:{add:function(e,t=5e3,n="success"){const s=Date.now();return this.toastNotifications.push({id:s,text:e,duration:t,type:n}),setTimeout(()=>{this.remove(s)},t),this.toastNotifications},remove:function(e){this.toastNotifications=this.toastNotifications.filter(t=>t.id!==e)}}}),Et=(e="",t=5e3)=>{qe().add(e,t);try{$e.uiFeedback()}catch(s){console.log(s)}},Dt=(e="",t=5e3)=>{qe().add(e,t,"error");try{$e.uiFeedback()}catch(s){console.log(s)}};window.toastSuccess=Et;window.toastError=Dt;window.HIDE_AUTHOR_ATTRIBUTION=void 0;Ve.defaults.withCredentials=!0;Ve.defaults.withXSRFToken=!0;window.axios=Ve;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const A={MAIN:"main",STORIES:"stories",INFO:"info",FLAT:"flat",MESSENGER:"messenger"},Ye=ht({history:bt(),scrollBehavior(e,t,n){if(n)return{top:n.top}},routes:[{path:"/bookmarks",component:function(){return f(()=>import("./BookmarksIndex-fiQRPM9P.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]))},meta:{layout:A.MAIN,auth:!0},name:"bookmarks_index"},{path:"/",component:function(){return f(()=>import("./HomeIndex-CSgZdL8d.js"),__vite__mapDeps([23,2,3,4,5,24,25,11,26,9,10,12,13,14,15,16,17,18,7,27,8,6,28,20,21,22]))},alias:"/home",meta:{layout:A.MAIN,auth:!0},name:"home_index"},{path:"/jobs",component:function(){return f(()=>import("./JobsIndex-BO8hHmU8.js"),__vite__mapDeps([29,2,25,30,3,4,5,7,6,31,32,12,33,34,19,27,8,35,20,21,22]))},alias:"/jobs",meta:{layout:A.MAIN,auth:!0,feature:"jobs"},name:"jobs_index"},{path:"/saved/jobs",component:function(){return f(()=>import("./JobBookmarks-DJUafNtG.js"),__vite__mapDeps([36,1,2,3,4,5,7,8,6,19,32,12,33,20,21,22]))},name:"saved_jobs",meta:{layout:A.MAIN,auth:!0,feature:"jobs"}},{path:"/jobs/:job_id",component:function(){return f(()=>import("./JobShow-Cp2jYvth.js"),__vite__mapDeps([37,2,30,3,4,5,7,6,8,38,33,12,20,21,22]))},meta:{layout:A.MAIN,auth:!0,feature:"jobs"},name:"jobs_show",props:!0},{path:"/marketplace",component:function(){return f(()=>import("./MarketplaceIndex-D-_OjflT.js"),__vite__mapDeps([39,2,40,3,4,5,25,7,41,34,31,42,19,6,8,20,21,22]))},meta:{layout:A.MAIN,auth:!0,feature:"marketplace"},name:"marketplace_index"},{props:!0,path:"/marketplace/product/:product_id",component:function(){return f(()=>import("./ProductShow-jyvxyGSv.js"),__vite__mapDeps([43,3,4,5,2,40,6,7,8,11,12,38,20,21,22]))},meta:{layout:A.MAIN,auth:!0,feature:"marketplace"},name:"marketplace_show"},{path:"/saved/products",component:function(){return f(()=>import("./ProductBookmarks-DIoZNdS4.js"),__vite__mapDeps([44,1,2,3,4,5,7,8,6,19,41,20,21,22]))},name:"saved_products",meta:{layout:A.MAIN,auth:!0,feature:"marketplace"}},{path:"/messenger",component:function(){return f(()=>import("./MessengerIndex-DW-iODif.js").then(e=>e.M),__vite__mapDeps([45,3,4,5,2,20,46,47,48,49]))},alias:"/messenger",meta:{sectionName:"messenger",layout:A.MESSENGER,auth:!0,fluidLayout:!0},name:"messenger_index",redirect:{name:"messenger_inbox"},children:[{path:"archive",component:function(){return f(()=>import("./MessengerArchive-BHl1tCwG.js"),__vite__mapDeps([50,51,26,2,3,4,5,20,21,22]))},name:"messenger_archive",meta:{archive:!0}},{path:"inbox",component:function(){return f(()=>import("./MessengerInbox-Qe6ujs30.js"),__vite__mapDeps([52,51,26,2,3,4,5,20,21,22]))},name:"messenger_inbox"},{path:"group/create",component:function(){return f(()=>import("./MessengerGroupCreate-BtUNQtbH.js"),__vite__mapDeps([53,3,4,5,2]))},name:"messenger_group_create"},{path:"group/:chat_id/edit",component:function(){return f(()=>import("./MessengerGroupEdit-D55RMkPt.js"),__vite__mapDeps([54,2,3,4,5,55,56,42,57,58,20,21,22]))},name:"messenger_group_edit",props:!0},{path:"group/:chat_id/show",component:function(){return f(()=>import("./MessengerGroupShow-B_K2OR8g.js"),__vite__mapDeps([59,3,4,5,2,55,47,20,56,60,49,61,48,31,19,11,21,22]))},name:"messenger_group_show",props:!0},{path:"c/:chat_id",component:function(){return f(()=>import("./MessengerChat-w2Nna1OX.js").then(e=>e.M),__vite__mapDeps([62,3,4,5,2,47,20,58,26,10,11,21]))},name:"messenger_chat"}]},{path:"/settings",component:function(){return f(()=>import("./SettingsIndex-Bpupt68T.js"),__vite__mapDeps([63,3,4,5,2,46,20,21,22]))},alias:"/settings",meta:{sectionName:"settings",layout:A.FLAT,auth:!0,rightOffset:!0,fluidLayout:!0},name:"settings_index",redirect:{name:"settings_account"},children:[{path:"account-settings",component:function(){return f(()=>import("./AccountSettings-D3LVH6Y6.js"),__vite__mapDeps([64,2,3,4,5,42,65,66,20,21,22]))},name:"settings_account"},{path:"authorship",component:function(){return f(()=>import("./AuthorshipSettings-DW5Jpgkb.js"),__vite__mapDeps([67,3,4,5,2,60,68,20,21,22]))},name:"settings_authorship"},{path:"credentials",component:function(){return f(()=>import("./CredentialSettings-DZFtdLw3.js"),__vite__mapDeps([69,70,3,4,5,2,57,20,21,22]))},name:"settings_credentials"},{path:"email",component:function(){return f(()=>import("./EmailSettings-BqZoAMjh.js"),__vite__mapDeps([71,2,3,4,5,42,57,20,21,22]))},name:"settings_email"},{path:"confirm-email",component:function(){return f(()=>import("./EmailConfirmation-pQE6Ysg1.js"),__vite__mapDeps([72,3,4,5,2,73,22,20,21]))},name:"settings_email_confirm"},{path:"phone",component:function(){return f(()=>import("./PhoneSettings-D0ancDWT.js"),__vite__mapDeps([74,2,3,4,5,42,57,20,21,22]))},name:"settings_phone"},{path:"confirm-phone",component:function(){return f(()=>import("./PhoneConfirmation-BHbQp5Ce.js"),__vite__mapDeps([75,3,4,5,2,73,22,20,21]))},name:"settings_phone_confirm"},{path:"password",component:function(){return f(()=>import("./PasswordSettings-CDvTW4RU.js"),__vite__mapDeps([76,2,3,4,5,42,57,20,21,22]))},name:"settings_password"},{path:"notifications",component:function(){return f(()=>import("./NotificationSettings-eZM8b-qY.js"),__vite__mapDeps([77,70,3,4,5,2,20,21,22]))},name:"settings_notifications"},{path:"push-notifications",component:function(){return f(()=>import("./PushNotifications-DaPvUhif.js"),__vite__mapDeps([78,3,4,5,2,57,20,21,22]))},name:"settings_push_notifications"},{path:"email-notifications",component:function(){return f(()=>import("./EmailNotifications-GIKvSHmq.js"),__vite__mapDeps([79,3,4,5,2,57,20,21,22]))},name:"settings_email_notifications"},{path:"privacy",component:function(){return f(()=>import("./AccountPrivacy-vyNx1rbW.js"),__vite__mapDeps([80,3,4,5,2,81,66,20,21,22]))},name:"settings_privacy"},{path:"language",component:function(){return f(()=>import("./LanguageSettings-Bnil0jbh.js"),__vite__mapDeps([82,2,3,4,5,83,81,66,20,21,22]))},name:"settings_language"},{path:"social-media",component:function(){return f(()=>import("./SocialMediaSettings-DDj9CwEi.js"),__vite__mapDeps([84,2,3,4,5,42,19,20,21,22]))},name:"settings_social_media"},{path:"theme",component:function(){return f(()=>import("./ThemeSettings-DMonrkG2.js"),__vite__mapDeps([85,3,4,5,2,65,66,20,21,22]))},name:"settings_theme"},{path:"personal-info",component:function(){return f(()=>import("./PersonalInfoSettings-BT2IXVA3.js"),__vite__mapDeps([86,70,3,4,5,2,20,21,22]))},name:"settings_personal_info"},{path:"birthdate",component:function(){return f(()=>import("./BirthdateSettings-DyNlPoyt.js"),__vite__mapDeps([87,2,3,4,5,83,81,66,57,20,21,22]))},name:"settings_birthdate"},{path:"city",component:function(){return f(()=>import("./CitySettings-B8T4yJU5.js"),__vite__mapDeps([88,2,42,3,4,5,57,20,21,22]))},name:"settings_city"},{path:"country",component:function(){return f(()=>import("./CountrySettings-D8Fx5dJ4.js"),__vite__mapDeps([89,2,3,4,5,83,81,66,57,20,21,22]))},name:"settings_country"},{path:"verification",component:function(){return f(()=>import("./Verification-MOjO3a3X.js"),__vite__mapDeps([90,91,3,4,5,2,26,68,20,21,22]))},name:"settings_verification"},{path:"sessions",component:function(){return f(()=>import("./SessionsSettings-BmjWEooK.js"),__vite__mapDeps([92,3,4,5,2,20,21,22]))},name:"settings_sessions"},{path:"blocked",component:function(){return f(()=>import("./BlockSettings-CrsBhWl4.js"),__vite__mapDeps([93,94,3,4,5,2,20,21,22]))},name:"settings_blocked"},{path:"actions",component:function(){return f(()=>import("./ActionSettings-D7uWHCyC.js"),__vite__mapDeps([95,2,3,4,5,42,20,21,22]))},name:"settings_actions"},{path:"hotkeys",component:function(){return f(()=>import("./HotkeySettings-DCFxO2ov.js"),__vite__mapDeps([96,94,3,4,5,2,20,21,22]))},name:"settings_hotkey"},{path:"api",component:function(){return f(()=>import("./ApiSettings-CcAYhqfY.js"),__vite__mapDeps([97,94,3,4,5,2,20,21,22]))},name:"settings_api"}]},{path:"/publication/:hash_id",component:function(){return f(()=>import("./PublicationIndex-C7rYv8vd.js"),__vite__mapDeps([98,2,3,4,5,25,24,9,10,11,12,13,14,15,16,17,99,6,7,18,100,21,26,27,8,20,22]))},meta:{layout:A.MAIN,auth:!0},name:"publication_index"},{path:"/about-author",component:function(){return f(()=>import("./MTLIndex-Dg3un3in.js"),__vite__mapDeps([101,2,3,4,5]))},meta:{layout:A.INFO,auth:!1},name:"mtl_index"},{path:"/live-stream",component:function(){return f(()=>import("./LiveIndex-CupbJkNb.js"),__vite__mapDeps([102,2,3,4,5,20,21,22]))},meta:{layout:A.MAIN,auth:!0},name:"live_index"},{path:"/stream/:id",component:function(){return f(()=>import("./StreamView-BssJob9h.js"),__vite__mapDeps([103,2,3,4,5]))},meta:{layout:A.MAIN,auth:!0},name:"stream_view",props:!0},{path:"/stream-dashboard",component:function(){return f(()=>import("./StreamDashboard-CIRNej6c.js"),__vite__mapDeps([104,2,3,4,5,20,21,22]))},meta:{layout:A.MAIN,auth:!0},name:"stream_dashboard"},{path:"/explore",name:"explore_index",component:function(){return f(()=>import("./ExploreIndex-DnVECZmP.js"),__vite__mapDeps([105,3,4,5,2]))},redirect:{name:"explore_posts"},props:!0,children:[{path:"posts",component:function(){return f(()=>import("./ExplorePosts-D0zRmRKt.js"),__vite__mapDeps([106,2,3,4,5,25,7,8,9,10,11,12,13,14,15,16,17,18,19,107,35,27,28,20,21,22]))},name:"explore_posts"},{path:"people",component:function(){return f(()=>import("./ExplorePeople-Cz2499eD.js"),__vite__mapDeps([108,2,3,4,5,25,7,109,19,31,35,107,20,21,22]))},name:"explore_people"}],meta:{layout:A.MAIN,auth:!0}},{path:"/wallet",component:function(){return f(()=>import("./WalletIndex-C1C6eX8a.js").then(e=>e.W),__vite__mapDeps([110,3,4,5,2,91,19]))},alias:"/wallet",meta:{layout:A.MAIN,auth:!0,feature:"wallet"},name:"wallet_index"},{path:"/stories/:story_uuid",component:function(){return f(()=>import("./StoriesIndex-CJFaqeuo.js"),__vite__mapDeps([111,2,11,3,4,5,112,16,99,113,20,21,22]))},name:"stories_index",meta:{layout:A.STORIES,auth:!0},props:!0},{path:"/@:id([a-zA-Z0-9._]+)",component:function(){return f(()=>import("./ProfileIndex-BG4QtcEo.js"),__vite__mapDeps([114,2,3,4,5,107,7,18,56,60,109,19,27,8,20,21,22]))},meta:{layout:A.MAIN,auth:!0},name:"profile_index",props:!0,redirect:{name:"profile_posts"},children:[{path:"posts:?",component:function(){return f(()=>import("./ProfilePosts-BIVFWVxr.js"),__vite__mapDeps([115,116,25,2,3,4,5,24,18,9,10,11,12,13,14,15,16,17,100,20,21,22]))},name:"profile_posts"},{path:"media",component:function(){return f(()=>import("./ProfileMedia-B9cVvwS7.js"),__vite__mapDeps([117,116,25,2,3,4,5,24,18,9,10,11,12,13,14,15,16,17,100,20,21,22]))},name:"profile_media"},{path:"info",component:function(){return f(()=>import("./ProfileInfo-qC708WrD.js"),__vite__mapDeps([118,3,4,5,2,68,119,20,21,22]))},name:"profile_info"}]},{path:"/bootstrap-error",name:"bootstrap_error",component:function(){return f(()=>import("./BootstrapErrorIndex-DQWsxO1u.js"),__vite__mapDeps([120,3,4,5,2]))},meta:{layout:A.FLAT,auth:!1}},{path:"/:pathMatch(.*)*",name:"error_404",component:function(){return f(()=>import("./Error404Index-1F8UregF.js"),__vite__mapDeps([121,3,4,5,2,20,21,22]))},meta:{layout:A.MAIN,auth:!0}}],linkActiveClass:"active",linkExactActiveClass:"active"});Ye.beforeEach((e,t,n)=>{let s=e.meta.feature||null;if(s)if(config(`features.${s}.enabled`))n();else return n({name:"error_404"});else n()});const ke=W("auth_store",{state:function(){return{user:null}},getters:{authCheck:function(){return this.user!==null},userData:function(e){return this.user}},actions:{setUser:function(e){this.user=e},setProperty:function(e,t){this.user[e]=t},logoutUser:async function(){return await S().userAuth().sendTo("logout")}}}),It=W("app",{state:()=>({appData:null}),actions:{bootstrapApplication:async function(){let e=this;const t=ke(),n=Fe();await fetch("sanctum/csrf-cookie",{method:"GET",credentials:"include"}),await S().bootstrap().getFrom("bootstrap").then(function(s){e.appData=s.data.data,t.setUser(e.appData.auth.user)}).catch(function(s){s.response&&n.push({name:"bootstrap_error"})})}}}),At=W("stories_store",{state:function(){return{storiesFeed:[],stories:[]}},actions:{prependFeedItem:function(e){const t=this.storiesFeed.findIndex(n=>n.story_uuid===e.story_uuid);t!==-1&&this.storiesFeed.splice(t,1),this.storiesFeed.unshift(e)},fetchStoriesFeed:async function(){const e=this;await S().stories().getFrom("feed").then(t=>{e.storiesFeed=t.data.data}).catch(t=>{if(t.response)throw new Error(t.response.data.message)})},fetchStory:async function(e){const t=this;await S().stories().getFrom(`stories/${e}`).then(n=>{t.stories=n.data.data}).catch(n=>{if(n.response)throw new Error(n.response.data.message)})},deleteStory:async function(e,t){await S().stories().with({frame_id:t}).delete("delete").then(n=>{const s=this.stories.find(l=>l.story_uuid===e),a=s.relations.frames.findIndex(l=>l.id===t);s.relations.frames.splice(a,1),this.stories=this.stories.filter(l=>l.relations.frames.length>0),this.storiesFeed=this.storiesFeed.filter(l=>this.stories.some(r=>r.story_uuid===l.story_uuid))}).catch(n=>{if(n.response)throw new Error(n.response.data.message)})},fetchAndReturnStoryViews:async function(e){return await S().stories().getFrom(`views/${e}`).then(t=>t.data.data).catch(t=>{if(t.response)throw new Error(t.response.data.message)})},recordStoryView:async function(e,t){const n=this.stories.find(s=>s.story_uuid===e).relations.frames.find(s=>s.id===t);n.activity.is_seen=!0,await S().stories().with({frame_id:t}).sendTo("views/record").catch(s=>{if(s.response)throw new Error(s.response.data.message)})}}}),Ct=W("stories_editor_store",{state:function(){return{opened:!1,uploadProgress:0,storyMedia:null,storyData:{content:""}}},getters:{isOpen:e=>e.opened,isFormValid:e=>e.storyMedia!==null},actions:{openEditor:function(){this.opened=!0},closeEditor:function(){this.opened=!1},resetEditor:function(){this.uploadProgress=0,this.storyMedia=null,this.storyData={content:""}},publishStory:async function(){const e=this,t=At();e.storyMedia&&await S().storyEditor().with({content:e.storyData.content}).sendTo("create").then(n=>{n.data.data&&t.prependFeedItem(n.data.data)}).catch(n=>{if(n.response)throw new Error(n.response.data.message)})},uploadMedia:async function(e){const t=new FormData,n=this;t.append("media_file",e),await S().storyEditor().with(t).withHeaders({"Content-Type":"multipart/form-data"}).uploadProgress(s=>{n.uploadProgress=Math.round(s.loaded/s.total*100)}).sendTo("media/upload").then(s=>{n.storyMedia=s.data.data,n.uploadProgress=0}).catch(s=>{if(s.response)throw n.uploadProgress=0,new Error(s.response.data.message)})},deleteMedia:async function(){this.storyMedia=null,await S().storyEditor().delete("media/delete").catch(e=>{if(e.response)throw new Error(e.response.data.message)})}}}),we=W("notifications_store",{state:function(){return{isOpen:!1,unreadCount:{formatted:0,raw:0},notifications:[]}},actions:{openNotifications:function(){this.isOpen=!0},closeNotifications:function(){this.isOpen=!1},fetchNotifications:async function(e="all"){await S().notifications().getFrom(e).then(t=>{this.notifications=t.data.data}).catch(()=>{this.notifications=[]})},fetchUnreadCount:function(){S().notifications().getFrom("unread/count").then(e=>{this.unreadCount=e.data.data}).catch(()=>{this.unreadCount={formatted:0,raw:0}})},deleteNotification:function(e){S().notifications().with({notification_id:e}).delete("delete"),this.notifications=this.notifications.filter(t=>t.id!==e)},setUnreadNotificationsCount:function(e){this.unreadCount=e}}}),Mt=k({props:{count:{type:[Number,String],default:0},color:{type:String,default:"bg-red-900 !text-white"}}});function Lt(e,t,n,s,a,l){return i(),c("span",{class:C([[e.color],"font-mono inline-block h-[17px] text-[10px] rounded-full px-1.5 leading-[17px] align-middle"])},h(e.count),3)}const Rt=v(Mt,[["render",Lt]]),Bt=k({setup:function(){const e=ke(),t=we(),n=Pt(),s=$(()=>t.unreadCount),a=$(()=>n.unreadCount);return q(()=>{t.fetchUnreadCount(),n.fetchUnreadCount(),window.ColibriBRD&&ColibriBRD.private(Ke.getChannel("AUTH_USER",[e.userData.id])).notification(function(l){l.type==="chat.notification"?n.fetchUnreadCount():(t.setUnreadNotificationsCount(l.data),R.emit("notifications:received")),localStorage.getItem("notificationsSound")&&(l.type==="chat.notification"?$e.backgroundChatMessageReceived():$e.notificationReceived())})}),X(()=>{window.ColibriBRD&&ColibriBRD.leave(Ke.getChannel("AUTH_USER",[e.userData.id]))}),{notificationsCount:s,inboxCount:a,userData:e.userData,openNotificationsModal:()=>{t.openNotifications()}}},components:{NavbarDropdown:P(()=>f(()=>import("./NavbarDropdown-CZCA7MmC.js"),__vite__mapDeps([122,2,3,4,5,20,21,22]))),BadgeCounter:Rt}}),Ot={class:"flex flex-col gap-3"},Nt={class:"block"},Vt={class:"size-icon-normal shrink-0"},Ft={class:"ml-3 text-[19px]"},xt={class:"block"},zt={class:"size-icon-normal shrink-0"},jt={class:"ml-3 text-[19px]"},qt={class:"block"},Ut={class:"size-icon-normal shrink-0"},Ht={class:"ml-3 text-[19px]"},Gt={class:"block"},Kt={class:"size-icon-normal shrink-0"},Wt={class:"ml-3 text-[19px]"},Xt={class:"block"},Qt={class:"size-icon-normal shrink-0"},Yt={class:"ml-3 text-[19px]"},Jt={key:0,class:"block"},Zt={class:"size-icon-normal shrink-0"},en={class:"ml-3 text-[19px]"},tn={key:1,class:"block"},nn={class:"size-icon-normal shrink-0"},on={class:"ml-3 text-[19px]"},sn={class:"block"},an={class:"flex items-center sidenav-inactive"},rn={class:"size-icon-normal shrink-0"},ln={class:"ml-3 text-[19px]"},cn={class:"block"};function dn(e,t,n,s,a,l){const r=d("SvgIcon"),p=d("RouterLink"),_=d("BadgeCounter"),y=d("NavbarDropdown");return i(),c("div",Ot,[o("div",Nt,[u(p,{to:{name:"home_index"},class:"block"},{default:T(({isActive:g})=>[o("div",{class:C(["flex items-center",[g==!0?"sidenav-active":"sidenav-inactive"]])},[o("span",Vt,[u(r,{name:"home-smile",type:g==!0?"solid":"line"},null,8,["type"])]),o("span",Ft,h(e.$t("labels.home")),1)],2)]),_:1})]),o("div",xt,[u(p,{to:{name:"explore_posts"},class:"block"},{default:T(({isActive:g})=>[o("div",{class:C(["flex items-center",[g==!0?"sidenav-active":"sidenav-inactive"]])},[o("span",zt,[u(r,{name:"hash-02"})]),o("span",jt,h(e.$t("labels.explore")),1)],2)]),_:1})]),o("div",qt,[o("div",{onClick:t[0]||(t[0]=(...g)=>e.openNotificationsModal&&e.openNotificationsModal(...g)),class:"flex items-center sidenav-inactive cursor-pointer"},[o("span",Ut,[u(r,{name:"bell-01",type:"line"})]),o("span",Ht,[H(h(e.$t("labels.notifications"))+" ",1),e.notificationsCount.raw?(i(),w(_,{key:0,count:e.notificationsCount.formatted},null,8,["count"])):b("",!0)])])]),o("div",Gt,[u(p,{to:{name:"messenger_index"},class:"block"},{default:T(({isActive:g})=>[o("div",{class:C(["flex items-center",[g==!0?"sidenav-active":"sidenav-inactive"]])},[o("span",Kt,[u(r,{name:"message-chat-circle",type:g==!0?"solid":"line"},null,8,["type"])]),o("span",Wt,[H(h(e.$t("labels.messages"))+" ",1),e.inboxCount.raw?(i(),w(_,{key:0,count:e.inboxCount.formatted},null,8,["count"])):b("",!0)])],2)]),_:1})]),o("div",Xt,[u(p,{to:{name:"live_index"},class:"block"},{default:T(({isActive:g})=>[o("div",{class:C(["flex items-center",[g==!0?"sidenav-active":"sidenav-inactive"]])},[o("span",Qt,[u(r,{name:"video-recorder",type:g==!0?"solid":"line"},null,8,["type"])]),o("span",Yt,h(e.$t("labels.live_stream")),1)],2)]),_:1})]),e.$config("features.marketplace.enabled")?(i(),c("div",Jt,[u(p,{to:{name:"marketplace_index"},class:"block"},{default:T(({isActive:g})=>[o("div",{class:C(["flex items-center",[g==!0?"sidenav-active":"sidenav-inactive"]])},[o("span",Zt,[u(r,{name:"shopping-bag-03",type:g==!0?"solid":"line"},null,8,["type"])]),o("span",en,h(e.$t("labels.marketplace")),1)],2)]),_:1})])):b("",!0),e.$config("features.jobs.enabled")?(i(),c("div",tn,[u(p,{to:{name:"jobs_index"},class:"block"},{default:T(({isActive:g})=>[o("div",{class:C(["flex items-center",[g==!0?"sidenav-active":"sidenav-inactive"]])},[o("span",nn,[u(r,{name:"briefcase-01",type:g==!0?"solid":"line"},null,8,["type"])]),o("span",on,h(e.$t("labels.jobs")),1)],2)]),_:1})])):b("",!0),o("div",sn,[u(p,{to:{name:"profile_index",params:{id:e.userData.username}},class:"block"},{default:T(({isActive:g})=>[o("div",an,[o("span",rn,[u(r,{name:"user-01",type:"line"})]),o("span",ln,h(e.$t("labels.my_profile")),1)])]),_:1},8,["to"])]),t[1]||(t[1]=o("div",{class:"block pl-icon-normal pr-6"},[o("span",{class:"block bg-bord-sc h-px mx-3"})],-1)),o("div",cn,[u(y)])])}const un=v(Bt,[["render",dn]]),pn=k({props:{title:{type:String,default:""},iconName:{type:String,default:"x"},iconClasses:{type:String,default:""},iconType:{type:String,default:"solid"},buttonColor:{type:String,default:"text-lab-pr"},hasBg:{type:Boolean,default:!0}}}),fn={class:"w-full flex justify-center"},mn=["title"],_n={class:"size-icon-normal"};function hn(e,t,n,s,a,l){const r=d("SvgIcon");return i(),c("div",fn,[o("button",{title:e.title,class:C(["inline-flex-center cursor-pointer items-center leading-none rounded-xl size-12 hover:opacity-100",[e.hasBg?"bg-fill-qt":"bg-none hover:bg-fill-fv",e.buttonColor]])},[o("span",_n,[u(r,{name:e.iconName,type:e.iconType,classes:e.iconClasses},null,8,["name","type","classes"])])],10,mn)])}const bn=v(pn,[["render",hn]]),gn=k({setup:function(){return{isWSEstablished:$(()=>window.ColibriBRConnected!==!1),showWSConnectionError:()=>{alert("If you see this message, it means that the WS connection is not established. Some features will not work properly. Please, try to refresh the page or contact support.")}}},components:{ActionBarButton:bn}}),yn={class:"pl-6 shrink-0"},vn={class:"flex w-medium-avatar flex-col h-full justify-end items-center pb-6"},$n={key:0};function kn(e,t,n,s,a,l){const r=d("ActionBarButton");return i(),c("div",yn,[o("div",vn,[e.isWSEstablished?b("",!0):(i(),c("div",$n,[u(r,{onClick:e.showWSConnectionError,iconName:"signal-03",buttonColor:"text-red-900",hasBg:!1},null,8,["onClick"])]))])])}const wn=v(gn,[["render",kn]]),Pn=k({setup:function(){return{currentYear:new Date().getFullYear(),hideAuthorAttribution:window.HIDE_AUTHOR_ATTRIBUTION}}}),Sn={class:"flex flex-wrap mb-2 leading-5"},Tn=["href"],En=["href"],Dn=["href"],In=["href"],An=["href"],Cn=["href"],Mn={class:"leading-5"},Ln={class:"text-cap-s text-lab-sc"};function Rn(e,t,n,s,a,l){const r=d("RouterLink");return i(),c(x,null,[o("div",Sn,[e.$config("features.business_accounts.enabled")?(i(),c("a",{key:0,href:e.$getRoute("business_dashboard_index"),class:"hover:underline text-cap-s text-lab-sc mr-2"},h(e.$t("labels.business_account")),9,Tn)):b("",!0),u(r,{to:{name:"settings_theme"},class:"hover:underline text-cap-s text-lab-sc mr-2"},{default:T(()=>[H(h(e.$t("labels.theme")),1)]),_:1}),e.$config("features.jobs.enabled")?(i(),w(r,{key:1,to:{name:"jobs_index"},class:"hover:underline text-cap-s text-lab-sc mr-2"},{default:T(()=>[H(h(e.$t("labels.jobs")),1)]),_:1})):b("",!0),o("a",{href:e.$getRoute("help_center"),target:"_blank",class:"hover:underline text-cap-s text-lab-sc mr-2"},h(e.$t("labels.help_center")),9,En),e.$config("features.api.enabled")?(i(),c("a",{key:2,href:e.$getRoute("api_developers"),target:"_blank",class:"hover:underline text-cap-s text-lab-sc mr-2"},h(e.$t("labels.api_developers")),9,Dn)):b("",!0),o("a",{href:e.$getRoute("privacy_policy"),target:"_blank",class:"hover:underline text-cap-s text-lab-sc mr-2"},h(e.$t("labels.privacy_policy")),9,In),o("a",{href:e.$getRoute("cookies_policy"),target:"_blank",class:"hover:underline text-cap-s text-lab-sc mr-2"},h(e.$t("labels.cookies_policy")),9,An),o("a",{href:e.$getRoute("terms_of_use"),target:"_blank",class:"hover:underline text-cap-s text-lab-sc mr-2"},h(e.$t("labels.terms")),9,Cn),u(r,{to:{name:"settings_language"},class:"hover:underline text-cap-s text-lab-sc mr-2"},{default:T(()=>[H(h(e.$t("labels.language")),1)]),_:1})]),o("div",Mn,[o("span",Ln,h(e.$config("app.name"))+" © "+h(e.currentYear),1)])],64)}const Bn=v(Pn,[["render",Rn]]),On=k({components:{ApplicationNavbar:un,ApplicationActionBar:wn,ApplicationFooter:Bn}}),Nn={class:"fixed left-0 top-0 bottom-0 sticky-bar-bottom-offset z-50"},Vn={class:"flex w-page-offset h-full"},Fn={class:"flex-1 h-full shrink-0"},xn={class:"flex flex-col h-full pt-6"},zn={class:"mb-4 mx-6"},jn={class:"flex items-center gap-2"},qn={class:"block"},Un=["src"],Hn={class:"pl-6"},Gn={class:"pl-6 mt-auto mb-4"};function Kn(e,t,n,s,a,l){const r=d("ApplicationActionBar"),p=d("RouterLink"),_=d("ApplicationNavbar"),y=d("ApplicationFooter");return i(),c("aside",Nn,[o("div",Vn,[u(r),o("div",Fn,[o("div",xn,[o("div",zn,[o("div",jn,[o("div",qn,[u(p,{to:{name:"home_index"}},{default:T(()=>[o("img",{class:"h-7",src:e.$embedder("assets.logos.url"),alt:"Logo"},null,8,Un)]),_:1})])])]),o("div",Hn,[u(_)]),o("div",Gn,[u(y)])])])])])}const Wn=v(On,[["render",Kn]]),Xn=k({props:{disabled:{type:Boolean,default:!1},iconName:{type:String,default:"x"},buttonType:{type:String,default:"button"},iconAreaSize:{type:String,default:"8"},iconType:{type:String,default:"solid"},iconSize:{type:String,default:"6"},buttonColor:{type:String,default:"text-lab-pr"},hoverBg:{type:[String,Boolean],default:"hover:bg-fill-tr"},hoverText:{type:[String,Boolean],default:"hover:text-lab-pr2"}},setup:function(e){return{btnClasses:["size-6",e.buttonColor].join(" ")}}}),Qn=["type"];function Yn(e,t,n,s,a,l){const r=d("SvgIcon");return i(),c("button",{type:e.buttonType,class:C([[e.disabled?"opacity-70 cursor-default":"cursor-pointer",e.hoverBg,e.buttonColor,e.hoverText,`size-${e.iconAreaSize}`],"outline-hidden transition-transform duration-300 inline-flex items-center justify-center rounded-full leading-none disabled:opacity-70 disabled:cursor-default"])},[u(r,{name:e.iconName,type:e.iconType,classes:`size-${e.iconSize}`},null,8,["name","type","classes"])],10,Qn)}const Ue=v(Xn,[["render",Yn]]),Jn=k({props:{toastData:{type:Object,required:!0}},emits:["dismiss"],setup:function(e){return{toastStyle:$(()=>e.toastData.type==="success"?"border-green-900":"border-red-900")}},components:{PrimaryIconButton:Ue}}),Zn={class:"flex max-w-content justify-center"},eo={class:"flex items-center leading-4"},to={class:"text-par-m pr-4 text-lab-pr flex-1 py-4"},no={class:"text-lab-pr shrink-0"};function oo(e,t,n,s,a,l){const r=d("PrimaryIconButton");return i(),c("div",Zn,[o("div",{class:C(["popup-background-pr backdrop-blur-md border pl-5 pr-3 rounded-xl text-bg-pr shadow-2xl",[e.toastStyle]])},[o("div",eo,[o("div",to,h(e.toastData.text),1),o("div",no,[u(r,{onClick:t[0]||(t[0]=p=>e.$emit("dismiss",e.toastData.id))})])])],2)])}const so=v(Jn,[["render",oo]]),io=k({setup:function(){const e=qe();return{toastNotifications:$(()=>e.notificationsList),dismissMessage:n=>{e.remove(n)}}},components:{ToastItem:so}}),ao={key:0,class:"fixed bottom-6 z-50 left-6 right-6 sticky-bar-bottom-fix"},ro={class:"flex justify-end mb-2 last:mb-0"};function lo(e,t,n,s,a,l){const r=d("ToastItem");return i(),w(xe,{to:"body"},[e.toastNotifications.length?(i(),c("div",ao,[(i(!0),c(x,null,ne(e.toastNotifications,p=>(i(),c("div",ro,[(i(),w(r,{onDismiss:e.dismissMessage,key:p.id,toastData:p},null,8,["onDismiss","toastData"]))]))),256))])):b("",!0)])}const co=v(io,[["render",lo]]),uo=W("lightbox_store",{state:function(){return{albumData:null}},getters:{postData:function(e){return this.albumData}},actions:{add:function(e){this.albumData=e},remove:function(){this.albumData=null}}}),Re=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Be(e,t,n,s){e.addEventListener?e.addEventListener(t,n,s):e.attachEvent&&e.attachEvent("on".concat(t),n)}function pe(e,t,n,s){e.removeEventListener?e.removeEventListener(t,n,s):e.detachEvent&&e.detachEvent("on".concat(t),n)}function Je(e,t){const n=t.slice(0,t.length-1);for(let s=0;s<n.length;s++)n[s]=e[n[s].toLowerCase()];return n}function Ze(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function po(e,t){const n=e.length>=t.length?e:t,s=e.length>=t.length?t:e;let a=!0;for(let l=0;l<n.length;l++)s.indexOf(n[l])===-1&&(a=!1);return a}const me={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Re?173:189,"=":Re?61:187,";":Re?59:186,"'":222,"[":219,"]":221,"\\":220},J={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},ve={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},j={16:!1,18:!1,17:!1,91:!1},O={};for(let e=1;e<20;e++)me["f".concat(e)]=111+e;let L=[],fe=null,et="all";const te=new Map,he=e=>me[e.toLowerCase()]||J[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),fo=e=>Object.keys(me).find(t=>me[t]===e),mo=e=>Object.keys(J).find(t=>J[t]===e);function tt(e){et=e||"all"}function _e(){return et||"all"}function _o(){return L.slice(0)}function ho(){return L.map(e=>fo(e)||mo(e)||String.fromCharCode(e))}function bo(){const e=[];return Object.keys(O).forEach(t=>{O[t].forEach(n=>{let{key:s,scope:a,mods:l,shortcut:r}=n;e.push({scope:a,shortcut:r,mods:l,keys:s.split("+").map(p=>he(p))})})}),e}function go(e){const t=e.target||e.srcElement,{tagName:n}=t;let s=!0;const a=n==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(a||n==="TEXTAREA"||n==="SELECT")&&!t.readOnly)&&(s=!1),s}function yo(e){return typeof e=="string"&&(e=he(e)),L.indexOf(e)!==-1}function vo(e,t){let n,s;e||(e=_e());for(const a in O)if(Object.prototype.hasOwnProperty.call(O,a))for(n=O[a],s=0;s<n.length;)n[s].scope===e?n.splice(s,1).forEach(r=>{let{element:p}=r;return He(p)}):s++;_e()===e&&tt(t||"all")}function $o(e){let t=e.keyCode||e.which||e.charCode;const n=L.indexOf(t);if(n>=0&&L.splice(n,1),e.key&&e.key.toLowerCase()==="meta"&&L.splice(0,L.length),(t===93||t===224)&&(t=91),t in j){j[t]=!1;for(const s in J)J[s]===t&&(K[s]=!1)}}function nt(e){if(typeof e>"u")Object.keys(O).forEach(a=>{Array.isArray(O[a])&&O[a].forEach(l=>ge(l)),delete O[a]}),He(null);else if(Array.isArray(e))e.forEach(a=>{a.key&&ge(a)});else if(typeof e=="object")e.key&&ge(e);else if(typeof e=="string"){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];let[a,l]=n;typeof a=="function"&&(l=a,a=""),ge({key:e,scope:a,method:l,splitKey:"+"})}}const ge=e=>{let{key:t,scope:n,method:s,splitKey:a="+"}=e;Ze(t).forEach(r=>{const p=r.split(a),_=p.length,y=p[_-1],g=y==="*"?"*":he(y);if(!O[g])return;n||(n=_e());const D=_>1?Je(J,p):[],B=[];O[g]=O[g].filter(N=>{const V=(s?N.method===s:!0)&&N.scope===n&&po(N.mods,D);return V&&B.push(N.element),!V}),B.forEach(N=>He(N))})};function We(e,t,n,s){if(t.element!==s)return;let a;if(t.scope===n||t.scope==="all"){a=t.mods.length>0;for(const l in j)Object.prototype.hasOwnProperty.call(j,l)&&(!j[l]&&t.mods.indexOf(+l)>-1||j[l]&&t.mods.indexOf(+l)===-1)&&(a=!1);(t.mods.length===0&&!j[16]&&!j[18]&&!j[17]&&!j[91]||a||t.shortcut==="*")&&(t.keys=[],t.keys=t.keys.concat(L),t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function Xe(e,t){const n=O["*"];let s=e.keyCode||e.which||e.charCode;if(!K.filter.call(this,e))return;if((s===93||s===224)&&(s=91),L.indexOf(s)===-1&&s!==229&&L.push(s),["metaKey","ctrlKey","altKey","shiftKey"].forEach(p=>{const _=ve[p];e[p]&&L.indexOf(_)===-1?L.push(_):!e[p]&&L.indexOf(_)>-1?L.splice(L.indexOf(_),1):p==="metaKey"&&e[p]&&(L=L.filter(y=>y in ve||y===s))}),s in j){j[s]=!0;for(const p in J)J[p]===s&&(K[p]=!0);if(!n)return}for(const p in j)Object.prototype.hasOwnProperty.call(j,p)&&(j[p]=e[ve[p]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(L.indexOf(17)===-1&&L.push(17),L.indexOf(18)===-1&&L.push(18),j[17]=!0,j[18]=!0);const a=_e();if(n)for(let p=0;p<n.length;p++)n[p].scope===a&&(e.type==="keydown"&&n[p].keydown||e.type==="keyup"&&n[p].keyup)&&We(e,n[p],a,t);if(!(s in O))return;const l=O[s],r=l.length;for(let p=0;p<r;p++)if((e.type==="keydown"&&l[p].keydown||e.type==="keyup"&&l[p].keyup)&&l[p].key){const _=l[p],{splitKey:y}=_,g=_.key.split(y),D=[];for(let B=0;B<g.length;B++)D.push(he(g[B]));D.sort().join("")===L.sort().join("")&&We(e,_,a,t)}}function K(e,t,n){L=[];const s=Ze(e);let a=[],l="all",r=document,p=0,_=!1,y=!0,g="+",D=!1,B=!1;for(n===void 0&&typeof t=="function"&&(n=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(l=t.scope),t.element&&(r=t.element),t.keyup&&(_=t.keyup),t.keydown!==void 0&&(y=t.keydown),t.capture!==void 0&&(D=t.capture),typeof t.splitKey=="string"&&(g=t.splitKey),t.single===!0&&(B=!0)),typeof t=="string"&&(l=t),B&&nt(e,l);p<s.length;p++)e=s[p].split(g),a=[],e.length>1&&(a=Je(J,e)),e=e[e.length-1],e=e==="*"?"*":he(e),e in O||(O[e]=[]),O[e].push({keyup:_,keydown:y,scope:l,mods:a,shortcut:s[p],method:n,key:s[p],splitKey:g,element:r});if(typeof r<"u"&&window){if(!te.has(r)){const N=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;return Xe(V,r)},U=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.event;Xe(V,r),$o(V)};te.set(r,{keydownListener:N,keyupListenr:U,capture:D}),Be(r,"keydown",N,D),Be(r,"keyup",U,D)}if(!fe){const N=()=>{L=[]};fe={listener:N,capture:D},Be(window,"focus",N,D)}}}function ko(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(O).forEach(n=>{O[n].filter(a=>a.scope===t&&a.shortcut===e).forEach(a=>{a&&a.method&&a.method()})})}function He(e){const t=Object.values(O).flat();if(t.findIndex(s=>{let{element:a}=s;return a===e})<0){const{keydownListener:s,keyupListenr:a,capture:l}=te.get(e)||{};s&&a&&(pe(e,"keyup",a,l),pe(e,"keydown",s,l),te.delete(e))}if((t.length<=0||te.size<=0)&&(Object.keys(te).forEach(a=>{const{keydownListener:l,keyupListenr:r,capture:p}=te.get(a)||{};l&&r&&(pe(a,"keyup",r,p),pe(a,"keydown",l,p),te.delete(a))}),te.clear(),Object.keys(O).forEach(a=>delete O[a]),fe)){const{listener:a,capture:l}=fe;pe(window,"focus",a,l),fe=null}}const Oe={getPressedKeyString:ho,setScope:tt,getScope:_e,deleteScope:vo,getPressedKeyCodes:_o,getAllKeyCodes:bo,isPressed:yo,filter:go,trigger:ko,unbind:nt,keyMap:me,modifier:J,modifierMap:ve};for(const e in Oe)Object.prototype.hasOwnProperty.call(Oe,e)&&(K[e]=Oe[e]);if(typeof window<"u"){const e=window.hotkeys;K.noConflict=t=>(t&&window.hotkeys===K&&(window.hotkeys=e),K),window.hotkeys=K}const wo=k({setup:function(){return{darkTheme:embedder("theme")=="dark"}}});function Po(e,t,n,s,a,l){return i(),c("button",{class:"inline-flex-center size-12 rounded-full bg-lab-pr/20 hover:bg-lab-pr/30 cursor-pointer",onClick:t[0]||(t[0]=r=>e.$emit("click"))},[(i(),c("svg",{class:C(["size-6",[e.darkTheme?"text-lab-pr3":"text-bg-sc"]]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t[1]||(t[1]=[o("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]),2))])}const Ge=v(wo,[["render",Po]]),So=k({setup:function(){const e=uo();q(()=>{K("esc",t)}),X(()=>{K.unbind("esc")});const t=()=>{e.remove()},n=$(()=>e.albumData);return ze(n,()=>{n.value?R.emit("lightbox:opened"):R.emit("lightbox:closed")}),{albumData:n,closeLightbox:t}},components:{ImagePlayer:P(()=>f(()=>import("./ImagePlayer-D12-o8Nv.js"),__vite__mapDeps([123,2,3,4,5,20,21,22]))),BackdropCloseButton:Ge}}),To={key:0,class:"fixed inset-0 z-50 bg-black"},Eo={class:"backdrop-close-button-container-top-right"},Do={class:"fixed left-0 right-0 bottom-0 from-black to-black/0 bg-gradient-to-t"},Io={class:"flex w-full items-center justify-between px-6 py-6"},Ao={class:"mr-4"},Co={key:0,class:"text-par-s inline-flex leading-4 text-white gap-3 items-center opacity-60"},Mo={key:0,class:"pl-2 first:pl-0"},Lo={key:1,class:"pl-2 first:pl-0"};function Ro(e,t,n,s,a,l){const r=d("ImagePlayer"),p=d("BackdropCloseButton");return e.albumData?(i(),c("div",To,[u(r,{albumImages:e.albumData.images,onClose:e.closeLightbox},null,8,["albumImages","onClose"]),o("div",Eo,[u(p,{onClick:e.closeLightbox},null,8,["onClick"])]),o("div",Do,[o("div",Io,[o("div",Ao,[e.albumData.albumName||e.albumData.date?(i(),c("span",Co,[e.albumData.albumName?(i(),c("span",Mo,h(e.albumData.albumName),1)):b("",!0),e.albumData.date?(i(),c("span",Lo,h(e.albumData.date),1)):b("",!0)])):b("",!0)])])])])):b("",!0)}const Bo=v(So,[["render",Ro]]),Oo=W("ui",{state:()=>({cheatSheet:{isOpen:!1}}),actions:{openCheatSheet:function(){this.cheatSheet.isOpen=!0},closeCheatSheet:function(){this.cheatSheet.isOpen=!1}}});function ot(){const e=Oo(),t=()=>{e.openCheatSheet()},n=()=>{e.closeCheatSheet()},s=$(()=>e.cheatSheet.isOpen);return{openCheatSheetPanel:t,closeCheatSheetPanel:n,isOpen:s}}const No=k({props:{},setup:function(e){const{closeCheatSheetPanel:t,isOpen:n}=ot(),s=z({SHORT_CUTS:"shortcuts",TEXT_FORMATTING:"text-formatting"}),a=z(s.value.TEXT_FORMATTING);return{closeCheatSheetPanel:t,isOpen:n,tabs:s,activeTab:a,changeTab:l=>{a.value=l},isActiveTab:(l="")=>a.value==l}},components:{MarkdownCheatSheet:P(()=>f(()=>import("./MarkdownCheatSheet-Ctmvev_h.js"),__vite__mapDeps([124,3,4,5,2]))),ShortcutsCheatSheet:P(()=>f(()=>import("./ShortcutsCheatSheet-DMFZlV9i.js"),__vite__mapDeps([125,3,4,5,2])))}}),Vo={key:0,class:"fixed inset-0 z-40 bg-black/15 backdrop-blur-xs"},Fo={key:0,class:"fixed left-0 right-0 bottom-0 z-50 popup-background-tr min-h-40 shadow-vertical-tr flex flex-col"},xo={class:"pl-navbar pr-8 border-b border-fill-pr"},zo={class:"ml-8 flex gap-6"},jo={class:"py-3 text-par-s text-lab-pr opacity-60 cursor-not-allowed text-nowrap"},qo={class:"pl-navbar pr-8 max-h-half-screen overflow-y-auto"},Uo={class:"ml-8 w-content"},Ho={class:"py-6"};function Go(e,t,n,s,a,l){const r=d("MarkdownCheatSheet"),p=d("ShortcutsCheatSheet"),_=d("PrimaryTransition");return i(),c(x,null,[e.isOpen?(i(),c("div",Vo)):b("",!0),u(_,{transitionName:"slide-up",enterFromClass:"translate-y-full",enterToClass:"translate-y-0",leaveFromClass:"translate-y-0",leaveToClass:"translate-y-full",duration:"3000"},{default:T(()=>[e.isOpen?(i(),c("div",Fo,[o("div",xo,[o("div",zo,[o("button",jo,h(e.$t("labels.shortcuts")),1),o("button",{onClick:t[0]||(t[0]=y=>e.changeTab(e.tabs.TEXT_FORMATTING)),class:C([[e.isActiveTab(e.tabs.TEXT_FORMATTING)?"active-tab text-brand-900":""],"py-3 text-par-s text-nowrap"])},h(e.$t("labels.text_formatting")),3),o("button",{onClick:t[1]||(t[1]=(...y)=>e.closeCheatSheetPanel&&e.closeCheatSheetPanel(...y)),class:"py-3 text-par-s ml-auto text-brand-900 text-nowrap"},h(e.$t("labels.close")),1)])]),o("div",qo,[o("div",Uo,[o("div",Ho,[e.isActiveTab(e.tabs.TEXT_FORMATTING)?(i(),w(r,{key:0})):(i(),w(p,{key:1}))])])])])):b("",!0)]),_:1})],64)}const Ko=v(No,[["render",Go]]),Wo=k({setup:function(e){return{}}});function Xo(e,t,n,s,a,l){const r=d("RouterLink");return i(),w(r,{to:{name:"mtl_index"},class:"fixed bottom-4 left-4 z-50 bg-black/20 backdrop-blur-2xl leading-normal pb-1 rounded-full px-3"},{default:T(()=>t[0]||(t[0]=[o("span",{class:"text-cap-s text-white cursor-pointer hover:underline"}," © ColibriPlus. Made with ♥ by Mansur Terla. ↑ ",-1)])),_:1})}const Qo=v(Wo,[["render",Xo]]),Yo=k({setup:function(){const e=z(!1),t=()=>{e.value=!0},n=()=>{e.value=!1};return q(()=>{R.on("lightbox:opened",t),R.on("lightbox:closed",n)}),X(()=>{R.off("lightbox:opened",t),R.off("lightbox:closed",n)}),{hide:e}}});function Jo(e,t,n,s,a,l){return i(),c("div",{class:C(["fixed inset-0 z-50 bg-black/50 overflow-y-auto",[e.hide?"invisible":""]])},[oe(e.$slots,"default")],2)}const st=v(Yo,[["render",Jo]]),Zo=k({emits:["close"],props:{contentWidth:{type:String,default:"w-full"}},setup:function(e,t){const n=z(!1),s=je();return q(()=>{setTimeout(()=>{n.value=!0},200),document.body.classList.add("overflow-hidden"),K("esc",()=>{t.emit("close")})}),X(()=>{document.body.classList.remove("overflow-hidden"),K.unbind("esc")}),{renderModal:n,isCentered:$(()=>!!s.meta.fluidLayout),hideAuthorAttribution:window.HIDE_AUTHOR_ATTRIBUTION}},components:{ColibriPlusAttribution:Qo,Backdrop:st,BackdropCloseButton:Ge}}),es={class:"py-top-offset"},ts={class:"w-content flex justify-center"},ns={class:"block"},os={key:0,class:"popup-background-tr w-content rounded-md"},ss={class:"backdrop-close-button-container-top-right"};function is(e,t,n,s,a,l){const r=d("PrimaryTransition"),p=d("ColibriPlusAttribution"),_=d("BackdropCloseButton"),y=d("Backdrop");return i(),w(y,null,{default:T(()=>[o("div",{class:C([e.isCentered?"flex justify-center":"ml-page-offset"])},[o("div",es,[u(r,null,{default:T(()=>[o("div",ts,[e.renderModal?(i(),c("div",{key:0,class:C([[e.contentWidth],"popup-background-tr rounded-2xl origin-top"])},[o("div",ns,[oe(e.$slots,"default")])],2)):b("",!0)])]),_:3}),e.renderModal==!1?(i(),c(x,{key:0},[e.$slots.loadingSkeleton!==void 0?(i(),c("div",os,[oe(e.$slots,"loadingSkeleton")])):b("",!0)],64)):b("",!0)])],2),e.hideAuthorAttribution?b("",!0):(i(),w(xe,{key:0,to:"body"},[u(p)])),o("div",ss,[u(_,{onClick:t[0]||(t[0]=g=>e.$emit("close"))})])]),_:3})}const Pe=v(Zo,[["render",is]]),as=k({props:{loading:{type:Boolean,default:!1},buttonFluid:{type:Boolean,default:!1},buttonText:{type:String,default:"Label"},buttonType:{type:String,default:"button"},isDisabled:{type:Boolean,default:!1},buttonRole:{type:String,default:"default"},iconPosition:{type:String,default:"right"}},setup:function(e){const t={default:"text-brand-900",danger:"text-red-900",marginal:"text-lab-sc"};return{btnColor:$(()=>e.loading?"text-lab-sc":t[e.buttonRole]),disableButton:$(()=>e.loading||e.isDisabled)}}}),rs=["type","disabled"],ls={class:"text-par-n font-medium"},cs={key:0,class:"size-icon-x-small"},ds={key:1,class:"inline-flex items-center px-4 h-4"};function us(e,t,n,s,a,l){return i(),c("button",{type:e.buttonType,disabled:e.disableButton,class:C(["inline-flex justify-center outline-hidden items-center gap-1 cursor-pointer leading-none disabled:cursor-not-allowed disabled:opacity-60",[e.buttonFluid?"w-full":"",e.btnColor,e.iconPosition==="left"?"flex-row-reverse":""]])},[o("span",ls,h(e.buttonText),1),e.$slots.buttonIcon?ie((i(),c("span",cs,[oe(e.$slots,"buttonIcon")],512)),[[Ne,!e.loading]]):b("",!0),e.loading?(i(),c("span",ds,t[0]||(t[0]=[o("div",{class:"colibri-primary-animation"},null,-1)]))):b("",!0)],10,rs)}const it=v(as,[["render",us]]),ps=k({setup:function(e){const t=se({isModalOpen:!1}),n=z({}),s=se({onConfirm:null,onCancel:null,onConfirmSecondary:null}),a=()=>{n.value={title:"",description:"",confirm:__t("prompt.confirm_prompt_button"),cancel:__t("prompt.cancel_prompt_button"),confirmSecondary:!1,confirmSecondaryText:""}};return q(()=>{R.on("confirmation-modal:open",l=>{a(),n.value.title=l.title,n.value.description=l.description,l.confirmButtonText&&(n.value.confirm=l.confirmButtonText),l.cancelButtonText&&(n.cancel=l.cancelButtonText),l.confirmSecondary&&(n.value.confirmSecondary=!0,n.value.confirmSecondaryText=l.confirmSecondaryText),s.onConfirm=l.onConfirm,s.onCancel=l.onCancel,l.onConfirmSecondary&&(s.onConfirmSecondary=l.onConfirmSecondary),t.isModalOpen=!0})}),{modalData:n,modalCallbacks:s,state:t,confirm:function(){s.onConfirm&&s.onConfirm(),t.isModalOpen=!1},cancel:function(){s.onCancel&&s.onCancel(),t.isModalOpen=!1},confirmSecondary:function(){s.onConfirmSecondary&&s.onConfirmSecondary(),t.isModalOpen=!1}}},components:{ContentModal:Pe,PrimaryTextButton:it}}),fs={class:"block"},ms={class:"p-4"},_s={class:"px-4 py-4"},hs=["innerHTML"],bs=["innerHTML"],gs={class:"border-t border-bord-pr"},ys={class:"py-3 hover:bg-fill-qt smoothing"},vs={class:"py-3 hover:bg-fill-qt smoothing"},$s={class:"py-3 hover:bg-fill-qt smoothing"};function ks(e,t,n,s,a,l){const r=d("PrimaryTextButton"),p=d("Border"),_=d("ContentModal");return e.state.isModalOpen?(i(),w(_,{key:0,contentWidth:"w-8/12",onClose:e.cancel},{default:T(()=>[o("div",fs,[o("div",ms,[o("div",_s,[o("h4",{class:"text-title-3 text-center text-lab-pr2 font-bold mb-1",innerHTML:e.modalData.title},null,8,hs),o("p",{class:"text-par-m text-center text-lab-pr3",innerHTML:e.modalData.description},null,8,bs)])]),o("div",gs,[o("div",ys,[u(r,{buttonFluid:!0,onClick:e.confirm,buttonText:e.modalData.confirm,buttonRole:"danger"},null,8,["onClick","buttonText"])]),e.modalData.confirmSecondary?(i(),c(x,{key:0},[u(p),o("div",vs,[u(r,{buttonFluid:!0,onClick:e.confirmSecondary,buttonText:e.modalData.confirmSecondaryText,buttonRole:"danger"},null,8,["onClick","buttonText"])])],64)):b("",!0),u(p),o("div",$s,[u(r,{buttonFluid:!0,onClick:e.cancel,buttonText:e.modalData.cancel},null,8,["onClick","buttonText"])])])])]),_:1},8,["onClose"])):b("",!0)}const ws=v(ps,[["render",ks]]),Ps=k({props:{unreadIndicator:{type:Boolean,default:!1},avatarSrc:{type:String,default:""},rounded:{type:Boolean,default:!0},hasBorder:{type:Boolean,default:!0}},setup:function(){const e=z(!1);return{isFallback:e,onError:()=>{e.value=!0}}}}),Ss={class:"size-small-avatar relative"},Ts=["src"],Es=["src"],Ds={key:0,class:"size-2.5 border-2 border-white rounded-full inline-block bg-brand-900 absolute top-0 left-0"};function Is(e,t,n,s,a,l){return i(),c("div",Ss,[o("div",{class:C(["size-full bg-bg-pr overflow-hidden",[e.rounded?"rounded-full":"",e.hasBorder?"border border-bord-pr":""]])},[ie(o("img",{src:e.$config("user.default_avatar"),alt:"Avatar"},null,8,Ts),[[Ne,e.isFallback]]),ie(o("img",{class:"w-full",onError:t[0]||(t[0]=(...r)=>e.onError&&e.onError(...r)),src:e.avatarSrc,alt:"Avatar"},null,40,Es),[[Ne,!e.isFallback]])],2),e.unreadIndicator?(i(),c("span",Ds)):b("",!0)])}const Se=v(Ps,[["render",Is]]),As=k({props:{iconName:{type:String,default:"dots-horizontal"}},components:{PrimaryIconButton:Ue}});function Cs(e,t,n,s,a,l){const r=d("PrimaryIconButton");return i(),w(r,{iconName:e.iconName,iconSize:"6"},null,8,["iconName"])}const at=v(As,[["render",Cs]]),Ms=k({props:{loading:{type:Boolean,default:!1},buttonText:{type:String,default:"Label"},buttonType:{type:String,default:"button"},buttonSize:{type:String,default:"lg"},buttonFluid:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},buttonRole:{type:String,default:"default"}},setup:function(e){const t={accent:"bg-lab-pr2 text-bg-pr border border-lab-pr2",stroked:"text-lab-pr2 border-bord-pr border",default:"text-brand-900 bg-fill-qt border border-transparent",danger:"text-red-900 bg-fill-qt hover:bg-fill-qt",marginal:"text-lab-sc hover:bg-fill-qt",marginalDisabled:"text-lab-sc",marginalDanger:"text-red-900 hover:bg-fill-qt"};return{btnSizes:{lg:"py-4 px-10 text-par-m",lm:"py-3 px-6 text-par-n",md:"py-2.5 px-4 text-par-n"},btnStylingClasses:$(()=>e.buttonRole==="accent"&&e.loading?t.default:t[e.buttonRole]),disableButton:$(()=>e.loading||e.isDisabled)}}}),Ls=["type","disabled"],Rs={key:0,class:"inline-block px-4"},Bs={key:1};function Os(e,t,n,s,a,l){return i(),c("button",{class:C(["leading-none rounded-full font-semibold disabled:opacity-60 cursor-pointer",[e.btnStylingClasses,e.btnSizes[e.buttonSize],e.buttonFluid?"w-full":""]]),type:e.buttonType,disabled:e.disableButton},[e.loading?(i(),c("span",Rs,t[0]||(t[0]=[o("div",{class:"colibri-primary-animation"},null,-1)]))):(i(),c("span",Bs,h(e.buttonText),1))],10,Ls)}const Te=v(Ms,[["render",Os]]),Ns=k({props:{followableId:{type:Number,default:0},isApproved:{type:Boolean,default:!1}},setup:function(e){const t=z(!1),n=z(e.isApproved);return{isLoading:t,handleFollowAccept:()=>{t.value=!0,n.value=!0,ut().user(e.followableId).accept(),t.value=!1},buttonText:$(()=>n.value?"labels.follow_accepted_button":"labels.follow_accept_button")}},components:{PrimaryPillButton:Te}});function Vs(e,t,n,s,a,l){const r=d("PrimaryPillButton");return i(),w(r,gt({onClick:e.handleFollowAccept},e.$attrs,{loading:e.isLoading,buttonText:e.$t(e.buttonText),buttonRole:e.isApproved?"marginal":"default",buttonSize:"md"}),null,16,["onClick","loading","buttonText","buttonRole"])}const Fs=v(Ns,[["render",Vs]]),xs=k({props:{notificationData:{type:Object,default:{}}},setup:function(e,t){const n=we(),s=$(()=>["post.reacted","post.commented","post.mentioned"].includes(e.notificationData.type)?{name:"publication_index",params:{hash_id:e.notificationData.entity.hash_id}}:["comment.mentioned","comment.reacted"].includes(e.notificationData.type)?{name:"publication_index",params:{hash_id:e.notificationData.entity.post_hash_id}}:["story.mentioned"].includes(e.notificationData.type)?{name:"stories_index",params:{story_uuid:e.notificationData.entity.story_uuid}}:["user.followed-requested","account-linked","user.followed","user.follow-accepted"].includes(e.notificationData.type)?{name:"profile_index",params:{id:e.notificationData.entity.username}}:["important.wallet-deposit"].includes(e.notificationData.type)?{name:"wallet_index"}:"#"),a=$(()=>e.notificationData.metadata?e.notificationData.metadata:{});return{handleRouting:()=>{t.emit("route",s.value)},metadata:a,isReaction:$(()=>!!["post.reacted","comment.reacted"].includes(e.notificationData.type)),isViewable:$(()=>!!a.value.is_viewable),isFollowRequest:$(()=>e.notificationData.type==="user.followed-requested"),hasPreviewImage:$(()=>!!(e.notificationData.entity&&e.notificationData.entity.preview_lqip_base64)),handleFollowAccept:function(){debounce(()=>{n.deleteNotification(e.notificationData.id)},2500)}}},components:{AvatarSmall:Se,DropdownButton:at,PrimaryPillButton:Te,FollowAcceptPillButton:Fs}}),zs={class:"hover:bg-fill-fv smoothing px-4 py-2.5"},js={class:"flex relative"},qs={key:0,class:"absolute top-1 -left-3"},Us={class:"shrink-0"},Hs={class:"flex-1 ml-2 leading-none"},Gs={class:"block"},Ks={class:"font-medium text-par-n text-lab-pr mr-1"},Ws={class:"font-normal"},Xs={key:0,class:"block my-1"},Qs=["src"],Ys={class:"block"},Js={class:"text-par-s text-lab-sc"},Zs=["src"],ei={key:2,class:"shrink-0 ml-4"},ti={key:3,class:"shrink-0 ml-4"};function ni(e,t,n,s,a,l){const r=d("AvatarSmall"),p=d("VerificationBadge"),_=d("PrimaryPillButton"),y=d("FollowAcceptPillButton");return i(),c("div",zs,[o("div",js,[e.notificationData.is_read?b("",!0):(i(),c("div",qs,t[3]||(t[3]=[o("span",{class:"size-1.5 rounded-full bg-brand-900 inline-block"},null,-1)]))),o("div",Us,[u(r,{avatarSrc:e.notificationData.actor.avatar_url},null,8,["avatarSrc"])]),o("div",Hs,[o("div",Gs,[o("span",Ks,[H(h(e.notificationData.actor.name),1),e.notificationData.actor.verified?(i(),c(x,{key:0},[t[4]||(t[4]=H(" ")),u(p,{size:"xs"})],64)):b("",!0)]),o("span",{onClick:t[0]||(t[0]=(...g)=>e.handleRouting&&e.handleRouting(...g)),class:"text-par-s text-lab-pr2 leading-4 cursor-pointer hover:text-lab-pr"},[H(h(e.notificationData.message),1),e.notificationData.entity.content?(i(),c(x,{key:0},[t[5]||(t[5]=H(" :")),o("span",Ws,'"'+h(e.notificationData.entity.content)+'"',1)],64)):b("",!0)])]),e.hasPreviewImage?(i(),c("div",Xs,[o("div",{onClick:t[1]||(t[1]=(...g)=>e.handleRouting&&e.handleRouting(...g)),class:"size-10 overflow-hidden rounded-md cursor-pointer"},[o("img",{class:"size-full object-cover smoothing hover:scale-110",src:e.notificationData.entity.preview_lqip_base64,alt:"Image"},null,8,Qs)])])):b("",!0),o("div",Ys,[o("time",Js,h(e.notificationData.date.time_ago),1)])]),e.isReaction?(i(),c("div",{key:1,onClick:t[2]||(t[2]=(...g)=>e.handleRouting&&e.handleRouting(...g)),class:"shrink-0 ml-2 cursor-pointer overflow-hidden"},[o("img",{class:"size-6 smoothing hover:scale-110",src:e.notificationData.metadata.reaction_image_url,alt:"Emoji"},null,8,Zs)])):e.isViewable?(i(),c("div",ei,[u(_,{onClick:e.handleRouting,buttonText:e.$t("labels.view"),buttonSize:"md"},null,8,["onClick","buttonText"])])):e.isFollowRequest?(i(),c("div",ti,[u(y,{followableId:e.notificationData.entity.id,isApproved:e.metadata.is_approved,onClick:e.handleFollowAccept,buttonSize:"md"},null,8,["followableId","isApproved","onClick"])])):b("",!0)])])}const oi=v(xs,[["render",ni]]),si={},ii={class:"flex gap-2 items-center px-4 py-3"};function ai(e,t){return i(),c("div",ii,t[0]||(t[0]=[yt('<div class="shrink-0"><div class="size-small-avatar skeleton-circle"></div></div><div class="flex-1 overflow-hidden pr-4"><div class="skeleton h-3 mb-2"></div><div class="skeleton h-3 w-4/12"></div></div>',2)]))}const ri=v(si,[["render",ai]]),li=k({props:{modelValue:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup:function(e,t){return{updateValue:n=>{t.emit("update:modelValue",n.target.checked)}}},components:{}}),ci={class:"inline-flex items-center cursor-pointer leading-zero overflow-hidden"},di={class:"shrink-0"},ui=["checked"],pi={key:0,class:"text-par-s text-lab-pr2 ms-3"};function fi(e,t,n,s,a,l){return i(),c("label",ci,[o("div",di,[o("input",{type:"checkbox",checked:e.modelValue,onChange:t[0]||(t[0]=(...r)=>e.updateValue&&e.updateValue(...r)),class:"sr-only peer"},null,40,ui),t[1]||(t[1]=o("div",{class:"relative w-10 h-6 bg-fill-pr peer-focus:outline-hidden rounded-full peer peer-checked:after:translate-x-[16px] rtl:peer-checked:after:-translate-x-full peer-checked:after:border-bg-pr after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-bg-pr after:shadow-lg after:border-bord-pr after:rounded-full after:size-5 after:transition-all peer-checked:bg-lab-pr"},null,-1))]),e.label?(i(),c("span",pi,h(e.label),1)):b("",!0)])}const mi=v(li,[["render",fi]]),_i=k({props:{},setup:function(e,t){const n=z(!1);return q(()=>{localStorage.getItem("notificationsSound")&&(n.value=!0)}),ze(n,s=>{s?localStorage.setItem("notificationsSound",1):localStorage.removeItem("notificationsSound")}),{isSoundEnabled:n}},components:{SecondarySwitcher:mi}}),hi={class:"flex items-center text-lab-pr2 pr-4 leading-none h-14 border-t border-t-fill-pr px-3"},bi={class:"shrink-0 size-6"},gi={class:"ml-2 text-par-m"},yi={class:"shrink-0 ml-auto"};function vi(e,t,n,s,a,l){const r=d("SvgIcon"),p=d("SecondarySwitcher");return i(),c("div",hi,[o("span",bi,[u(r,{name:"volume-max",type:"line"})]),o("span",gi,h(e.$t("notifs.notifications_sound")),1),o("span",yi,[u(p,{modelValue:e.isSoundEnabled,"onUpdate:modelValue":t[0]||(t[0]=_=>e.isSoundEnabled=_)},null,8,["modelValue"])])])}const $i=v(_i,[["render",vi]]),ki=k({emits:["back"],props:{hasBack:{type:Boolean,default:!0},titleText:{type:String,default:""},backStep:{type:Number,default:1},navigateBack:{type:Boolean,default:!0},backHome:{type:Boolean,default:!1}},setup:function(e,t){const n=Fe();return{goBack:()=>{e.navigateBack?e.backHome?n.push({name:"home_index"}):n.go(-e.backStep):t.emit("back")}}}}),wi={class:"flex gap-2 items-center leading-none"},Pi={key:0,class:"shrink-0 cursor-pointer"},Si={class:"flex-1"},Ti={class:"text-title-3 2xl:text-title-2 font-bold text-lab-pr2 leading-tight"};function Ei(e,t,n,s,a,l){const r=d("SvgIcon");return i(),c("div",wi,[e.hasBack?(i(),c("div",Pi,[o("span",{onClick:t[0]||(t[0]=(...p)=>e.goBack&&e.goBack(...p)),class:"text-lab-pr"},[u(r,{name:"arrow-left",classes:"size-icon-normal"})])])):b("",!0),o("div",Si,[o("h1",Ti,h(e.titleText),1)])])}const Di=v(ki,[["render",Ei]]),Ii=k({props:{cols:{type:Number,default:3}},setup:function(e){return{gridCols:{2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"}[e.cols]}}});function Ai(e,t,n,s,a,l){return i(),c("div",{class:C(["grid",e.gridCols])},[oe(e.$slots,"default")],2)}const Ci=v(Ii,[["render",Ai]]),Mi=k({props:{isActive:{type:Boolean,default:!1},size:{type:String,default:"md"}},setup:function(e){return{sizeClass:{md:"text-par-m px-3 py-5",sm:"text-par-s px-3 py-4",lg:"text-par-l px-3 py-5"}[e.size]}}});function Li(e,t,n,s,a,l){return i(),c("div",{class:C(["cursor-pointer w-full flex-1 text-center overflow-hidden truncate leading-4",[e.sizeClass,e.isActive?"active-tab-link":""]])},[o("span",{class:C(["font-semibold",e.isActive?"text-lab-pr2":"text-lab-sc"])},[oe(e.$slots,"default")],2)],2)}const Ri=v(Mi,[["render",Li]]),Bi=k({setup:function(){const e=se({tab:"all",isLoading:!0}),t=Fe(),n=we(),s=$(()=>n.notifications),a=async()=>{e.tab="all",await n.fetchNotifications(e.tab)};q(async()=>{await n.fetchNotifications(e.tab),e.isLoading=!1,n.fetchUnreadCount(),R.on("notifications:received",a),K("esc",r)}),X(()=>{R.off("notifications:received",a),K.unbind("esc")});const l=async _=>{e.tab=_,e.isLoading=!0,await n.fetchNotifications(e.tab),e.isLoading=!1},r=()=>{n.closeNotifications()},p=$(()=>{let _=[{title:__t("notifs.date_sections.today"),notifications:[]},{title:__t("notifs.date_sections.yesterday"),notifications:[]},{title:__t("notifs.date_sections.this_week"),notifications:[]},{title:__t("notifs.date_sections.this_month"),notifications:[]},{title:__t("notifs.date_sections.earlier"),notifications:[]}];return s.value.forEach(y=>{y.date.is_today?_[0].notifications.push(y):y.date.is_yesterday?_[1].notifications.push(y):y.date.is_this_week?_[2].notifications.push(y):y.date.is_this_month?_[3].notifications.push(y):_[4].notifications.push(y)}),_});return{state:e,groupedNotifications:p,handleTabChange:l,closeModal:r,handleRouting:_=>{r(),t.push(_)},isEmpty:$(()=>p.value.every(_=>_.notifications.length===0))}},components:{Backdrop:st,NotificationItem:oi,PageTitle:Di,NotificationItemSkeleton:ri,NotificationSoundControl:$i,BackdropCloseButton:Ge,TabsItem:Ri,ContentTabs:Ci}}),Oi={class:"w-navbar popup-background-sc fixed top-0 bottom-0 left-0 pt-4"},Ni={class:"h-full flex flex-col"},Vi={class:"border-b border-b-bord-pr"},Fi={class:"px-4 pb-4"},xi={class:"flex-1 overflow-y-auto"},zi={key:0,class:"py-14"},ji={class:"text-par-s text-lab-sc text-center"},qi={key:0},Ui={class:"px-4 py-2"},Hi={class:"text-par-n font-semibold text-lab-pr2"},Gi={class:"shrink-0"},Ki={class:"backdrop-close-button-container-top-right"};function Wi(e,t,n,s,a,l){const r=d("PageTitle"),p=d("TabsItem"),_=d("ContentTabs"),y=d("NotificationItemSkeleton"),g=d("NotificationItem"),D=d("Border"),B=d("NotificationSoundControl"),N=d("BackdropCloseButton"),U=d("Backdrop");return i(),w(U,{onClick:ee(e.closeModal,["self"])},{default:T(()=>[o("div",Oi,[o("div",Ni,[o("div",Vi,[o("div",Fi,[u(r,{hasBack:!1,titleText:e.$t("notifs.notifications_title")},null,8,["titleText"])]),u(_,null,{default:T(()=>[u(p,{onClick:t[0]||(t[0]=V=>e.handleTabChange("all")),isActive:e.state.tab=="all",size:"sm"},{default:T(()=>[H(h(e.$t("notifs.all_notifications")),1)]),_:1},8,["isActive"]),u(p,{onClick:t[1]||(t[1]=V=>e.handleTabChange("mentions")),isActive:e.state.tab=="mentions",size:"sm"},{default:T(()=>[H(h(e.$t("notifs.mentions")),1)]),_:1},8,["isActive"]),u(p,{onClick:t[2]||(t[2]=V=>e.handleTabChange("important")),isActive:e.state.tab=="important",size:"sm"},{default:T(()=>[H(h(e.$t("notifs.important_notifications")),1)]),_:1},8,["isActive"])]),_:1})]),o("div",xi,[e.state.isLoading?(i(),c(x,{key:0},ne(7,V=>u(y)),64)):(i(),c(x,{key:1},[e.isEmpty?(i(),c("div",zi,[o("p",ji,h(e.$t("notifs.no_notifications")),1)])):(i(!0),c(x,{key:1},ne(e.groupedNotifications,V=>(i(),c(x,null,[V.notifications.length?(i(),c("div",qi,[o("div",Ui,[o("p",Hi,h(V.title),1)]),(i(!0),c(x,null,ne(V.notifications,E=>(i(),w(g,{onRoute:e.handleRouting,notificationData:E},null,8,["onRoute","notificationData"]))),256)),u(D,{height:"h-2",opacity:"opacity-70"})])):b("",!0)],64))),256))],64))]),o("div",Gi,[u(B)])])]),o("div",Ki,[u(N,{onClick:e.closeModal},null,8,["onClick"])])]),_:1},8,["onClick"])}const Xi=v(Bi,[["render",Wi]]),Qi=W("report_store",{state:function(){return{reportReasons:{post:null,user:null}}},actions:{fetchReportReasons:async function(e){await S().feedback().params({type:e}).getFrom("report/reasons").then(t=>{this.reportReasons[e]=t.data.data}).catch(t=>{t.response&&alert(t.response.data.message)})},sendReport:function(e){S().feedback().with(e).sendTo("report/send").then(t=>{}).catch(t=>{t.response&&alert(t.response.data.message)})}}}),Yi=k({props:{title:{type:String,required:!0}}}),Ji={class:"text-par-l font-semibold flex-1 text-lab-pr2 truncate"};function Zi(e,t,n,s,a,l){return i(),c("h4",Ji,h(e.title),1)}const ea=v(Yi,[["render",Zi]]),ta=k({props:{modalTitle:{type:String,default:""},hasTitleDivider:{type:Boolean,default:!0}},components:{ModalTitle:ea}}),na={class:"leading-none"},oa={class:"max-w-full overflow-hidden px-4 py-4 text-center px-16"},sa={key:0,class:"h-px bg-bord-pr"};function ia(e,t,n,s,a,l){const r=d("ModalTitle");return i(),c("div",na,[o("div",oa,[u(r,{title:e.modalTitle},null,8,["title"])]),e.hasTitleDivider?(i(),c("div",sa)):b("",!0)])}const rt=v(ta,[["render",ia]]),aa=k({props:{reasonData:{type:Object,required:!0},isSelected:{type:Boolean,required:!1,default:!1}}}),ra={class:"block px-4 smoothing hover:bg-fill-qt py-3 cursor-pointer border-b border-b-bord-pr last:border-b-0"},la={class:"flex items-center gap-x-4"},ca={class:"flex-1"},da={class:"text-par-n font-medium text-lab-pr2"},ua={class:"text-cap-l text-lab-sc"},pa={class:"shrink-0 size-icon-small"};function fa(e,t,n,s,a,l){const r=d("SvgIcon");return i(),c("div",ra,[o("div",la,[o("div",ca,[o("h4",da,h(e.reasonData.title),1),o("p",ua,h(e.reasonData.description),1)]),o("div",pa,[e.isSelected?(i(),w(r,{key:0,name:"check-circle",classes:"text-green-900"})):(i(),w(r,{key:1,name:"circle",type:"line",classes:"text-lab-sc"}))])])])}const ma=v(aa,[["render",fa]]),_a=k({setup:function(){const e=se({isOpen:!1,isLoading:!0,reportType:null,selectedReasonIndex:null}),t=Qi(),n=async a=>{e.isOpen=!0,e.reportType=a.type,e.reportableId=a.reportableId,t.reportReasons[e.reportType]||await t.fetchReportReasons(e.reportType),e.isLoading=!1,document.body.style.overflow="hidden"},s=()=>{e.isOpen=!1,e.isLoading=!0,e.reportType=null,e.reportableId=null,e.selectedReasonIndex=null,document.body.style.overflow="auto"};return q(()=>{R.on("report:open",n),R.on("report:close",s)}),X(()=>{R.off("report:open",n),R.off("report:close",s)}),{state:e,closeReportModal:s,reportInfo:$(()=>t.reportReasons[e.reportType]),selectReason:function(a){e.selectedReasonIndex===a?e.selectedReasonIndex=null:e.selectedReasonIndex=a},sendReport:function(){t.sendReport({type:e.reportType,reason_index:e.selectedReasonIndex,reportable_id:e.reportableId}),toastSuccess(__t("toast.report_sent")),s()}}},components:{ContentModal:Pe,ModalHeader:rt,ReasonItem:ma,PrimaryPillButton:Te}}),ha={key:0,class:"flex justify-center py-12"},ba={key:1,class:"block"},ga={class:"block py-6 px-4 text-center"},ya={class:"flex justify-center"},va={class:"size-6 text-red-500"},$a={class:"text-title-3 font-bold text-lab-pr2"},ka={class:"text-par-s text-lab-sc"},wa={class:"block max-h-96 overflow-y-auto"},Pa={class:"block py-4 px-4"};function Sa(e,t,n,s,a,l){const r=d("ModalHeader"),p=d("PrimaryDotsAnimation"),_=d("SvgIcon"),y=d("Border"),g=d("ReasonItem"),D=d("PrimaryPillButton"),B=d("ContentModal");return e.state.isOpen?(i(),w(xe,{key:0,to:"body"},[u(B,{onClose:e.closeReportModal},{default:T(()=>[u(r,{modalTitle:e.$t("labels.report")},null,8,["modalTitle"]),e.state.isLoading?(i(),c("div",ha,[u(p)])):(i(),c("div",ba,[o("div",ga,[o("div",ya,[o("div",va,[u(_,{name:"alert-hexagon"})])]),o("h3",$a,h(e.reportInfo.title),1),o("p",ka,h(e.reportInfo.description),1)]),u(y,{height:"h-3"}),o("div",wa,[(i(!0),c(x,null,ne(e.reportInfo.reasons,(N,U)=>(i(),w(g,{onClick:V=>e.selectReason(U),isSelected:e.state.selectedReasonIndex===U,key:U,reasonData:N},null,8,["onClick","isSelected","reasonData"]))),128))]),u(y),o("div",Pa,[u(D,{disabled:e.state.selectedReasonIndex===null,buttonText:e.$t("labels.send_report"),buttonType:"button",onClick:e.sendReport,buttonFluid:!0},null,8,["disabled","buttonText","onClick"])])]))]),_:1},8,["onClose"])])):b("",!0)}const Ta=v(_a,[["render",Sa]]),lt=W("post_editor_store",{state:function(){return{draftPost:{},quotedPost:null,initialType:ye.TEXT,marks:{isSensitive:!1,isAiGenerated:!1},mentionName:null,quotePostId:null}},getters:{pollChoices:e=>e.draftPost.relations.poll.choices,isSensitive:e=>e.marks.isSensitive,isAiGenerated:e=>e.marks.isAiGenerated},actions:{fetchDraftPost:async function(){let e=this;await S().postEditor().params({quoted_post_id:this.quotePostId}).getFrom("draft").then(t=>{t.data.data.draft?e.draftPost=t.data.data.draft:e.draftPost=this.getDraftPostDefaultValue(),t.data.data.quoted_post&&(e.quotedPost=t.data.data.quoted_post)}).catch(t=>{e.draftPost=this.getDraftPostDefaultValue()})},pollHasChoices:function(){var e,t,n,s;return((s=(n=(t=(e=this.draftPost)==null?void 0:e.relations)==null?void 0:t.poll)==null?void 0:n.choices)==null?void 0:s.length)>0},resetDraftPost:function(){this.draftPost=this.getDraftPostDefaultValue()},setDraftPost:function(e){this.draftPost=e},setPollChoices:function(e){this.draftPost.relations.poll.choices=e},validatePollOptions:function(e){this.pollHasChoices()&&Object.keys(e).forEach(t=>{let n=t.numberOf(1);n&&this.pollChoices[n]&&(this.pollChoices[n].isInvalid=!0,setTimeout(()=>{this.pollChoices[n].isInvalid=!1},1e3))})},finishEditing:function(){this.mentionName=null,this.quotePostId=null,this.quotedPost=null,this.initialType=ye.TEXT,this.marks.isSensitive=!1,this.marks.isAiGenerated=!1,this.resetDraftPost()},getDraftPostDefaultValue:function(){let e="";return this.mentionName&&(e=`@${this.mentionName} `),{content:e,type:ye.TEXT,relations:{}}},markPostAsSensitive:function(){this.marks.isSensitive=!this.marks.isSensitive},markPostAsAiGenerated:function(){this.marks.isAiGenerated=!this.marks.isAiGenerated},setLinkSnapshot:function(e){this.draftPost.relations.link_snapshot=e},deleteLinkSnapshot:function(){this.draftPost.relations.link_snapshot=null}}}),Ea=function(e,t){const s=(e.clipboardData||window.clipboardData).items;if(typeof s=="string")return 1;for(let a=0;a<s.length;a++){const l=s[a];if(l.type.startsWith("image")){const r=l.getAsFile();r&&typeof t=="function"&&t(r)}}},Da=W("timeline_store",{deleteAware:!0,state:function(){return{posts:[],update:[],filter:{page:1,onset:null}}},actions:{updateFeed:async function(){let e=this;await S().userTimeline().params({filter:{onset:e.posts.at(0).id}}).getFrom("feed").then(t=>{e.update=t.data.data}).catch(t=>{t.response&&(e.update=[])})},applyUpdate:function(){this.update.forEach(e=>{this.posts.slice(0,this.update.length).some(n=>n.id===e.id)||this.posts.unshift(e)}),this.update=[]},initialLoad:async function(){let e=this;e.posts.length||await this.load().then(function(t){e.posts=t.data.data}).catch(function(t){e.posts=[]})},loadNextPage:async function(){return this.filter.page+=1,await this.load()},load:async function(){return await S().userTimeline().params({filter:this.filter}).getFrom("feed")},appendPosts:function(e){this.posts=this.posts.concat(e)},prependPost:function(e){return this.posts.unshift(e),this.posts},removePost:function(e){let t=this.posts.findIndex(n=>n.id==e);t!==-1&&this.posts.splice(t,1)},setPostMedia:function(e){var n,s;const t=this.posts.find(a=>a.id==e.mediaable_id);if((s=(n=t==null?void 0:t.relations)==null?void 0:n.media)!=null&&s.length){let a=t.relations.media.findIndex(l=>l.id==e.id);a!==-1&&(t.relations.media[a]=e)}},setPostPollData:function(e){var n;const t=this.posts.find(s=>s.id==e.post_id);(n=t==null?void 0:t.relations)!=null&&n.poll&&(t.relations.poll=e)}}}),Ia=k({props:{iconName:{type:String,default:""},iconType:{type:String,default:"line"},disabled:{type:Boolean,default:!1}}}),Aa=["disabled"];function Ca(e,t,n,s,a,l){const r=d("SvgIcon");return i(),c("button",{class:"size-icon-medium disabled:opacity-70 outline-hidden smoothing hover:text-lab-pr cursor-pointer text-lab-pr3",type:"button",disabled:e.disabled},[u(r,{type:e.iconType,name:e.iconName},null,8,["type","name"])],8,Aa)}const Ma=v(Ia,[["render",Ca]]),La=k({setup:function(){const e=z(!0),t=z(null),n=embedder("assets.emojis.animated");let s=null;const a=()=>{t.value=n[Math.floor(Math.random()*n.length)].url};return q(()=>{e.value=!1,a(),s=setInterval(()=>{a()},3500)}),X(()=>{clearInterval(s)}),{isLoading:e,emojiUrl:t}}}),Ra={key:0,type:"button",class:"skeleton-circle size-5 inline-block outline-none cursor-pointer"},Ba={key:1,type:"button",class:"inline-block outline-none group cursor-pointer size-5"},Oa=["src"];function Na(e,t,n,s,a,l){return e.isLoading?(i(),c("button",Ra)):(i(),c("button",Ba,[o("img",{src:e.emojiUrl,alt:"Emojis",class:"size-full group-hover:scale-130 transition-all duration-300"},null,8,Oa)]))}const Va=v(La,[["render",Na]]),Fa=k({props:{userData:{type:Object,required:!0}}}),xa={class:"block px-3 py-2.5 cursor-pointer border-b border-bord-pr last:border-none hover:bg-fill-qt"},za={class:"flex items-center justify-between cursor-pointer"},ja={class:"shrink-0 size-6 rounded-full overflow-hidden"},qa=["src"],Ua={class:"flex-1 text-lab-pr text-par-s pl-2 truncate leading-normal"},Ha={class:"font-medium"},Ga={class:"text-lab-sc ml-1"};function Ka(e,t,n,s,a,l){return i(),c("div",xa,[o("div",za,[o("div",ja,[o("img",{class:"w-full",src:e.userData.avatar_url,alt:"Avatar"},null,8,qa)]),o("div",Ua,[o("span",Ha,h(e.userData.name),1),o("span",Ga," @"+h(e.userData.username),1)])])])}const Wa=v(Fa,[["render",Ka]]),Xa=k({emits:["select"],props:{classes:{type:String,default:""}},setup:function(e,t){const n=se({isLoading:!0,hoveredUserIndex:0,isSearching:!1}),s=z([]),a=async function(r){return n.isSearching||(n.isSearching=!0,await S().autocompletes().with({query:r}).sendTo("mentions").then(p=>{s.value=p.data.data}).catch(p=>{l()}),n.isSearching=!1),!1};q(()=>{R.on("editor:mention-input",a)}),X(()=>{R.off("editor:mention-input",a)});const l=()=>{s.value=[]};return{state:n,mentions:s,selectMention:r=>{l(),t.emit("select",r.username)},closePicker:l}},components:{MentionItem:Wa}}),Qa={key:0,class:"block relative"};function Ya(e,t,n,s,a,l){const r=d("MentionItem"),p=Qe("outside-click");return e.mentions.length?ie((i(),c("div",Qa,[o("div",{class:C([e.classes,"max-h-96 overflow-y-auto"])},[(i(!0),c(x,null,ne(e.mentions,(_,y)=>(i(),w(r,{onClick:g=>e.selectMention(_),key:y,userData:_},null,8,["onClick","userData"]))),128))],2)])),[[p,e.closePicker]]):b("",!0)}const Ja=v(Xa,[["render",Ya]]),Za={},er={class:"popup-background-sc rounded-2xl w-80 shadow-2xl overflow-hidden"};function tr(e,t){return i(),c("div",er,[oe(e.$slots,"default")])}const nr=v(Za,[["render",tr]]),or=k({props:{iconType:{type:String,default:"line"},iconName:{type:String,default:""},textLabel:{type:String,default:""},itemColor:{type:String,default:"text-lab-pr2"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}}}),sr={class:"py-2 block text-par-m font-medium flex-1 truncate mr-2"},ir={key:0,class:"shrink-0 pr-3 leading-zero"},ar={key:1,class:"shrink-0 size-5"};function rr(e,t,n,s,a,l){const r=d("SvgIcon");return i(),c("div",{class:C(["w-full flex first:pt-2 last:pb-2 items-center overflow-hidden px-5 py-1.5 transition-colors duration-200 hover:bg-fill-qt",[e.itemColor,e.loading?"cursor-wait opacity-70":"cursor-pointer",e.disabled?"cursor-not-allowed opacity-70":""]])},[o("span",sr,h(e.textLabel),1),e.loading?(i(),c("div",ir,t[0]||(t[0]=[o("div",{class:"colibri-primary-animation"},null,-1)]))):(i(),c("span",ar,[u(r,{type:e.iconType,name:e.iconName,classes:"size-full"},null,8,["type","name"])]))],2)}const lr=v(or,[["render",rr]]),cr={},dr={class:"popup-background-tr border-fill-qt/50"};function ur(e,t){return i(),c("div",dr,[oe(e.$slots,"default")])}const pr=v(cr,[["render",ur]]),fr={components:{PopupPanel:pr}},mr={class:"popup-card"},_r={class:"bg-bg-pr max-h-80 overflow-y-auto"};function hr(e,t,n,s,a,l){const r=d("PopupPanel");return i(),c("div",mr,[u(r,null,{default:T(()=>[o("div",_r,[oe(e.$slots,"default")])]),_:3})])}const br=v(fr,[["render",hr]]),gr=k({props:{avatarSrc:{type:String,default:""},iconName:{type:String,default:"x"},iconType:{type:String,default:"solid"},disabled:{type:Boolean,default:!1},title:{type:String,required:!0},description:{type:String,required:!0},trailingIconName:{type:String,default:""},trailingIconType:{type:String,default:"line"}},components:{AvatarSmall:Se}}),yr=["disabled"],vr={class:"shrink-0"},$r={key:1,class:"size-small-avatar rounded-full overflow-hidden bg-fill-qt flex items-center justify-center"},kr={class:"size-icon-small text-brand-900"},wr={class:"flex-1 leading-snug"},Pr={class:"text-lab-pr font-bold text-par-n"},Sr={class:"text-lab-sc text-par-m"},Tr={key:0,class:"shrink-0 size-icon-normal self-center text-lab-sc"};function Er(e,t,n,s,a,l){const r=d("AvatarSmall"),p=d("SvgIcon");return i(),c("button",{type:"button",class:"border-b border-bord-sc last:border-b-0 outline-none w-full p-4 flex text-left gap-3 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed smoothing hover:bg-fill-qt/50",disabled:e.disabled},[o("div",vr,[e.avatarSrc?(i(),w(r,{key:0,avatarSrc:e.avatarSrc},null,8,["avatarSrc"])):(i(),c("div",$r,[o("span",kr,[u(p,{name:e.iconName,type:e.iconType},null,8,["name","type"])])]))]),o("div",wr,[o("h3",Pr,h(e.title),1),o("p",Sr,h(e.description),1)]),e.trailingIconName?(i(),c("div",Tr,[u(p,{name:e.trailingIconName,type:e.trailingIconType},null,8,["name","type"])])):b("",!0)],8,yr)}const Dr=v(gr,[["render",Er]]),Ir=k({setup:function(e,t){const n=z(null),s=z(null),a=z(null),l=z(null),r=z(""),p=z([]),{openCheatSheetPanel:_}=ot(),{autoResize:y,insertSymbolAtCaret:g,matchMention:D,matchLink:B,completeText:N}=St(),U=ke(),V=Da(),E=lt(),ae=$(()=>U.userData),F=$(()=>E.draftPost),M=se({postSubmitting:!1,postMediaUploadProgress:0,isDragging:!1,isLinkPreviewing:!1,isFetchingLinkPreview:!1,moreMenu:ue(),emojisMenu:ue(),recorderMenu:ue(),gifMenu:ue(),mainMenu:ue()}),Q=function(){const m=D(r.value);if(m&&R.emit("editor:mention-input",m.username),!M.isLinkPreviewing&&!M.isFetchingLinkPreview){const I=B(r.value);Z.isText(F.value.type)&&I&&!p.value.includes(I)&&(M.isFetchingLinkPreview=!0,S().postEditor().with({url:I}).sendTo("link/preview").then(ce=>{$t(()=>{E.setLinkSnapshot(ce.data.data)}),M.isLinkPreviewing=!0,M.isFetchingLinkPreview=!1}).catch(ce=>{M.isLinkPreviewing=!1,M.isFetchingLinkPreview=!1}))}y(r.value)},be=()=>{n.value.value="",s.value.value="",a.value.value="",l.value.value=""};q(async function(){await E.fetchDraftPost()});const Y=(m,I="image")=>{const ce=new FormData;ce.append(I,m),S().postEditor().with(ce).withHeaders({"Content-Type":"multipart/form-data"}).uploadProgress(de=>{M.postMediaUploadProgress=Math.round(de.loaded/de.total*100)}).sendTo(`media/${I}/upload`).then(de=>{E.fetchDraftPost(),M.postMediaUploadProgress=0,be()}).catch(de=>{toastError(de.response.data.message),M.postMediaUploadProgress=0,be()})},Ee=()=>{let m={content:F.value.content,marks:{is_sensitive:E.isSensitive,is_ai_generated:E.isAiGenerated}};return Z.isPoll(F.value.type)&&(m.poll_options=F.value.relations.poll.choices),E.quotedPost&&(m.quoted_post_id=E.quotedPost.id),m},De=async()=>{M.postSubmitting=!0,await S().postEditor().with(Ee()).sendTo("create").then(m=>{V.prependPost(m.data.data),y(r.value),E.finishEditing(),R.emit("post-editor:close")}).catch(m=>{toastError(m.response.data.message),Z.isPoll(F.value.type)&&E.validatePollOptions(m.response.data.errors)}),M.postSubmitting=!1},re=()=>{s.value.click()},Ie=()=>{n.value.click()},Ae=()=>{l.value.click()},Ce=()=>{a.value.click()},Me=()=>{S().postEditor().sendTo("poll/create").then(m=>{E.fetchDraftPost()})},le=m=>{S().postEditor().with({id:m.id}).sendTo("gif/create").then(I=>{E.fetchDraftPost()}).catch(I=>{toastError(I.response.data.message)}),M.gifMenu.close()};return{state:M,userData:ae,postData:F,textInputHandler:Q,postTextInputField:r,PostTypeUtils:Z,PostType:ye,openCheatSheetPanel:_,onImageSelect:m=>{Y(m.target.files[0],"image")},onAudioSelect:m=>{Y(m.target.files[0],"audio")},onVideoSelect:m=>{Y(m.target.files[0],"video")},onDocumentSelect:m=>{Y(m.target.files[0],"document")},onAudioRecorded:m=>{M.recorderMenu.close(),Y(m,"audio")},onMediaPaste:m=>{Ea(m,I=>{Y(I,"image")})},submitForm:De,deletePostMedia:m=>{m.deleted=!0,S().postEditor().with({id:m.id}).delete("media/delete").then(I=>{E.fetchDraftPost()})},deletePostLinkSnapshot:()=>{p.value.push(F.value.relations.link_snapshot.url),S().postEditor().delete("link/delete").then(()=>{E.deleteLinkSnapshot(),M.isLinkPreviewing=!1})},deletePostPoll:()=>{S().postEditor().delete("poll/delete").then(()=>{E.fetchDraftPost()})},deletePostGif:()=>{E.resetDraftPost()},postHasMedia:$(()=>{var m,I;return(I=(m=F.value.relations)==null?void 0:m.media)==null?void 0:I.length}),postHasPoll:$(()=>{var m;return(m=F.value.relations)==null?void 0:m.poll}),postHasLinkSnapshot:$(()=>{var m;return!!((m=F.value.relations)!=null&&m.link_snapshot)}),postHasQuotedPost:$(()=>E.quotedPost!==null),postMedia:$(()=>F.value.relations.media),quotedPost:$(()=>E.quotedPost),postLinkSnapshot:$(()=>F.value.relations.link_snapshot),selectGif:le,createPoll:Me,selectImage:Ie,selectVideo:Ce,selectAudio:Ae,selectDocument:re,postImageFileInput:n,postVideoFileInput:a,postDocumentFileInput:s,postAudioFileInput:l,postTextInputPlaceholder:$(()=>Z.isPoll(F.value.type)?__t("editor.post_poll_input_placeholder"):__t("editor.post_text_input_placeholder")),postMediaButtonStatus:(m=null)=>M.postSubmitting?!0:M.recorderMenu.status&&Z.isRecording(m)?!1:M.recorderMenu.status?!0:Z.isText(F.value.type)||Z.isImage(F.value.type)&&Z.isImage(m)?!1:!!F.value.type,insertPostEmoji:m=>{F.value.content=g(r.value,m),r.value.focus()},handleFileDrop:m=>{M.isDragging=!1;const I=m.dataTransfer.files[0];I&&(I.type.startsWith("image")?Y(I,"image"):I.type.startsWith("video")&&Y(I,"video"))},markPostAsSensitive:E.markPostAsSensitive,markPostAsAiGenerated:E.markPostAsAiGenerated,isSensitivePost:$(()=>E.isSensitive),isAiGeneratedPost:$(()=>E.isAiGenerated),selectMention:m=>{let I=D(r.value);I&&(F.value.content=N(r.value,{completable:`@${m}`,start:I.start,end:I.end}),r.value.focus())}}},components:{PrimaryTextButton:it,MediaCreateButton:Ma,DropdownButton:at,DropdownMenu:nr,AvatarSmall:Se,DropdownMenuItem:lr,MentionsPicker:Ja,RichMenu:br,RichMenuItem:Dr,EmojisPickerButton:Va,MediaDeleteButton:P(()=>f(()=>import("./MediaDeleteButton-CKNB-RUv.js"),__vite__mapDeps([126,3,4,5,2,20,21,22]))),MediaBlurOverlay:P(()=>f(()=>import("./MediaBlurOverlay-C2lW_M2Y.js"),__vite__mapDeps([127,3,4,5,2]))),PostPollForm:P(()=>f(()=>import("./PostPollForm-DuXNTWFm.js"),__vite__mapDeps([128,129,3,4,5,2,20,21,22]))),PostGifForm:P(()=>f(()=>import("./PostGifForm-CcAnoZid.js"),__vite__mapDeps([130,131,3,4,5,2,20,21,22]))),PostRecordingForm:P(()=>f(()=>import("./PostRecordingForm-CVn3aYTv.js"),__vite__mapDeps([132,133,4,5,3,2,20,21,22]))),PostGifPreview:P(()=>f(()=>import("./PostGifPreview-D0EpXv_N.js"),__vite__mapDeps([134,126,3,4,5,2,20,21,22,135,127]))),PostDocumentPreview:P(()=>f(()=>import("./PostDocumentPreview-BA42GsoI.js"),__vite__mapDeps([136,3,4,5,2,126,20,21,22]))),PostVideoPreview:P(()=>f(()=>import("./PostVideoPreview-DKzt4ciF.js"),__vite__mapDeps([137,127,3,4,5,2,126,20,21,22,17]))),SensitivePostTape:P(()=>f(()=>import("./SensitivePostTape-DbJPI2qr.js"),__vite__mapDeps([138,3,4,5,2]))),MediaFileDropper:P(()=>f(()=>import("./MediaFileDropper-5o8YtCgp.js"),__vite__mapDeps([139,3,4,5,2]))),EmojisPicker:P(()=>f(()=>import("./EmojisPicker-BXzUvyYH.js"),__vite__mapDeps([140,3,4,5,2,20,21,22]))),PublicationQuote:P(()=>f(()=>import("./PublicationQuote-C7H0KLSU.js"),__vite__mapDeps([13,3,4,5,2,14,15,16,17]))),PostLinkSnapshotPreview:P(()=>f(()=>import("./PostLinkSnapshotPreview-Gkvp1OdE.js"),__vite__mapDeps([141,126,3,4,5,2,20,21,22,142,143])))}}),Ar={class:"block px-5 pb-3 pt-6"},Cr={class:"flex gap-2.5"},Mr={class:"shrink-0"},Lr={class:"flex-1 pb-2"},Rr={class:"mb-1"},Br={class:"text-par-m font-semibold text-lab-pr2"},Or=["placeholder"],Nr={key:0,class:"relative"},Vr={class:"absolute top-full left-0 w-80 z-50"},Fr={class:"shrink-0 opacity-90"},xr={key:0,class:"block mb-3"},zr={class:"text-cap-s text-lab-sc font-medium"},jr={key:0,class:"block mb-3"},qr={key:0,class:"overflow-hidden"},Ur={class:"grid grid-cols-3 gap-1"},Hr={key:1,class:"absolute top-2 right-2 inline-block"},Gr=["src"],Kr={key:1,class:"block mb-3"},Wr={key:2,class:"block mb-3"},Xr={key:3,class:"block mb-3"},Qr={class:"pb-4 px-5 pt-3"},Yr={class:"flex items-center mb-5 gap-2.5"},Jr={class:"shrink-0 inline-flex relative"},Zr={key:0,class:"absolute w-96 top-full left-0 z-50"},el={key:1,class:"absolute top-full left-0 w-80"},tl={key:2,class:"absolute top-full left-0 w-80 z-50"},nl={class:"shrink-0 inline-flex relative"},ol={class:"shrink-0 inline-flex relative"},sl={key:0,class:"absolute top-full left-0 z-50"},il=["href"],al={class:"shrink-0 inline-flex"},rl={class:"inline-flex text-par-s items-center gap-2 text-lab-sc leading-none disabled:opacity-60"},ll={class:"text-brand-900"},cl={class:"inline-block w-8"},dl={class:"ml-auto"},ul={class:"block leading-normal"},pl={class:"w-10/12"},fl={key:0,class:"text-par-s text-lab-sc"},ml={key:1,class:"text-par-s text-lab-sc"},_l=["href"],hl={class:"hidden"};function bl(e,t,n,s,a,l){const r=d("AvatarSmall"),p=d("EmojisPicker"),_=d("EmojisPickerButton"),y=d("MentionsPicker"),g=d("MediaFileDropper"),D=d("MediaBlurOverlay"),B=d("MediaDeleteButton"),N=d("PostVideoPreview"),U=d("PostGifPreview"),V=d("PostDocumentPreview"),E=d("PostPollForm"),ae=d("PostLinkSnapshotPreview"),F=d("PublicationQuote"),M=d("MediaCreateButton"),Q=d("RichMenuItem"),be=d("RouterLink"),Y=d("RichMenu"),Ee=d("PostRecordingForm"),De=d("PostGifForm"),re=d("DropdownMenuItem"),Ie=d("Border"),Ae=d("DropdownMenu"),Ce=d("PrimaryTextButton"),Me=d("SensitivePostTape"),le=Qe("outside-click");return i(),c("div",{class:"block leading-none",onDrop:t[10]||(t[10]=ee((...m)=>e.handleFileDrop&&e.handleFileDrop(...m),["prevent"])),onDragenter:t[11]||(t[11]=ee(m=>e.state.isDragging=!0,["prevent"])),onDragover:t[12]||(t[12]=ee(m=>e.state.isDragging=!0,["prevent"]))},[o("form",{class:"block",onSubmit:t[9]||(t[9]=ee((...m)=>e.submitForm&&e.submitForm(...m),["prevent"]))},[o("div",Ar,[o("div",Cr,[o("div",Mr,[u(r,{avatarSrc:e.userData.avatar_url},null,8,["avatarSrc"])]),o("div",Lr,[o("div",Rr,[o("h4",Br,h(e.userData.name),1)]),ie(o("textarea",{onPaste:t[0]||(t[0]=(...m)=>e.onMediaPaste&&e.onMediaPaste(...m)),onInput:t[1]||(t[1]=(...m)=>e.textInputHandler&&e.textInputHandler(...m)),ref:"postTextInputField","onUpdate:modelValue":t[2]||(t[2]=m=>e.postData.content=m),class:"resize-none w-full min-h-[80px] leading-5 bg-transparent text-par-l text-lab-pr2 pr-4 outline-hidden placeholder:font-light placeholder:text-par-l pt-0.5",placeholder:e.postTextInputPlaceholder},null,40,Or),[[vt,e.postData.content]]),e.state.emojisMenu.status?(i(),c("div",Nr,[o("div",Vr,[u(p,{onPick:e.insertPostEmoji,onClose:e.state.emojisMenu.close},null,8,["onPick","onClose"])])])):b("",!0)]),o("div",Fr,[u(_,{onClick:ee(e.state.emojisMenu.open,["stop"])},null,8,["onClick"])])]),e.isAiGeneratedPost?(i(),c("div",xr,[o("div",zr,h(e.$t("labels.ai_generated")),1)])):b("",!0),u(y,{onSelect:e.selectMention,classes:"absolute top-0 left-0 w-80 z-50 border border-bord-pr rounded-lg popup-background-tr"},null,8,["onSelect"]),e.state.isDragging?(i(),w(g,{key:1,onClick:t[3]||(t[3]=m=>e.state.isDragging=!1)})):(i(),c(x,{key:2},[e.postHasMedia?(i(),c("div",jr,[e.PostTypeUtils.isImage(e.postData.type)?(i(),c("div",qr,[o("div",Ur,[(i(!0),c(x,null,ne(e.postMedia,m=>(i(),c("div",{key:m.id,class:"relative rounded-md overflow-hidden border border-bord-card"},[m.deleted?(i(),w(D,{key:0})):(i(),c("div",Hr,[u(B,{onClick:I=>e.deletePostMedia(m)},null,8,["onClick"])])),o("img",{src:m.source_url,class:"w-full aspect-square h-full object-cover bg-fill-tr",alt:"Image"},null,8,Gr)]))),128))])])):e.PostTypeUtils.isVideo(e.postData.type)?(i(!0),c(x,{key:1},ne(e.postMedia,m=>(i(),w(N,{key:m.id,mediaItem:m,onDelete:e.deletePostMedia},null,8,["mediaItem","onDelete"]))),128)):e.PostTypeUtils.isGif(e.postData.type)?(i(),w(U,{key:2,postMedia:e.postMedia,onDelete:e.deletePostMedia},null,8,["postMedia","onDelete"])):e.PostTypeUtils.isDocument(e.postData.type)||e.PostTypeUtils.isAudio(e.postData.type)?(i(),w(V,{key:3,postMedia:e.postMedia,onDelete:e.deletePostMedia},null,8,["postMedia","onDelete"])):b("",!0)])):e.postHasPoll?(i(),c("div",Kr,[u(E,{onRemove:e.deletePostPoll},null,8,["onRemove"])])):e.postHasLinkSnapshot?(i(),c("div",Wr,[(i(),w(ae,{key:e.postLinkSnapshot.id,onDelete:e.deletePostLinkSnapshot,linkSnapshot:e.postLinkSnapshot},null,8,["onDelete","linkSnapshot"]))])):b("",!0),e.postHasQuotedPost?(i(),c("div",Xr,[(i(),w(F,{quotedPost:e.quotedPost,key:e.quotedPost.id},null,8,["quotedPost"]))])):b("",!0)],64))]),o("div",Qr,[o("div",Yr,[o("div",Jr,[u(M,{onClick:ee(e.state.mainMenu.open,["stop"]),iconName:"plus",iconType:"solid"},null,8,["onClick"]),e.state.mainMenu.status?(i(),c("div",Zr,[ie((i(),w(Y,{onClick:e.state.mainMenu.close},{default:T(()=>[u(Q,{onClick:e.selectImage,disabled:e.postMediaButtonStatus(e.PostType.IMAGE),iconName:"image-05",title:e.$t("editor.main_menu.image.title"),description:e.$t("editor.main_menu.image.description")},null,8,["onClick","disabled","title","description"]),u(Q,{onClick:e.selectVideo,disabled:e.postMediaButtonStatus(e.PostType.VIDEO),iconName:"video-recorder",title:e.$t("editor.main_menu.video.title"),description:e.$t("editor.main_menu.video.description")},null,8,["onClick","disabled","title","description"]),u(be,{to:{name:"live_index"}},{default:T(()=>[u(Q,{iconName:"signal-01",iconType:"line",trailingIconName:"arrow-up-right",title:e.$t("editor.main_menu.live.title"),description:e.$t("editor.main_menu.live.description")},null,8,["title","description"])]),_:1}),u(Q,{onClick:e.createPoll,disabled:e.postMediaButtonStatus(e.PostType.POLL),iconName:"bar-chart-12",title:e.$t("editor.main_menu.poll.title"),description:e.$t("editor.main_menu.poll.description")},null,8,["onClick","disabled","title","description"]),u(Q,{onClick:e.selectAudio,disabled:e.postMediaButtonStatus(e.PostType.AUDIO),iconName:"music-note-01",title:e.$t("editor.main_menu.audio.title"),description:e.$t("editor.main_menu.audio.description")},null,8,["onClick","disabled","title","description"]),u(Q,{onClick:e.selectDocument,disabled:e.postMediaButtonStatus(e.PostType.DOCUMENT),iconName:"sticker-square",title:e.$t("editor.main_menu.document.title"),description:e.$t("editor.main_menu.document.description")},null,8,["onClick","disabled","title","description"]),u(Q,{onClick:e.state.recorderMenu.open,disabled:e.postMediaButtonStatus(e.PostType.RECORDING),iconName:"recording-02",iconType:"line",title:e.$t("editor.main_menu.recording.title"),trailingIconName:"microphone-01",description:e.$t("editor.main_menu.recording.description")},null,8,["onClick","disabled","title","description"]),u(Q,{onClick:t[4]||(t[4]=ee(m=>{e.state.gifMenu.open(),e.state.mainMenu.close()},["stop"])),disabled:e.postMediaButtonStatus(e.PostType.GIF),iconName:"gif",iconType:"line",title:e.$t("editor.main_menu.gif.title"),description:e.$t("editor.main_menu.gif.description")},null,8,["disabled","title","description"])]),_:1},8,["onClick"])),[[le,e.state.mainMenu.close]])])):b("",!0),e.state.recorderMenu.status?(i(),c("div",el,[u(Ee,{onUploaded:e.onAudioRecorded,onClose:e.state.recorderMenu.close},null,8,["onUploaded","onClose"])])):b("",!0),e.state.gifMenu.status?(i(),c("div",tl,[ie(u(De,{onSelect:e.selectGif},null,8,["onSelect"]),[[le,e.state.gifMenu.close]])])):b("",!0)]),t[14]||(t[14]=o("span",{class:"w-px h-4 bg-bord-sc"},null,-1)),o("div",nl,[u(M,{onClick:e.openCheatSheetPanel,iconName:"type-01"},null,8,["onClick"])]),t[15]||(t[15]=o("span",{class:"w-px h-4 bg-bord-sc"},null,-1)),o("div",ol,[u(M,{onClick:ee(e.state.moreMenu.open,["stop"]),iconName:"circle-dots"},null,8,["onClick"]),e.state.moreMenu.status?(i(),c("div",sl,[ie((i(),w(Ae,{onClick:e.state.moreMenu.close},{default:T(()=>[u(re,{onClick:e.markPostAsSensitive,iconName:"alert-triangle",textLabel:e.isSensitivePost?e.$t("editor.unmark_sensitive"):e.$t("editor.mark_sensitive")},null,8,["onClick","textLabel"]),u(re,{onClick:e.markPostAsAiGenerated,iconName:"cpu-chip-02",textLabel:e.isAiGeneratedPost?e.$t("editor.unmark_ai_generated"):e.$t("editor.mark_ai_generated")},null,8,["onClick","textLabel"]),u(Ie),o("a",{href:e.$link("guide_links.publication_rules"),target:"_blank"},[u(re,{iconName:"arrow-up-right",textLabel:e.$t("editor.publication_guidelines")},null,8,["textLabel"])],8,il)]),_:1},8,["onClick"])),[[le,e.state.moreMenu.close]])])):b("",!0)]),e.state.postMediaUploadProgress?(i(),c(x,{key:0},[t[13]||(t[13]=o("span",{class:"w-px h-4 bg-bord-sc"},null,-1)),o("div",al,[o("span",rl,[o("span",ll,[H(h(e.$t("labels.uploading"))+" ",1),o("span",cl,h(e.state.postMediaUploadProgress)+"%",1)])])])],64)):b("",!0),o("div",dl,[u(Ce,{buttonRole:"marginal",buttonType:"submit",loading:e.state.postSubmitting,buttonText:e.$t("editor.publish")},null,8,["loading","buttonText"])])]),o("div",ul,[o("div",pl,[e.userData.is_author?(i(),c("p",fl,h(e.$t("editor.post_privacy")),1)):(i(),c("p",ml,[H(h(e.$t("editor.post_author_note"))+" ",1),o("a",{href:e.$getRoute("become_author"),class:"hover:underline text-brand-900"},h(e.$t("labels.learn_more")),9,_l)]))])])]),o("div",hl,[o("input",{onChange:t[5]||(t[5]=(...m)=>e.onImageSelect&&e.onImageSelect(...m)),type:"file",accept:"image/*",ref:"postImageFileInput"},null,544),o("input",{onChange:t[6]||(t[6]=(...m)=>e.onVideoSelect&&e.onVideoSelect(...m)),type:"file",accept:"video/*",ref:"postVideoFileInput"},null,544),o("input",{onChange:t[7]||(t[7]=(...m)=>e.onDocumentSelect&&e.onDocumentSelect(...m)),type:"file",ref:"postDocumentFileInput"},null,544),o("input",{onChange:t[8]||(t[8]=(...m)=>e.onAudioSelect&&e.onAudioSelect(...m)),type:"file",accept:"audio/*",ref:"postAudioFileInput"},null,544)])],32),e.isSensitivePost?(i(),w(Me,{key:0})):b("",!0)],32)}const gl=v(Ir,[["render",bl]]),yl=k({setup:function(){const e=se({isOpen:!1}),t=lt(),n=a=>{e.isOpen=!0,a&&(a.initialType&&(t.initialType=a.initialType),a.mentionName&&(t.mentionName=a.mentionName),a.quotePostId&&(t.quotePostId=a.quotePostId))},s=a=>{e.isOpen=!1,t.finishEditing()};return q(()=>{R.on("post-editor:open",n),R.on("post-editor:close",s)}),X(()=>{R.off("post-editor:open",n),R.off("post-editor:close",s)}),{state:e,closeEditor:s}},components:{ContentModal:Pe,PublicationEditor:gl}});function vl(e,t,n,s,a,l){const r=d("PublicationEditor"),p=d("ContentModal");return e.state.isOpen?(i(),w(p,{key:0,onClose:e.closeEditor},{default:T(()=>[u(r)]),_:1},8,["onClose"])):b("",!0)}const $l=v(yl,[["render",vl]]),kl=k({props:{name:{type:String,default:""},verified:{type:Boolean,default:!1},caption:{type:String,default:""},linkRoute:{type:Object,default:{name:"home_index"}},avatarSrc:{type:String,default:""},rounded:{type:Boolean,default:!0},unreadIndicator:{type:Boolean,default:!1}},components:{AvatarSmall:Se}}),wl={class:"flex items-center overflow-hidden gap-2"},Pl={class:"shrink-0"},Sl={class:"leading-4 overflow-hidden"},Tl={class:"text-par-m font-semibold text-lab-pr2 truncate mb-0.5"},El={class:"text-par-s text-lab-sc truncate"};function Dl(e,t,n,s,a,l){const r=d("AvatarSmall"),p=d("VerificationBadge"),_=d("RouterLink");return i(),w(_,{to:e.linkRoute,class:"cursor-pointer"},{default:T(()=>[o("div",wl,[o("div",Pl,[u(r,{avatarSrc:e.avatarSrc,unreadIndicator:e.unreadIndicator,rounded:e.rounded},null,8,["avatarSrc","unreadIndicator","rounded"])]),o("div",Sl,[o("h3",Tl,[H(h(e.name)+" ",1),e.verified?(i(),w(p,{key:0,size:"xs"})):b("",!0)]),o("p",El,h(e.caption),1)])])]),_:1},8,["to"])}const Il=v(kl,[["render",Dl]]),Al=k({props:{accountData:{type:Object,required:!0}},emits:["switch"],setup:function(e){return{hasBio:$(()=>e.accountData.bio.length>0),hasWebsite:$(()=>e.accountData.website.length>0)}},components:{AvatarRightSided:Il}}),Cl={class:"flex justify-between items-center"},Ml={class:"flex-1 overflow-hidden pr-12"},Ll={key:0,class:"pl-small-avatar mt-2"},Rl={class:"pl-2"},Bl=["innerHTML"],Ol=["href"],Nl={class:"shrink-0"},Vl={key:0,class:"w-6"},Fl={key:1,class:"size-icon-small"};function xl(e,t,n,s,a,l){const r=d("AvatarRightSided"),p=d("PrimaryDotsAnimation"),_=d("SvgIcon");return i(),c("div",{onClick:t[0]||(t[0]=y=>e.$emit("switch",e.accountData)),class:C([[e.accountData.is_active?"cursor-default":"cursor-pointer"],"block hover:bg-fill-qt smoothing border-b border-bord-pr p-4 last:border-none"])},[o("div",Cl,[o("div",Ml,[u(r,{avatarSrc:e.accountData.avatar_url,verified:e.accountData.verified,name:e.accountData.name,linkRoute:{name:"profile_index",params:{id:e.accountData.username}},caption:e.accountData.caption},null,8,["avatarSrc","verified","name","linkRoute","caption"]),e.hasBio||e.hasWebsite?(i(),c("div",Ll,[o("div",Rl,[e.hasBio?(i(),c("p",{key:0,class:"text-par-m text-lab-pr2 markdown-text line-clamp-2",innerHTML:e.$mdInline(e.accountData.bio)},null,8,Bl)):b("",!0),e.accountData.website?(i(),c("a",{key:1,href:e.accountData.website,class:"inline-block text-par-m text-lab-pr2 markdown-text hover:underline leading-tight",target:"_blank"},h(e.accountData.website),9,Ol)):b("",!0)])])):b("",!0)]),o("div",Nl,[e.accountData.isSwitching?(i(),c("div",Vl,[u(p)])):(i(),c("div",Fl,[e.accountData.is_active?(i(),w(_,{key:0,class:"text-green-900",name:"check-circle",type:"solid"})):(i(),w(_,{key:1,class:"text-lab-sc",name:"circle",type:"line"}))]))])])],2)}const zl=v(Al,[["render",xl]]),jl=k({setup:function(){const e=se({isOpen:!1,isLoading:!0}),t=ke(),n=z([]),s=$(()=>t.userData),a=async l=>{e.isOpen=!0,await S().userSettings().getFrom("account/linked").then(r=>{n.value=r.data.data}).catch(r=>{r.response&&alert(r.response.data.message)}),e.isLoading=!1};return q(()=>{R.on("account-switcher:open",a)}),X(()=>{R.off("account-switcher:open",a)}),{linkedAccounts:n,state:e,ME:{name:s.value.name},switchAccount:async l=>{s.value.id!==l.id&&(l.isSwitching=!0,await S().userSettings().with({account_id:l.id}).sendTo("account/switch").then(r=>{window.location.reload()}).catch(r=>{r.response&&alert(r.response.data.message),l.isSwitching=!1}))}}},components:{ContentModal:Pe,PrimaryIconButton:Ue,ModalHeader:rt,PrimaryPillButton:Te,LinkedAccountItem:zl}}),ql={key:0,class:"block"},Ul={class:"py-12 flex justify-center"},Hl={key:1,class:"block max-h-96 overflow-y-auto"},Gl={class:"block p-4"},Kl={class:"mb-2"},Wl={class:"text-par-s text-lab-sc"},Xl=["href"];function Ql(e,t,n,s,a,l){const r=d("ModalHeader"),p=d("PrimarySpinAnimation"),_=d("LinkedAccountItem"),y=d("Border"),g=d("PrimaryPillButton"),D=d("ContentModal");return e.state.isOpen?(i(),w(D,{key:0,onClose:t[0]||(t[0]=B=>e.state.isOpen=!1)},{default:T(()=>[u(r,{modalTitle:e.$t("labels.account_switcher.title")},null,8,["modalTitle"]),e.state.isLoading?(i(),c("div",ql,[o("div",Ul,[u(p)])])):(i(),c("div",Hl,[(i(!0),c(x,null,ne(e.linkedAccounts,B=>(i(),w(_,{onSwitch:e.switchAccount,accountData:B,key:B.id},null,8,["onSwitch","accountData"]))),128))])),u(y,{height:"h-3"}),o("div",Gl,[o("div",Kl,[o("p",Wl,h(e.$t("labels.account_switcher.description",{app_name:e.$config("app.name")})),1)]),o("a",{href:e.$getRoute("user_linker_index"),class:"block"},[u(g,{buttonText:e.$t("labels.account_switcher.button"),buttonType:"button",buttonFluid:!0},null,8,["buttonText"])],8,Xl)])]),_:1})):b("",!0)}const Yl=v(jl,[["render",Ql]]),Jl=k({setup:function(){const e=Ct(),t=we(),n=je(),s=z(!1);return ze(n,function(){s.value=n.meta.rightOffset}),q(async()=>{s.value=n.meta.rightOffset}),{rightOffset:s,openStoriesEditorModal:$(()=>e.isOpen),openNotificationsModal:$(()=>t.isOpen)}},components:{CheatSheetsPanel:Ko,ApplicationSidebar:Wn,ToastNotification:co,ConfirmationModal:ws,NotificationsModal:Xi,LightboxPlayer:Bo,PublicationEditorModal:$l,Soundbar:P(()=>f(()=>import("./Soundbar-pUI_olb5.js"),__vite__mapDeps([144,145,2,5,4,3,133,20,21,22]))),StoriesEditorModal:P(()=>f(()=>import("./StoriesEditorModal-9qjBcZO7.js"),__vite__mapDeps([146,3,4,5,2,21,14,20,22]))),ReportModal:Ta,AccountSwitcherModal:Yl,OnboardingTips:P(()=>f(()=>import("./OnboardingTips-S51oUjd1.js"),__vite__mapDeps([147,3,4,5,2,20,21,22])))}}),Zl={class:"flex ml-page-offset"};function ec(e,t,n,s,a,l){const r=d("ApplicationSidebar"),p=d("RouterView"),_=d("ToastNotification"),y=d("PublicationEditorModal"),g=d("AccountSwitcherModal"),D=d("StoriesEditorModal"),B=d("CheatSheetsPanel"),N=d("Soundbar"),U=d("ConfirmationModal"),V=d("LightboxPlayer"),E=d("NotificationsModal"),ae=d("ReportModal"),F=d("OnboardingTips");return i(),c(x,null,[u(r),o("div",Zl,[o("div",{class:C(["flex-1 max-w-full",[e.rightOffset?"mr-4 2xl:mr-60":""]])},[u(p)],2)]),u(_),u(y),u(g),e.openStoriesEditorModal?(i(),w(D,{key:0})):b("",!0),u(B),u(N),u(U),u(V),e.openNotificationsModal?(i(),w(E,{key:1})):b("",!0),u(ae),u(F)],64)}const tc=v(Jl,[["render",ec]]),nc=k({setup:function(e){const t=se({status:null,message:""});return q(()=>{window.addEventListener("offline",function(){t.status="offline"}),window.addEventListener("online",function(){t.status="online",setTimeout(()=>{t.status=null},1e3*3)})}),{networkStatus:t}},components:{}}),oc={key:0,class:"fixed bottom-0 left-0 right-0 text-center text-par-s text-white z-[1000]"},sc={key:0,class:"bg-red-900 block py-2"},ic={key:1,class:"bg-green-900 block py-2"};function ac(e,t,n,s,a,l){return e.networkStatus.status?(i(),c("div",oc,[e.networkStatus.status=="offline"?(i(),c("span",sc,h(e.$t("toast.network.connection_lost")),1)):e.networkStatus.status=="online"?(i(),c("span",ic,h(e.$t("toast.network.connection_restored"))+" ✓ ",1)):b("",!0)])):b("",!0)}const rc=v(nc,[["render",ac]]),lc=k({setup:function(e,t){const n=z(!0),s=je(),a=It(),l=$(()=>s.meta.layout);window.userInteracted=!1;const r=()=>{window.userInteracted=!0,p()},p=()=>{window.removeEventListener("click",r),window.removeEventListener("keydown",r),window.removeEventListener("mousemove",r),window.removeEventListener("touchstart",r)},_=()=>{window.addEventListener("click",r),window.addEventListener("keydown",r),window.addEventListener("mousemove",r),window.addEventListener("touchstart",r)};return q(async()=>{await a.bootstrapApplication(),setTimeout(()=>{n.value=!1},500),_()}),X(()=>{p()}),{appLoading:n,isMainLayout:$(()=>l.value==A.MAIN),isStoriesLayout:$(()=>l.value==A.STORIES),isInfoLayout:$(()=>l.value==A.INFO),isFlatLayout:$(()=>l.value==A.FLAT),isMessengerLayout:$(()=>l.value==A.MESSENGER)}},components:{NetworkStatusBar:rc,ApplicationMainLayout:tc,ApplicationStoriesLayout:P(()=>f(()=>import("./ApplicationStoriesLayout-C70bNIkh.js"),__vite__mapDeps([148,3,4,5,2,20,21,22]))),ApplicationInfoLayout:P(()=>f(()=>import("./ApplicationInfoLayout-x9A93uib.js"),__vite__mapDeps([149,3,4,5,2]))),ApplicationFlatLayout:P(()=>f(()=>import("./ApplicationFlatLayout-BIaOUTr3.js"),__vite__mapDeps([150,3,4,5,2,20,21,22]))),ApplicationMessengerLayout:P(()=>f(()=>import("./ApplicationMessengerLayout-DoWgE-3n.js"),__vite__mapDeps([151,3,4,5,2,20,21,22])))}}),cc={key:0,class:"flex-center w-screen h-screen relative"},dc={class:"absolute top-6 left-6 text-par-m text-lab-pr"},uc={class:"absolute top-6 right-6 text-par-m text-lab-pr"},pc={class:"inline-block w-16"},fc=["src"];function mc(e,t,n,s,a,l){const r=d("ApplicationMainLayout"),p=d("ApplicationMessengerLayout"),_=d("ApplicationFlatLayout"),y=d("ApplicationStoriesLayout"),g=d("ApplicationInfoLayout"),D=d("NetworkStatusBar");return i(),c(x,null,[e.appLoading?(i(),c("div",cc,[o("span",dc,h(e.$t("labels.hi_there")),1),o("span",uc,h(e.$t("labels.one_moment"))+"...",1),o("div",pc,[o("img",{src:e.$embedder("assets.logos.url"),alt:"Logo",class:"w-full"},null,8,fc)])])):(i(),c(x,{key:1},[e.isMainLayout?(i(),w(r,{key:0})):e.isMessengerLayout?(i(),w(p,{key:1})):e.isFlatLayout?(i(),w(_,{key:2})):e.isStoriesLayout?(i(),w(y,{key:3})):e.isInfoLayout?(i(),w(g,{key:4})):b("",!0)],64)),u(D)],64)}const _c=v(lc,[["render",mc]]),G=kt(_c);async function hc(){const e=await Le.messages();return _t({locale:Le.langLocale,warnHtmlInMessage:!1,warnHtmlMessage:!1,legacy:!1,fallbackLocale:Le.langLocale,messages:{[BackendEmbeds.locale]:e}})}const ct=await hc();window.__t=ct.global.t;const dt=wt();dt.use(pt);G.use(dt);G.directive("outside-click",ft);G.use(mt);G.use(Ye);G.use(Tt,{unstyled:!0});G.use(ct);G.component("Border",P(()=>f(()=>import("./Border-BD9dQDqA.js"),__vite__mapDeps([152,3,4,5,2]))));G.component("VerificationBadge",P(()=>f(()=>import("./VerificationBadge-BGFmJmFx.js"),__vite__mapDeps([153,3,4,5,2]))));G.component("SvgIcon",P(()=>f(()=>import("./SvgIcon-XjNuFuut.js"),__vite__mapDeps([154,3,4,5,2]))));G.component("TimeAgo",P(()=>f(()=>import("./TimeAgo-C_6QPhhv.js"),__vite__mapDeps([155,3,4,5,2]))));G.component("FileFormatIcon",P(()=>f(()=>import("./FileFormatIcon-DhojJc8G.js"),__vite__mapDeps([156,3,4,5,2]))));G.component("PrimaryTransition",P(()=>f(()=>import("./PrimaryTransition-CBzPzDK5.js"),__vite__mapDeps([157,2,3,4,5]))));G.component("PrimaryDotsAnimation",P(()=>f(()=>import("./PrimaryDotsAnimation-BRlm_nao.js"),__vite__mapDeps([158,3,4,5,2]))));G.component("PrimarySpinAnimation",P(()=>f(()=>import("./PrimarySpinAnimation-IEiJk6Yn.js"),__vite__mapDeps([112,16,3,4,5,2]))));G.mount("#colibriplus-desktop-app");export{Se as A,Rt as B,ws as C,lr as D,bn as E,rt as M,Ue as P,Ta as R,mi as S,Ri as T,Di as a,nr as b,at as c,ke as d,Il as e,Te as f,it as g,co as h,Yl as i,K as j,pr as k,Pe as l,Da as m,Dr as n,br as o,Ci as p,Oo as q,lt as r,Ct as s,At as t,uo as u,Bn as v,Ja as w,st as x,Qo as y,ea as z};
