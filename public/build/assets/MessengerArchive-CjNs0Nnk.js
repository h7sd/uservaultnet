import{u as A}from"./inbox.store-CHx7CB4w.js";import{a as Q}from"./application-DEz9sPnz.js";import{S as w}from"./SidebarContainer-DWfT00jI.js";import{C as b,a as L,b as T,W}from"./MessengerIndex-DW-iODif.js";import{Q as V}from"./QuickSearch-B-3Mwg0I.js";import{_ as B}from"./global.properties-DKM1fd6s.js";import{k as I,e as s,c as a,d as t,F as u,f as S,i as n,s as p,t as y,p as f,b as D,r as $,l as C,w as E,o as R,q as g,v as N}from"./vendor-20TtR0Rd.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";import"./chat.store-BDVc674y.js";import"./AvatarNormal-BJt0-uJ6.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";const P=I({setup:function(){const e=D({isLoading:!1}),o=$(""),d=A(),c=$([]),i=C(()=>d.chatsArchive),_=C(()=>o.value.length>0);return E(o,l=>{c.value=i.value.filter(h=>{if(h.chat_info.name.toLowerCase().includes(l.toLowerCase()))return!0})}),R(async()=>{e.isLoading=!0,await d.fetchChatsArchive(),e.isLoading=!1}),{state:e,isSearching:_,chatsArchive:i,searchResults:c,chatsSearchQuery:o,ChatCallout:b,isEmptyArchive:C(()=>!i.value.length),handleSearchCancel:()=>{o.value="",c.value=[]}}},components:{ChatItem:T,ChatItemSkeleton:L,QuickSearch:V,ChatCallout:b}}),M={key:0,class:"block"},F={key:1,class:"block"},q={class:"px-4 mb-4"},x={key:0,class:"py-24 text-center"},z={class:"text-par-s text-lab-sc"},U={key:1,class:"py-24 text-center"},j={class:"text-par-s text-lab-sc"};function G(e,o,d,c,i,_){const l=s("ChatItemSkeleton"),h=s("QuickSearch"),m=s("Border"),v=s("ChatCallout"),k=s("ChatItem");return e.state.isLoading?(t(),a("div",M,[(t(),a(u,null,S(7,r=>n(l)),64))])):(t(),a("div",F,[p("div",q,[n(h,{onCancel:e.handleSearchCancel,modelValue:e.chatsSearchQuery,"onUpdate:modelValue":o[0]||(o[0]=r=>e.chatsSearchQuery=r),modelModifiers:{lazy:!0},placeholder:e.$t("chat.search")},null,8,["onCancel","modelValue","placeholder"])]),n(m),n(v,{iconName:"archive",title:e.$t("chat.archived_chats.title"),description:e.$t("chat.archived_chats.description")},null,8,["title","description"]),n(m),e.isEmptyArchive?(t(),a("div",x,[p("p",z,y(e.$t("chat.no_chat_archive")),1)])):(t(),a(u,{key:1},[e.isSearching?(t(),a(u,{key:0},[e.searchResults.length?(t(!0),a(u,{key:0},S(e.searchResults,r=>(t(),f(k,{chatData:r},null,8,["chatData"]))),256)):(t(),a("div",U,[p("p",j,y(e.$t("chat.no_chats_found")),1)]))],64)):(t(!0),a(u,{key:1},S(e.chatsArchive,r=>(t(),f(k,{chatData:r},null,8,["chatData"]))),256))],64))]))}const H=B(P,[["render",G]]),J=I({setup:function(){return A(),{isWSEstablished:C(()=>window.ColibriBRConnected!==!1)}},components:{PageTitle:Q,SidebarContainer:w,WSConnectionAlert:W,ChatsArchive:H}}),K={class:"px-4 mb-4"},O={key:0,class:"mb-4"};function X(e,o,d,c,i,_){const l=s("PageTitle"),h=s("WSConnectionAlert"),m=s("ChatsArchive"),v=s("SidebarContainer");return t(),f(v,null,{sidebarTitle:g(()=>[p("div",K,[n(l,{hasBack:!0,titleText:e.$t("chat.tabs.archived")},null,8,["titleText"])]),e.isWSEstablished?N("",!0):(t(),a("div",O,[n(h)]))]),sidebarBody:g(()=>[n(m)]),_:1})}const ue=B(J,[["render",X]]);export{ue as default};
