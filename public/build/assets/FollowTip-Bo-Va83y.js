import{k,e as s,c as u,d as i,i as c,s as d,F as y,f as _,p as b,v,y as w,b as h,r as B,o as P}from"./vendor-20TtR0Rd.js";import{_ as A,c as g}from"./global.properties-DKM1fd6s.js";import{A as $,f as F}from"./application-DEz9sPnz.js";import{H as T}from"./HeadingBlock-CnHEzSL2.js";import"./editor-CpZ7vO5P.js";import"./media-D4ZD3EDk.js";import"./inbox.store-CHx7CB4w.js";import"./index-ciglwFMH.js";import"./ui-Bp8YvxdW.js";const C=k({props:{isSkippable:{type:Boolean,default:!1}},emits:["close"],setup:function(t,n){const o=h({isSubmitting:!1,isLoading:!0}),a=B([]),l=e=>{o.isSubmitting=!0,g().tips().with(e).sendTo("recommended/follow").then(m=>{n.emit("close")}).catch(m=>{o.isSubmitting=!1})};P(async()=>{await g().recommendations().getFrom("follow").then(e=>{a.value=e.data.data}),a.value.length||r(),o.isLoading=!1});const r=()=>{l({skip:!0})};return{state:o,followSuggestions:a,submitForm:()=>{l({skip:!1})},handleSkip:r}},components:{PrimaryPillButton:F,HeadingBlock:T,AvatarSmall:$}}),H={key:0,class:"flex justify-center py-12"},L={class:"mb-12"},j={class:"flex mb-3 justify-center -space-x-3"},N={class:"flex justify-between"};function V(t,n,o,a,l,r){const e=s("PrimarySpinAnimation"),m=s("AvatarSmall"),S=s("HeadingBlock"),f=s("PrimaryPillButton");return t.state.isLoading?(i(),u("div",H,[c(e)])):(i(),u("form",{key:1,class:"block",onSubmit:n[0]||(n[0]=w((...p)=>t.submitForm&&t.submitForm(...p),["prevent"]))},[d("div",L,[d("div",j,[(i(!0),u(y,null,_(t.followSuggestions,p=>(i(),b(m,{avatarSrc:p.avatar_url},null,8,["avatarSrc"]))),256))]),c(S,{title:t.$t("tips.onboarding_follow.title"),caption:t.$t("tips.onboarding_follow.caption")},null,8,["title","caption"])]),d("div",N,[c(f,{loading:t.state.isSubmitting,type:"submit",buttonText:t.$t("tips.onboarding_follow.yes_follow"),buttonSize:"lm"},null,8,["loading","buttonText"]),!t.state.isSubmitting&&t.isSkippable?(i(),b(f,{key:0,onClick:t.handleSkip,buttonText:t.$t("labels.no_skip_it"),buttonSize:"lm",buttonRole:"marginalDanger"},null,8,["onClick","buttonText"])):v("",!0)])],32))}const K=A(C,[["render",V]]);export{K as default};
