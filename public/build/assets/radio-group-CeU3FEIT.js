import{i as $,a as P,o as k,A as V,d as K,e as M,f as U,E as q,u as J,T as z,O as Q,b as E,P as L,N as S,c as x,p as X}from"./form-C7kFQr8W.js";import{a0 as Y,q as O,b as s,$ as T,d as C,h as j,G as Z,a1 as y,I as ee,a2 as F,F as ae,L as le}from"./global.properties-ieI6Xwik.js";function te({container:a,accept:d,walk:p,enabled:n}){Y(()=>{let c=a.value;if(!c||n!==void 0&&!n.value)return;let o=$(a);if(!o)return;let r=Object.assign(u=>d(u),{acceptNode:d}),f=o.createTreeWalker(c,NodeFilter.SHOW_ELEMENT,r,!1);for(;f.nextNode();)p(f.currentNode)})}let ne=Symbol("DescriptionContext");function D({slot:a=O({}),name:d="Description",props:p={}}={}){let n=O([]);function c(o){return n.value.push(o),()=>{let r=n.value.indexOf(o);r!==-1&&n.value.splice(r,1)}}return T(ne,{register:c,slot:a,name:d,props:p}),s(()=>n.value.length>0?n.value.join(" "):void 0)}let re=Symbol("LabelContext");function B({slot:a={},name:d="Label",props:p={}}={}){let n=O([]);function c(o){return n.value.push(o),()=>{let r=n.value.indexOf(o);r!==-1&&n.value.splice(r,1)}}return T(re,{register:c,slot:a,name:d,props:p}),s(()=>n.value.length>0?n.value.join(" "):void 0)}function ue(a,d){return a===d}let I=Symbol("RadioGroupContext");function W(a){let d=le(I,null);if(d===null){let p=new Error(`<${a} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(p,W),p}return d}let se=C({name:"RadioGroup",emits:{"update:modelValue":a=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ue},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(a,{emit:d,attrs:p,slots:n,expose:c}){var o;let r=(o=a.id)!=null?o:`headlessui-radiogroup-${P()}`,f=O(null),u=O([]),R=B({name:"RadioGroupLabel"}),N=D({name:"RadioGroupDescription"});c({el:f,$el:f});let[b,w]=K(s(()=>a.modelValue),e=>d("update:modelValue",e),s(()=>a.defaultValue)),m={options:u,value:b,disabled:s(()=>a.disabled),firstOption:s(()=>u.value.find(e=>!e.propsRef.disabled)),containsCheckedOption:s(()=>u.value.some(e=>m.compare(y(e.propsRef.value),y(a.modelValue)))),compare(e,t){if(typeof a.by=="string"){let l=a.by;return(e==null?void 0:e[l])===(t==null?void 0:t[l])}return a.by(e,t)},change(e){var t;if(a.disabled||m.compare(y(b.value),y(e)))return!1;let l=(t=u.value.find(v=>m.compare(y(v.propsRef.value),y(e))))==null?void 0:t.propsRef;return l!=null&&l.disabled?!1:(w(e),!0)},registerOption(e){u.value.push(e),u.value=Q(u.value,t=>t.element)},unregisterOption(e){let t=u.value.findIndex(l=>l.id===e);t!==-1&&u.value.splice(t,1)}};T(I,m),te({container:s(()=>k(f)),accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});function g(e){if(!f.value||!f.value.contains(e.target))return;let t=u.value.filter(l=>l.propsRef.disabled===!1).map(l=>l.element);switch(e.key){case E.Enter:X(e.currentTarget);break;case E.ArrowLeft:case E.ArrowUp:if(e.preventDefault(),e.stopPropagation(),L(t,S.Previous|S.WrapAround)===x.Success){let l=u.value.find(v=>{var i;return v.element===((i=$(f))==null?void 0:i.activeElement)});l&&m.change(l.propsRef.value)}break;case E.ArrowRight:case E.ArrowDown:if(e.preventDefault(),e.stopPropagation(),L(t,S.Next|S.WrapAround)===x.Success){let l=u.value.find(v=>{var i;return v.element===((i=$(v.element))==null?void 0:i.activeElement)});l&&m.change(l.propsRef.value)}break;case E.Space:{e.preventDefault(),e.stopPropagation();let l=u.value.find(v=>{var i;return v.element===((i=$(v.element))==null?void 0:i.activeElement)});l&&m.change(l.propsRef.value)}break}}let h=s(()=>{var e;return(e=k(f))==null?void 0:e.closest("form")});return j(()=>{ee([h],()=>{if(!h.value||a.defaultValue===void 0)return;function e(){m.change(a.defaultValue)}return h.value.addEventListener("reset",e),()=>{var t;(t=h.value)==null||t.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{disabled:e,name:t,form:l,...v}=a,i={ref:f,id:r,role:"radiogroup","aria-labelledby":R.value,"aria-describedby":N.value,onKeydown:g};return F(ae,[...t!=null&&b.value!=null?M({[t]:b.value}).map(([A,G])=>F(U,q({features:J.Hidden,key:A,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,disabled:e,name:A,value:G}))):[],V({ourProps:i,theirProps:{...p,...z(v,["modelValue","defaultValue","by"])},slot:{},attrs:p,slots:n,name:"RadioGroup"})])}}});var ie=(a=>(a[a.Empty=1]="Empty",a[a.Active=2]="Active",a))(ie||{});let pe=C({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(a,{attrs:d,slots:p,expose:n}){var c;let o=(c=a.id)!=null?c:`headlessui-radiogroup-option-${P()}`,r=W("RadioGroupOption"),f=B({name:"RadioGroupLabel"}),u=D({name:"RadioGroupDescription"}),R=O(null),N=s(()=>({value:a.value,disabled:a.disabled})),b=O(1);n({el:R,$el:R});let w=s(()=>k(R));j(()=>r.registerOption({id:o,element:w,propsRef:N})),Z(()=>r.unregisterOption(o));let m=s(()=>{var i;return((i=r.firstOption.value)==null?void 0:i.id)===o}),g=s(()=>r.disabled.value||a.disabled),h=s(()=>r.compare(y(r.value.value),y(a.value))),e=s(()=>g.value?-1:h.value||!r.containsCheckedOption.value&&m.value?0:-1);function t(){var i;r.change(a.value)&&(b.value|=2,(i=k(R))==null||i.focus())}function l(){b.value|=2}function v(){b.value&=-3}return()=>{let{value:i,disabled:A,...G}=a,_={checked:h.value,disabled:g.value,active:!!(b.value&2)},H={id:o,ref:R,role:"radio","aria-checked":h.value?"true":"false","aria-labelledby":f.value,"aria-describedby":u.value,"aria-disabled":g.value?!0:void 0,tabIndex:e.value,onClick:g.value?void 0:t,onFocus:g.value?void 0:l,onBlur:g.value?void 0:v};return V({ourProps:H,theirProps:G,slot:_,attrs:d,slots:p,name:"RadioGroupOption"})}}});export{pe as O,se as h};
