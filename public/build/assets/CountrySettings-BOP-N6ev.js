import{_ as v,d as S,c,j as o,a as i,r,t as m,w as T,u as h,F as P,g as $,q as p,h as k,l as d,o as u,p as V}from"./global.properties-ieI6Xwik.js";import{a as B,f as D}from"./application-DnsIlr-S.js";import{S as w}from"./SelectInput-a7T_HM_x.js";import{S as F}from"./SectionToggle-DEryNKJ4.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";import"./listbox-YLrGfEqV.js";import"./form-C7kFQr8W.js";const I=S({setup:function(){const t=$({isLoading:!0,isSubmitting:!1}),e=p([]),n=p({country:null,country_privacy:null});return k(async()=>{await d().userSettings().getFrom("personal/country").then(s=>{let l=s.data.data;e.value=l.countries,n.value.country=l.country,n.value.country_privacy=l.privacy_settings.country_privacy,t.isLoading=!1})}),{countries:e,state:t,formData:n,submitForm:async()=>{t.isSubmitting===!1&&(t.isSubmitting=!0,await d().userSettings().with(n.value).putTo("personal/country/update").then(s=>{toastSuccess(__t("toast.forms.changes_saved"))}).catch(s=>{s.response&&toastError(s.response.data.message)}),t.isSubmitting=!1)}}},components:{PrimaryPillButton:D,SelectInput:w,PageTitle:B,SectionToggle:F}}),C={class:"mb-8"},N={key:0,class:"block"},A={class:"mb-8"},L={class:"text-par-m text-lab-sc"},x={class:"mb-10"},E={class:"mb-10"},M={class:"block mb-16"},U={key:1,class:"block"},j={class:"flex-center h-96"};function q(t,e,n,s,l,z){const g=r("PageTitle"),y=r("SelectInput"),f=r("SectionToggle"),_=r("PrimaryPillButton"),b=r("PrimarySpinAnimation");return u(),c(P,null,[o("div",C,[i(g,{hasBack:!0,titleText:t.$t("settings.country_settings")},null,8,["titleText"])]),t.state.isLoading?(u(),c("div",U,[o("div",j,[i(b)])])):(u(),c("div",N,[o("div",A,[o("h6",L,m(t.$t("settings.forms.country.page_desc")),1)]),o("form",{onSubmit:e[2]||(e[2]=h((...a)=>t.submitForm&&t.submitForm(...a),["prevent"]))},[o("div",x,[i(y,{isSearchable:!0,modelValue:t.formData.country,"onUpdate:modelValue":e[0]||(e[0]=a=>t.formData.country=a),labelText:t.$t("settings.forms.personal_info.country"),options:t.countries},{feedbackInfo:T(()=>[V(m(t.$t("settings.forms.country.country_helper")),1)]),_:1},8,["modelValue","labelText","options"])]),o("div",E,[i(f,{iconName:"shield-01",modelValue:t.formData.country_privacy,"onUpdate:modelValue":e[1]||(e[1]=a=>t.formData.country_privacy=a),captionText:t.$t("settings.forms.country.privacy_helper"),titleText:t.$t("labels.privacy")},null,8,["modelValue","captionText","titleText"])]),o("div",M,[i(_,{loading:t.state.isSubmitting,buttonType:"submit",buttonText:t.$t("labels.save_changes")},null,8,["loading","buttonText"])])],32)]))],64)}const Y=v(I,[["render",q]]);export{Y as default};
