import{c as L}from"./editor-CpZ7vO5P.js";var G={exports:{}};(function(k,Y){(function(R,W){k.exports=W()})(L,()=>(()=>{var R={935:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Arcs=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s=n.canvas,i=s.height,u=s.width,r=new O.Shapes(n),c=new g.AudioData(t),a=i/2,h=u/2;this._options=v({count:30,diameter:i/3,lineWidth:3,frequencyBand:"mids",rounded:!0},this._options),this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(u,i));for(var d=0;d<=this._options.count/2;d++){var l=Math.floor(c.data.length/this._options.count)*d,f=c.data[l],b=(u-this._options.diameter)/this._options.count*d,w=180-45/(255/f/2),x=180+45/(255/f/2),m=2*f;r.arc(b+m/2,a,m,w,x,this._options)}var q=Math.floor(c.data.length/2),C=c.data[q];for(r.circle(h,a,this._options.diameter*(C/255),this._options),d=this._options.count/2;d<=this._options.count;d++){var j=Math.floor(c.data.length/this._options.count)*d,p=c.data[j];b=(u-this._options.diameter)/this._options.count*d+this._options.diameter,w=180-45/(255/p/2),x=180+45/(255/p/2),m=2*p,r.arc(b-m/2,a,m,w+180,x+180,this._options)}},e}();_.Arcs=o},519:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Circles=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s=n.canvas,i=s.height,u=s.width,r=new O.Shapes(n),c=new g.AudioData(t),a=u/2,h=i/2;this._options=v({count:40,diameter:0,fillColor:"rgba(0,0,0,0)",frequencyBand:"mids"},this._options),this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(u,i));for(var d=0;d<this._options.count;d++){var l=Math.floor(c.data.length/this._options.count)*d,f=c.data[l];r.circle(a,h,this._options.diameter+f,this._options)}},e}();_.Circles=o},938:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Cubes=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s,i,u,r,c,a,h,d,l,f,b,w,x=n.canvas,m=x.height,q=x.width,C=new O.Shapes(n),j=new g.AudioData(t);this._options=v({count:20,frequencyBand:"mids",gap:5},this._options);var p=Math.floor((q-this._options.gap*this._options.count)/this._options.count);if(!((s=this._options)===null||s===void 0)&&s.cubeHeight||(this._options.cubeHeight=p),this._options.frequencyBand&&j.setFrequencyBand(this._options.frequencyBand),j.scaleData(Math.min(q,m)),(i=this._options)===null||i===void 0?void 0:i.mirroredX)for(var E=1,y=Math.ceil(j.data.length/2);y<j.data.length;y++)j.data[y]=j.data[Math.ceil(j.data.length/2)-E],E++;if(!((u=this._options)===null||u===void 0)&&u.top)for(y=0;y<this._options.count;y++)for(var P=Math.floor(j.data.length/this._options.count)*y,A=j.data[P],B=(this._options.gap+p)*y,D=Math.ceil(A/p),H=0;H<D;H++){var T=H*(this._options.cubeHeight+this._options.gap);C.rectangle(B,T,p,this._options.cubeHeight,this._options)}if(!((r=this._options)===null||r===void 0)&&r.right)for(y=0;y<this._options.count;y++)for(P=Math.floor(j.data.length/this._options.count)*y,A=j.data[P],T=y*(this._options.cubeHeight+this._options.gap),D=Math.ceil(A/p),H=0;H<D;H++)B=q-(this._options.gap+p)*H,C.rectangle(B,T,p,this._options.cubeHeight,this._options);if(!((c=this._options)===null||c===void 0)&&c.bottom||!(!((a=this._options)===null||a===void 0)&&a.top)&&!(!((h=this._options)===null||h===void 0)&&h.right)&&!(!((d=this._options)===null||d===void 0)&&d.left)&&!(!((l=this._options)===null||l===void 0)&&l.center))for(y=0;y<this._options.count;y++)for(P=Math.floor(j.data.length/this._options.count)*y,A=j.data[P],B=(this._options.gap+p)*y,D=Math.ceil(A/p),H=0;H<D;H++)T=m-H*(this._options.cubeHeight+this._options.gap),C.rectangle(B,T,p,this._options.cubeHeight,this._options);if(!((f=this._options)===null||f===void 0)&&f.left)for(y=0;y<this._options.count;y++)for(P=Math.floor(j.data.length/this._options.count)*y,A=j.data[P],T=y*(this._options.cubeHeight+this._options.gap),D=Math.ceil(A/p),H=0;H<D;H++)B=(this._options.gap+p)*H,C.rectangle(B,T,p,this._options.cubeHeight,this._options);if(!((b=this._options)===null||b===void 0)&&b.center){for(y=0;y<this._options.count;y++)for(P=Math.floor(j.data.length/this._options.count)*y,A=j.data[P],B=(this._options.gap+p)*y,D=Math.ceil(A/p),H=0;H<D;H++)T=m/2-H*(this._options.cubeHeight+this._options.gap),C.rectangle(B,T,p,this._options.cubeHeight,this._options);if(!((w=this._options)===null||w===void 0)&&w.mirroredY)for(y=0;y<this._options.count;y++)for(P=Math.floor(j.data.length/this._options.count)*y,A=j.data[P],B=(this._options.gap+p)*y,D=Math.ceil(A/p),H=0;H<D;H++)T=m/2+H*(this._options.cubeHeight+this._options.gap),C.rectangle(B,T,p,this._options.cubeHeight,this._options)}},e}();_.Cubes=o},540:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Flower=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s=n.canvas,i=s.height,u=s.width,r=new O.Shapes(n),c=new g.AudioData(t);this._options=v({count:20,diameter:i/3,frequencyBand:"mids",rotate:0},this._options);var a=u/2,h=i/2,d=360/this._options.count;this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(u,i));for(var l=0;l<this._options.count;l++){var f=Math.floor(c.data.length/this._options.count)*l,b=c.data[f],w=r.toRadians(d*l+this._options.rotate),x=r.toRadians(d*(l+1)+this._options.rotate),m=this._options.diameter/2*Math.cos(w)+a,q=this._options.diameter/2*Math.sin(w)+h,C=this._options.diameter/2*Math.cos(x)+a,j=this._options.diameter/2*Math.sin(x)+h,p=this._options.diameter+b,E=p/2*Math.cos(w)+a,y=p/2*Math.sin(w)+h,P=p/2*Math.cos(x)+a,A=p/2*Math.sin(x)+h;r.polygon([{x:m,y:q},{x:E,y},{x:P,y:A},{x:C,y:j}],this._options)}},e}();_.Flower=o},522:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Glob=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s,i=n.canvas,u=i.height,r=i.width,c=new O.Shapes(n),a=new g.AudioData(t),h=r/2,d=u/2;if(this._options=v({count:100,diameter:u/3,frequencyBand:"mids",rounded:!0},this._options),this._options.frequencyBand&&a.setFrequencyBand(this._options.frequencyBand),a.scaleData(Math.min(r,u)),(s=this._options)===null||s===void 0?void 0:s.mirroredX)for(var l=1,f=Math.ceil(a.data.length/2);f<a.data.length;f++)a.data[f]=a.data[Math.ceil(a.data.length/2)-l],l++;var b=[];for(f=0;f<this._options.count;f++){var w=Math.floor(a.data.length/this._options.count)*f,x=a.data[w],m=360/this._options.count,q=this._options.diameter+x,C=h+q/2*Math.cos(c.toRadians(m*f)),j=d+q/2*Math.sin(c.toRadians(m*f));b.push({x:C,y:j})}b.push(b[0]),c.polygon(b,this._options)},e}();_.Glob=o},658:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Lines=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s,i,u,r,c,a,h,d,l,f,b,w=n.canvas,x=w.height,m=w.width,q=new O.Shapes(n),C=new g.AudioData(t);if(this._options=v({count:64,frequencyBand:"mids"},this._options),this._options.frequencyBand&&C.setFrequencyBand(this._options.frequencyBand),C.scaleData(Math.min(m,x)),(s=this._options)===null||s===void 0?void 0:s.mirroredX)for(var j=1,p=Math.ceil(C.data.length/2);p<C.data.length;p++)C.data[p]=C.data[Math.ceil(C.data.length/2)-j],j++;if(!((i=this._options)===null||i===void 0)&&i.top)for(p=1;p<=this._options.count;p++){var E=Math.floor(C.data.length/this._options.count)*p,y=C.data[E],P=0,A=D=m/this._options.count*p,B=y;q.line(D,P,A,B,this._options)}if(!((u=this._options)===null||u===void 0)&&u.right)for(p=1;p<=this._options.count;p++){E=Math.floor(C.data.length/this._options.count)*p;var D=m;A=m-(y=C.data[E]),B=P=x/this._options.count*p,q.line(D,P,A,B,this._options)}if(!((r=this._options)===null||r===void 0)&&r.bottom||!(!((c=this._options)===null||c===void 0)&&c.top)&&!(!((a=this._options)===null||a===void 0)&&a.right)&&!(!((h=this._options)===null||h===void 0)&&h.left)&&!(!((d=this._options)===null||d===void 0)&&d.center))for(p=1;p<=this._options.count;p++)E=Math.floor(C.data.length/this._options.count)*p,y=C.data[E],A=D=m/this._options.count*p,B=(P=x)-y,q.line(D,P,A,B,this._options);if(!((l=this._options)===null||l===void 0)&&l.left)for(p=1;p<=this._options.count;p++)E=Math.floor(C.data.length/this._options.count)*p,D=0,A=y=C.data[E],B=P=x/this._options.count*p,q.line(D,P,A,B,this._options);if(!((f=this._options)===null||f===void 0)&&f.center)for(p=1;p<=this._options.count;p++)E=Math.floor(C.data.length/this._options.count)*p,y=C.data[E],A=D=m/this._options.count*p,B=(P=x/2)-y,q.line(D,P,A,B,this._options),!((b=this._options)===null||b===void 0)&&b.mirroredY&&(A=D=m/this._options.count*p,B=(P=x/2)+y,q.line(D,P,A,B,this._options))},e}();_.Lines=o},817:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Shine=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s,i=n.canvas,u=i.height,r=i.width,c=new O.Shapes(n),a=new g.AudioData(t);this._options=v({count:30,rotate:0,diameter:u/3,frequencyBand:"mids"},this._options);var h=r/2,d=u/2,l=360/this._options.count;this._options.frequencyBand&&a.setFrequencyBand(this._options.frequencyBand),a.scaleData(Math.min(r,u));for(var f=0;f<this._options.count;f++){var b=Math.floor(a.data.length/this._options.count)*f,w=a.data[b],x=c.toRadians(l*f+this._options.rotate),m=!((s=this._options)===null||s===void 0)&&s.offset?this._options.diameter-w/2:this._options.diameter,q=this._options.diameter+w,C=m/2*Math.cos(x)+h,j=m/2*Math.sin(x)+d,p=q/2*Math.cos(x)+h,E=q/2*Math.sin(x)+d;c.line(C,j,p,E,this._options)}},e}();_.Shine=o},123:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Square=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s=n.canvas,i=s.height,u=s.width,r=new O.Shapes(n),c=new g.AudioData(t);this._options=v({count:40,diameter:i/3,frequencyBand:"mids"},this._options);var a=this._options.count/4,h=u/2,d=i/2;this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(u,i));for(var l=0;l<a;l++){var f=Math.floor(c.data.length/this._options.count)*l,b=c.data[f],w=this._options.diameter/a,x=h-this._options.diameter/2+w*l,m=d-this._options.diameter/2;r.line(x,m,x,m-b,this._options)}for(l=0;l<a;l++){f=Math.floor(c.data.length/this._options.count)*(2*l),b=c.data[f];var q=this._options.diameter/a;x=h+this._options.diameter/2,m=d-this._options.diameter/2+q*l,r.line(x,m,x+b,m,this._options)}for(l=0;l<a;l++)f=Math.floor(c.data.length/this._options.count)*(3*l),b=c.data[f],w=this._options.diameter/a,x=h-this._options.diameter/2+w*l,m=d+this._options.diameter/2,r.line(x,m,x,m+b,this._options);for(l=0;l<a;l++)f=Math.floor(c.data.length/this._options.count)*(4*l),b=c.data[f],q=this._options.diameter/a,x=h-this._options.diameter/2,m=d-this._options.diameter/2+q*l,r.line(x,m,x-b,m,this._options)},e}();_.Square=o},270:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Turntable=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s=n.canvas,i=s.height,u=s.width,r=new O.Shapes(n),c=new g.AudioData(t);this._options=v({count:20,rotate:0,diameter:i/3,cubeHeight:20,frequencyBand:"mids",gap:5},this._options);var a=u/2,h=i/2,d=360/this._options.count;this._options.frequencyBand&&c.setFrequencyBand(this._options.frequencyBand),c.scaleData(Math.min(u,i));for(var l=0;l<this._options.count;l++)for(var f=Math.floor(c.data.length/this._options.count)*l,b=c.data[f],w=0;w<b/this._options.cubeHeight;w++){var x=this._options.diameter+this._options.cubeHeight*w+this._options.gap,m=this._options.diameter+this._options.cubeHeight*(w+1),q=r.toRadians(d*l+this._options.rotate+this._options.gap/4),C=r.toRadians(d*(l+1)+this._options.rotate),j=x/2*Math.cos(q)+a,p=x/2*Math.sin(q)+h,E=x/2*Math.cos(C)+a,y=x/2*Math.sin(C)+h,P=m/2*Math.cos(q)+a,A=m/2*Math.sin(q)+h,B=m/2*Math.cos(C)+a,D=m/2*Math.sin(C)+h;r.polygon([{x:j,y:p},{x:P,y:A},{x:B,y:D},{x:E,y}],this._options)}},e}();_.Turntable=o},857:function(S,_,M){var v=this&&this.__assign||function(){return v=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};Object.defineProperty(_,"__esModule",{value:!0}),_.Wave=void 0;var O=M(426),g=M(941),o=function(){function e(t){this._options=t??{}}return e.prototype.draw=function(t,n){var s=n.canvas,i=s.height,u=s.width,r=new g.AudioData(t),c=new O.Shapes(n);if(this._options=v({count:64,frequencyBand:"mids"},this._options),this._options.frequencyBand&&r.setFrequencyBand(this._options.frequencyBand),r.scaleData(Math.min(u,i)),this._options.mirroredX)for(var a=1,h=Math.ceil(r.data.length/2);h<r.data.length;h++)r.data[h]=r.data[Math.ceil(r.data.length/2)-a],a++;if(this._options.top){var d=[{x:0,y:0}];for(h=0;h<=this._options.count;h++){var l=Math.floor(r.data.length/this._options.count)*h,f=r.data[l];d.push({x:Math.floor(u/this._options.count)*h,y:f})}d.push({x:u,y:0}),c.polygon(d,this._options)}if(this._options.right){for(d=[{x:u,y:0}],h=0;h<=this._options.count;h++)l=Math.floor(r.data.length/this._options.count)*h,f=r.data[l],d.push({x:u-f,y:Math.floor(u/this._options.count)*h});d.push({x:u,y:i}),c.polygon(d,this._options)}if(this._options.bottom||!this._options.top&&!this._options.right&&!this._options.left&&!this._options.center){for(d=[{x:0,y:i}],h=0;h<=this._options.count;h++)l=Math.floor(r.data.length/this._options.count)*h,f=r.data[l],d.push({x:Math.floor(u/this._options.count)*h,y:i-f});d.push({x:u,y:i}),c.polygon(d,this._options)}if(this._options.left){for(d=[{x:0,y:0}],h=0;h<=this._options.count;h++)l=Math.floor(r.data.length/this._options.count)*h,f=r.data[l],d.push({x:f,y:Math.floor(u/this._options.count)*h});d.push({x:0,y:i}),c.polygon(d,this._options)}if(this._options.center){for(d=[{x:0,y:i/2}],h=0;h<=this._options.count;h++)l=Math.floor(r.data.length/this._options.count)*h,f=r.data[l],d.push({x:Math.floor(u/this._options.count)*h,y:i/2-f});if(d.push({x:u,y:i/2}),c.polygon(d,this._options),this._options.mirroredY){for(d=[{x:0,y:i/2}],h=0;h<=this._options.count;h++)l=Math.floor(r.data.length/this._options.count)*h,f=r.data[l],d.push({x:Math.floor(u/this._options.count)*h,y:i/2+f});d.push({x:u,y:i/2}),c.polygon(d,this._options)}}},e}();_.Wave=o},941:(S,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.AudioData=void 0;var M=function(){function v(O){this.data=O}return v.prototype.setFrequencyBand=function(O){var g=Math.floor(.0625*this.data.length),o=Math.floor(.0625*this.data.length),e=Math.floor(.375*this.data.length),t={base:this.data.slice(0,g),lows:this.data.slice(g+1,g+o),mids:this.data.slice(g+o+1,g+o+e),highs:this.data.slice(g+o+e+1)};this.data=t[O]},v.prototype.scaleData=function(O){O<255&&(this.data=this.data.map(function(g){var o=Math.round(g/255*100)/100;return O*o}))},v}();_.AudioData=M},426:function(S,_){var M=this&&this.__awaiter||function(g,o,e,t){return new(e||(e=Promise))(function(n,s){function i(c){try{r(t.next(c))}catch(a){s(a)}}function u(c){try{r(t.throw(c))}catch(a){s(a)}}function r(c){var a;c.done?n(c.value):(a=c.value,a instanceof e?a:new e(function(h){h(a)})).then(i,u)}r((t=t.apply(g,o||[])).next())})},v=this&&this.__generator||function(g,o){var e,t,n,s,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(r){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,t&&(n=2&a[0]?t.return:a[0]?t.throw||((n=t.return)&&n.call(t),0):t.next)&&!(n=n.call(t,a[1])).done)return n;switch(t=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||a[0]!==6&&a[0]!==2)){i=0;continue}if(a[0]===3&&(!n||a[1]>n[0]&&a[1]<n[3])){i.label=a[1];break}if(a[0]===6&&i.label<n[1]){i.label=n[1],n=a;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(a);break}n[2]&&i.ops.pop(),i.trys.pop();continue}a=o.call(g,i)}catch(h){a=[6,h],t=0}finally{e=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([r,c])}}};Object.defineProperty(_,"__esModule",{value:!0}),_.Shapes=void 0;var O=function(){function g(o){this._canvasContext=o}return g.prototype.toRadians=function(o){return o*Math.PI/180},g.prototype.toDegrees=function(o){return 180*o/Math.PI},g.prototype._rotatePoint=function(o,e,t,n,s){var i=this.toRadians(s);return{x:Math.cos(i)*(t-o)-Math.sin(i)*(n-e)+o,y:Math.sin(i)*(t-o)+Math.cos(i)*(n-e)+e}},g.prototype._makeGradient=function(o,e){var t=0,n=this._canvasContext.canvas.height/2,s=this._canvasContext.canvas.width,i=this._canvasContext.canvas.height/2;if(e){var u=this._canvasContext.canvas.width/2,r=this._canvasContext.canvas.height/2,c=this._rotatePoint(u,r,t,n,e);t=c.x,n=c.y;var a=this._rotatePoint(u,r,s,i,e);s=a.x,i=a.y}var h=this._canvasContext.createLinearGradient(t,n,s,i);return o.forEach(function(d,l){h.addColorStop(1/o.length*l,d)}),h},g.prototype._makeImage=function(o){return M(this,void 0,void 0,function(){var e,t=this;return v(this,function(n){return(e=new Image).src=o,[2,new Promise(function(s,i){e.onload=function(){var u=t._canvasContext.createPattern(e,"repeat");s(u)}})]})})},g.prototype._implementOptions=function(o,e){var t,n,s,i,u,r,c,a,h,d,l,f,b=this;e===void 0&&(e=!0),typeof(o==null?void 0:o.lineColor)=="string"?this._canvasContext.strokeStyle=o.lineColor:!((t=o==null?void 0:o.lineColor)===null||t===void 0)&&t.gradient?this._canvasContext.strokeStyle=this._makeGradient(o.lineColor.gradient,o.lineColor.rotate):!((n=o==null?void 0:o.lineColor)===null||n===void 0)&&n.image?this._makeImage((s=o==null?void 0:o.lineColor)===null||s===void 0?void 0:s.image).then(function(w){return b._canvasContext.strokeStyle=w}):this._canvasContext.strokeStyle="#000",typeof(o==null?void 0:o.fillColor)=="string"?this._canvasContext.fillStyle=o.fillColor:!((i=o==null?void 0:o.fillColor)===null||i===void 0)&&i.gradient?this._canvasContext.fillStyle=this._makeGradient(o.fillColor.gradient,o.fillColor.rotate):!((u=o==null?void 0:o.fillColor)===null||u===void 0)&&u.image?this._makeImage((r=o==null?void 0:o.fillColor)===null||r===void 0?void 0:r.image).then(function(w){return b._canvasContext.fillStyle=w}):this._canvasContext.fillStyle="#000",this._canvasContext.lineCap=(c=o!=null&&o.rounded?"round":"butt")!==null&&c!==void 0?c:"butt",this._canvasContext.lineWidth=(a=o==null?void 0:o.lineWidth)!==null&&a!==void 0?a:1,this._canvasContext.shadowColor=(d=(h=o==null?void 0:o.glow)===null||h===void 0?void 0:h.color)!==null&&d!==void 0?d:"rgba(0,0,0,0)",this._canvasContext.shadowBlur=(f=(l=o==null?void 0:o.glow)===null||l===void 0?void 0:l.strength)!==null&&f!==void 0?f:0,this._canvasContext.shadowOffsetX=0,this._canvasContext.shadowOffsetY=0,e&&this._canvasContext.closePath(),this._canvasContext.stroke(),e&&this._canvasContext.fill()},g.prototype.arc=function(o,e,t,n,s,i){return this._canvasContext.beginPath(),this._canvasContext.arc(o,e,t/2,this.toRadians(n),this.toRadians(s)),this._implementOptions(i,!1),this},g.prototype.circle=function(o,e,t,n){return this._canvasContext.beginPath(),this._canvasContext.arc(o,e,t/2,0,2*Math.PI),this._implementOptions(n),this},g.prototype.line=function(o,e,t,n,s){return this._canvasContext.beginPath(),this._canvasContext.moveTo(o,e),this._canvasContext.lineTo(t,n),this._implementOptions(s),this},g.prototype.polygon=function(o,e){var t;this._canvasContext.beginPath(),this._canvasContext.moveTo(o[0].x,o[0].y);for(var n=0;n<o.length;n++){var s=o[n],i=(t=o[n+1])!==null&&t!==void 0?t:s,u=(s.x+i.x)/2,r=(s.y+i.y)/2;e!=null&&e.rounded?this._canvasContext.quadraticCurveTo(o[n].x,o[n].y,u,r):this._canvasContext.lineTo(o[n].x,o[n].y)}return this._implementOptions(e),this},g.prototype.rectangle=function(o,e,t,n,s){var i,u=(i=s==null?void 0:s.radius)!==null&&i!==void 0?i:0;return t<2*u&&(u=t/2),n<2*u&&(u=n/2),this._canvasContext.beginPath(),this._canvasContext.moveTo(o+u,e),this._canvasContext.arcTo(o+t,e,o+t,e+n,u),this._canvasContext.arcTo(o+t,e+n,o,e+n,u),this._canvasContext.arcTo(o,e+n,o,e,u),this._canvasContext.arcTo(o,e,o+t,e,u),this._implementOptions(s),this},g}();_.Shapes=O}},W={};function F(S){var _=W[S];if(_!==void 0)return _.exports;var M=W[S]={exports:{}};return R[S].call(M.exports,M,M.exports,F),M.exports}var I={};return(()=>{var S=I;Object.defineProperty(S,"__esModule",{value:!0}),S.Wave=void 0;var _=F(935),M=F(519),v=F(938),O=F(540),g=F(522),o=F(658),e=F(817),t=F(123),n=F(270),s=F(857),i=function(){function u(r,c,a){a===void 0&&(a=!1);var h=this;this.animations={Arcs:_.Arcs,Circles:M.Circles,Cubes:v.Cubes,Flower:O.Flower,Glob:g.Glob,Lines:o.Lines,Shine:e.Shine,Square:t.Square,Turntable:n.Turntable,Wave:s.Wave},this._activeAnimations=[],this._canvasElement=c,this._canvasContext=this._canvasElement.getContext("2d"),this._muteAudio=a,this._interacted=!1,r instanceof HTMLAudioElement?(this._audioElement=r,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?["touchstart","touchmove","touchend","mouseup","click"].forEach(function(d){document.body.addEventListener(d,function(){return h.connectAnalyser()},{once:!0})}):this._audioElement.addEventListener("play",function(){return h.connectAnalyser()},{once:!0})):r instanceof AnalyserNode?(this._audioAnalyser=r,this._audioContext=null,this._audioSource=null,this._play()):r&&(this._audioContext=r.context,this._audioSource=r.source,this._audioAnalyser=this._audioContext.createAnalyser(),this._play())}return u.prototype.connectAnalyser=function(){this._interacted||(this._interacted=!0,this._audioContext=new AudioContext,this._audioSource=this._audioContext.createMediaElementSource(this._audioElement),this._audioAnalyser=this._audioContext.createAnalyser(),this._play())},u.prototype._play=function(){var r=this;this._audioSource&&(this._audioSource.connect(this._audioAnalyser),this._muteAudio||this._audioSource.connect(this._audioContext.destination)),this._audioAnalyser.smoothingTimeConstant=.85,this._audioAnalyser.fftSize=1024;var c=new Uint8Array(this._audioAnalyser.frequencyBinCount),a=function(){r._audioAnalyser.getByteFrequencyData(c),r._canvasContext.clearRect(0,0,r._canvasContext.canvas.width,r._canvasContext.canvas.height),r._activeAnimations.forEach(function(h){h.draw(c,r._canvasContext)}),window.requestAnimationFrame(a)};a()},u.prototype.addAnimation=function(r){this._activeAnimations.push(r)},u.prototype.clearAnimations=function(){this._activeAnimations=[]},u}();S.Wave=i})(),I})())})(G);var X=G.exports;const N=()=>({audioStream:null,canvas:null,audioContext:null,animationInstance:null,audioElement:{},config:{count:50,lineWidth:2,frequencyBand:"mids",fillColor:"rgba(0, 122, 255, 1)",lineColor:"rgba(0, 122, 255, 1)"},setAudioElement:function(k=null){return k&&(this.audioElement=k),this},setCanvas:function(k=null){return k&&(this.canvas=k),this},linesWaveStart:function(k={}){this.config={...this.config,...k},this.animationInstance=new X.Wave(this.audioElement,this.canvas,!0),this.animationInstance.addAnimation(new this.animationInstance.animations.Wave(this.config))}});export{N as a};
