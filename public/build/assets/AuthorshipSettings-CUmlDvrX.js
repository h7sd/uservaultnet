import{_ as k,d as $,c as u,j as e,a as i,r as o,p as h,t as r,w as D,F as c,e as m,m as w,g as y,b as I,q as R,h as q,l as g,o as a}from"./global.properties-ieI6Xwik.js";import{a as A,e as B,d as L}from"./application-DnsIlr-S.js";import{M as N}from"./ModalRowButton-DQqFuzSn.js";import{I as P,a as C}from"./InfoListItem-D862UUym.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./inbox.store-DKf8FrGP.js";import"./index-CaocF3Et.js";const M=$({setup:function(){const t=L(),s=y({isLoading:!0,isSubmitting:!1}),p=I(()=>t.userData),l=R(null);return q(async()=>{await g().userSettings().getFrom("authorship/settings").then(n=>{l.value=n.data.data}),s.isLoading=!1}),{state:s,userData:p,requestData:l,submitForm:async()=>{s.isSubmitting===!1&&(s.isSubmitting=!0,await g().userSettings().sendTo("authorship/request").then(n=>{l.value.status="pending",toastSuccess(__t("toast.authorship.request_sent"))}).catch(n=>{n.response&&toastError(n.response.data.message)}),s.isSubmitting=!1)}}},components:{AvatarRightSided:B,PageTitle:A,ModalRowButton:N,InfoList:C,InfoListItem:P}}),F={class:"mb-8"},V={key:0,class:"block"},j={class:"mb-8"},z={class:"text-par-m text-lab-sc"},E=["href"],x={class:"border border-bord-pr rounded-2xl mt-4 overflow-hidden"},G={class:"p-4"},H={class:"mt-8"},J={class:"text-par-l font-bold text-lab-pr2 mb-1"},K={class:"text-par-n text-lab-sc"},O=["href"],Q={key:0,class:"p-4"},U={key:1,class:"block"},W={class:"flex-center h-96"};function X(t,s,p,l,n,Y){const b=o("PageTitle"),f=o("AvatarRightSided"),_=o("Border"),v=o("InfoListItem"),S=o("InfoList"),d=o("ModalRowButton"),T=o("PrimarySpinAnimation");return a(),u(c,null,[e("div",F,[i(b,{hasBack:!0,titleText:t.$t("settings.authorship")},null,8,["titleText"])]),t.state.isLoading?(a(),u("div",U,[e("div",W,[i(T)])])):(a(),u("div",V,[e("div",j,[e("h6",z,[h(r(t.$t("settings.forms.authorship.page_desc"))+". ",1),e("a",{target:"_blank",href:t.$getRoute("become_author"),class:"text-brand-900"},r(t.$t("labels.learn_more")),9,E)])]),e("div",x,[e("div",G,[i(f,{avatarSrc:t.userData.avatar_url,name:t.userData.name,verified:t.userData.verified,linkRoute:{name:"profile_index",params:{id:t.userData.username}},caption:t.userData.caption},null,8,["avatarSrc","name","verified","linkRoute","caption"]),e("div",H,[e("h3",J,r(t.$t("settings.forms.authorship.about_authorship.title")),1),e("p",K,[h(r(t.$t("settings.forms.authorship.about_authorship.line_one"))+" ",1),s[0]||(s[0]=e("br",null,null,-1)),s[1]||(s[1]=e("br",null,null,-1)),e("strong",null,[h(r(t.$t("settings.forms.authorship.about_authorship.line_two"))+" ",1),e("a",{target:"_blank",href:t.$getRoute("become_author"),class:"text-brand-900"},r(t.$t("labels.learn_more")),9,O)])])])]),i(_,{height:"h-3",opacity:"opacity-70"}),t.requestData.status==="authorized"?(a(),u("div",Q,[i(S,{listTitle:t.$t("settings.authorship")},{default:D(()=>[i(v,{iconName:"star-04",labelText:t.$t("settings.forms.authorship.authorized.title"),contentText:t.$t("settings.forms.authorship.authorized.desc")},null,8,["labelText","contentText"])]),_:1},8,["listTitle"])])):(a(),u(c,{key:1},[t.requestData.status==="not_requested"?(a(),m(d,{key:0,onClick:t.submitForm,disabled:t.state.isSubmitting,loading:t.state.isSubmitting,buttonText:t.$t("settings.forms.authorship.switch_to_author"),hasArrow:!0,iconName:"star-04"},null,8,["onClick","disabled","loading","buttonText"])):t.requestData.status==="pending"?(a(),m(d,{key:1,disabled:!0,buttonText:t.$t("settings.forms.authorship.request_pending"),hasArrow:!0,iconName:"star-04"},null,8,["buttonText"])):t.requestData.status==="rejected"?(a(),m(d,{key:2,buttonRole:"danger",disabled:!0,buttonText:t.$t("settings.forms.authorship.request_rejected"),hasArrow:!0,iconName:"star-04"},null,8,["buttonText"])):w("",!0)],64))])]))],64)}const it=k(M,[["render",X]]);export{it as default};
